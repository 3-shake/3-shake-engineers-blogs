<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>3-shake Engineers' Blogs</title>
        <link>https://blog.3-shake.com</link>
        <description>3-shake ã«æ‰€å±ã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚</description>
        <lastBuildDate>Tue, 01 Aug 2023 18:31:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ja</language>
        <image>
            <title>3-shake Engineers' Blogs</title>
            <url>https://blog.3-shake.com/og.png</url>
            <link>https://blog.3-shake.com</link>
        </image>
        <copyright>3-shake Inc.</copyright>
        <item>
            <title><![CDATA[gonew ã‚’ä½¿ã£ã¦ Go ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ´»ç”¨ã™ã‚‹]]></title>
            <link>https://zenn.dev/kou_pg_0131/articles/gonew-introduction</link>
            <guid>https://zenn.dev/kou_pg_0131/articles/gonew-introduction</guid>
            <pubDate>Tue, 01 Aug 2023 12:34:36 GMT</pubDate>
            <content:encoded><![CDATA[å…¬å¼ã‹ã‚‰ gonew ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚https://go.dev/blog/gonewhttps://pkg.go.dev/golang.org/x/tools/cmd/gonewgonew ã‚’ä½¿ã†ã“ã¨ã§æ—¢å­˜ã® Go ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã„ã€ç´ æ—©ãé–‹ç™ºã‚’å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ç¾æ™‚ç‚¹ã§å…¬å¼ã‹ã‚‰ã¯ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚hellohelloserverä»–ã«ã‚‚ Google Cloud ãƒãƒ¼ãƒ ã‚„ Service Weaver ãƒãƒ¼ãƒ ã‹ã‚‰ã‚‚æ§˜ã€…ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚GoogleCloudPlatform/go-...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[YugabyteDBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…¨éƒ¨èª­ã‚€ Day2]]></title>
            <link>https://nnaka2992.hatenablog.com/entry/reading_yugabytedb_docs_2</link>
            <guid>https://nnaka2992.hatenablog.com/entry/reading_yugabytedb_docs_2</guid>
            <pubDate>Wed, 26 Jul 2023 15:03:13 GMT</pubDate>
            <content:encoded><![CDATA[YugabyteDBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…¨éƒ¨èª­ã‚€ Day2å‰å›ã‹ã‚‰ã¤ã¥ã„ã¦YugabyteDBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§ã„ãã¾ã™ã€‚å‰å›ã¯Architecture > Design goalsã‚’èª­ã¿ã¾ã—ãŸã€‚ä»Šå›ã¯Architecture > Key Concepts > Universeã‚’èª­ã¿ã¾ã™ã€‚UniverseYugabyteDBã¯è€ä¹…æ€§ã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’å…¼ã­ããªãˆãŸåˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é”æˆã™ã‚‹ãŸã‚ã«ã€Universe1ã¨å‘¼ã°ã‚Œã‚‹ãƒãƒ¼ãƒ‰ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æŒã£ã¦ã„ã‚‹ã€‚Universeã¯ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®å…¼ã­åˆã„ã§ã‚·ãƒ³ã‚°ãƒ«ã‚¾ãƒ¼ãƒ³ã€å˜ä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒ«ãƒã‚¾ãƒ¼ãƒ³ã€ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã€åŒæœŸãƒ»éåŒæœŸãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚Univereã¯Clusterã¨è¡¨ç¾ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ã®æ§‹æˆUniverseã¯ä¸€ã¤ä»¥ä¸Šã®ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŒã¤ã“ã¨ãŒã§ãã€ã¾ãŸãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã¯ä¸€ã¤ä»¥ä¸Šã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹ã€‚YugabyteDBã§ã¯Universeä¸Šã«å­˜åœ¨ã™ã‚‹ãƒãƒ¼ãƒ‰ã«ã¾ãŸãŒã£ã¦ä¿æŒã•ã‚Œã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¨­å®šã«å¾“ã£ã¦ã€ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã‚’è¡Œãªã†ã€‚YugabyteDBã¯ãƒãƒ¼ãƒ‰ã‚„ãƒ‡ã‚£ã‚¹ã‚¯ã€ã‚¾ãƒ¼ãƒ³ãªã©ã«ç™ºç”Ÿã—ãŸéšœå®³ã«è‡ªå‹•ã§å¯¾å¿œã—ã€å¿…è¦ã§ã‚ã‚Œã°ãƒ‡ãƒ¼ã‚¿ã‚’æ–°è¦ã«åˆ†æ•£ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œãªã†ã€‚ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã¯YSQLã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¯¾å¿œã—ã€ã»ã‹ã®DBã«ãŠã‘ã‚‹ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã«å¯¾å¿œã™ã‚‹2ã€‚YCQLã§ã¯ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹ã«å¯¾å¿œã—ã€Cassandraã®ã‚­ãƒ¼ã‚¹ãƒšãƒ¼ã‚¹ã«å¯¾å¿œã—ã¦ã„ã‚‹ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆUniverseã¯YugabyteDB Tablet Server(YB-TServer)ã¨YugabyteDB Master Server(YB-Master)ã®äºŒã¤ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚YB-Masterã¨YB-TServerã¯Raftã«ã‚ˆã‚Šåˆ†æ•£ã•ã‚Œã¦ãŠã‚Šã€é«˜å¯ç”¨æ€§ã‚’é”æˆã—ã¦ã„ã‚‹ã€‚YB-Tserverã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å§‹ã‚ã¨ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã€æä¾›ã‚’æ‹…å½“ã™ã‚‹ã€‚YB-Masterã¯ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã™ã‚‹DDLã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å®Ÿè¡Œã€ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã¨ã„ã£ãŸã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹ã€‚Universeã¨ClusterUniverseã¯ä¸€ã¤ã®ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿ã¨ã‚¼ãƒ­å€‹ä»¥ä¸Šã®ãƒ¬ãƒ—ãƒªã‚«ã‚¯ãƒ©ã‚¹ã‚¿ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿ã¯Read/Writeä¸¡æ–¹ã®å®Ÿè¡Œã¨ã€ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒãƒ¼ãƒ‰é–“ã®åŒæœŸçš„ãªãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ‹…å½“ã™ã‚‹ã€‚ãƒªãƒ¼ãƒ‰ãƒ¬ãƒ—ãƒªã‚«ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ¼ãƒ‰ãƒ¬ãƒ—ãƒªã‚«ã‚¯ãƒ©ã‚¹ã‚¿ã¯Readå‡¦ç†ã®ã¿ã‚’å®Ÿè¡Œã™ã‚‹ã€‚Writeå‡¦ç†ã¯è‡ªå‹•çš„ã«ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã€‚ãƒªãƒ¼ãƒ‰ãƒ¬ãƒ—ãƒªã‚«ã‚¯ãƒ©ã‚¹ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€åœ°ç†çš„ã«åˆ†æ•£ã—ãŸãƒ‡ãƒ¼ã‚¿ã«å¯¾ã™ã‚‹èª­ã¿å–ã‚Šã®é…å»¶ã‚’å°ã•ãã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¯ãƒ©ã‚¹ã‚¿ã‹ã‚‰éåŒæœŸçš„ã«ã¨ã‚Šã“ã¾ã‚Œã‚‹ã€‚ã“ã‚Œã¯Raftã®æ›¸ãè¾¼ã¿ã«ã¯é–¢ä¸ã—ãªã„Raftã‚ªãƒ–ã‚¶ãƒ¼ãƒã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã€‚Googleã®Cloud Spannerã§ã‚‚åŒæ§˜ã«Universeã¨å‘¼ã°ã‚Œã¦ã„ã‚‹â†©PostgreSQLã§ã¯Schemaã®è£å´ã«å­˜åœ¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ â†©]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[YugabyteDBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…¨éƒ¨èª­ã‚€ Day1]]></title>
            <link>https://nnaka2992.hatenablog.com/entry/reading_yugabytedb_docs_1</link>
            <guid>https://nnaka2992.hatenablog.com/entry/reading_yugabytedb_docs_1</guid>
            <pubDate>Tue, 25 Jul 2023 15:01:52 GMT</pubDate>
            <content:encoded><![CDATA[Day1æœ€è¿‘Twitteræ”¹ã‚Xã§ã€Œä¿ºã¯DBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç«¯ã‹ã‚‰ç«¯ã¾ã§èª­ã‚“ã§å¼·ããªã£ãŸã€ã¨ã„ã†X's1ã‚’è¤‡æ•°ã¿ã‹ã‘ã¾ã—ãŸã€‚å‘¨ã‚Šã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ä¸€æ­©å·®ã‚’ã¤ã‘ã‚‹æ–¹æ³•ã¨ã—ã¦ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æœ€åˆã‹ã‚‰æœ€å¾Œã¾ã§ã¡ã‚ƒã‚“ã¨èª­ã‚€ã€ã¨ã„ã†ã®ãŒã‚ã£ã¦ã€ã“ã‚Œã¯ãƒã‚¸ã§ã‚³ã‚¹ãƒ‘æŠœç¾¤ã§ã™ã€‚â€” å¾³æ°¸åºƒå¤¢ (@tokuhirom) July 21, 2023 ç¢ºã‹ã«ç§ã®Redisã¯ã“ã‚Œã€‚ https://t.co/2y1E01aLGwâ€” maru (@maruloop) July 22, 2023 ç§ã®MySQLã‚‚ã“ã‚Œã€‚ https://t.co/BxiOjeQVPkâ€” yoku0825 (@yoku0825) July 22, 2023 ä¿ºã®postgresqlã‚‚ã“ã‚Œã€‚ https://t.co/URRjyXCpGIâ€” ããƒ¼ã ã„@åˆä»£ALF (@soudai1025) July 22, 2023 PostgreSQLç³»NewSQLã§æœ€å¼·ã«ãªã‚ŠãŸã„ã®ã§YugabyteDBã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é †ç•ªã«èª­ã‚“ã§è¡Œãã¾ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯v2.19ã«å¯¾å¿œã—ãŸã‚‚ã®ã§ã™ã€‚æ‰‹å§‹ã‚ã«Architectureã®ä¸€ç•ªå…ˆé ­ã«ã‚ã‚‹Design goalsã‹ã‚‰èª­ã¿ã¯ã˜ã‚ã¾ã™ã€‚Design goalsYugabyteDBã¯ä»¥ä¸‹ã‚’é”æˆã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã¨ã—ã¦ã„ã‚‹ã€‚1. åˆ†æ•£ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ãªãŒã‚‰å¼·ã„ä¸€è²«æ€§ã‚’ä¿è¨¼ã™ã‚‹ã€‚2. Query APIã‚’å†ç™ºæ˜ã›ãšã€æ—¢å­˜ã®ã‚¯ã‚¨ãƒªè¨€èªã¸ã®äº’æ›ã‚’é”æˆã™ã‚‹ã€‚3. é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ä¿è¨¼ã™ã‚‹ã€‚4. åœ°ç†çš„ã«åˆ†æ•£ã—ãŸãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚5. Cloud Native Databaseã¨ã—ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹ã€‚ä¸€è²«æ€§åˆ†æ–­è€æ€§YugabyteDBã¯CAPã®å®šç†ã§è¨€ãˆã°CPã‚’ä¸­å¿ƒã«é«˜ã„å¯ç”¨æ€§ã‚’ä¾›ãˆãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ–­ãªã©ã‚’èµ·å› ã¨ã™ã‚‹Split Brainã¯Raft Groupå†…ã§ã‚ãŸã‚‰ã—ã„ãƒªãƒ¼ãƒ€ãƒ¼ã‚’é¸å‡ºã™ã‚‹ã“ã¨ã§å¯¾å¿œã—ã¦ã„ã‚‹ã€‚YugabyteDBã§ã¯Leader Leaseã¨ã„ã†éšœå®³ãŒç™ºç”Ÿã—ã¦ã‚‚å¸¸ã«ä¸€ã¤ã®ãƒªãƒ¼ãƒ€ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã€‚ç›´åˆ—åŒ–å¯èƒ½æ€§single-row Linearizable writeã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚ACIDãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³YugabyteDBã§ã¯Seriarizableã€Repetable Readã€Read Committed Isolationã®ä¸‰ã¤ã®åˆ†é›¢ãƒ¬ãƒ™ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚YSQL APIã§ã¯ã“ã‚Œã‚‰3ã¤ã®åˆ†é›¢ãƒ¬ãƒ™ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ãŒã€YCQLã§ã¯Repeatable Readã®ã¿ã«å¯¾å¿œã—ã¦ã„ã‚‹ã€‚Query APIYugabyteDBã§ã¯YSQLã¨YCQLã¨ã„ã†2ç¨®é¡ã®Query APIã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚YSQLYSQLã¯PostgreSQLã«äº’æ›ã—ãŸAPIã§PostgreSQLã®ã‚¯ã‚¨ãƒªãƒ¬ã‚¤ãƒ¤ã‚’å†åˆ©ç”¨ã—ã¦ã„ã‚‹ã€‚æ–°ã—ã„å¤‰æ›´ã¯äº’æ›æ€§ã‚’å´©ã•ãªã„ã€‚YSQLã¯æ–°ã—ã„PostgreSQLã«äº’æ›ã—ã¤ã¥ã‘ã‚‹ã“ã¨ã‚’ç›®æ¨™ã¨ã—ã¦ã„ã‚‹ã€‚YCQLYCQLã¯Cassandraã®ã‚¯ã‚¨ã‚¤è¨€èªã‹ã‚‰æ´¾ç”Ÿã—ãŸåŠãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãªã‚¯ã‚¨ãƒªè¨€èªã§ã€Webã‚¹ã‚±ãƒ¼ãƒ«ãªè†¨å¤§ãªwriteã«å¯¾å¿œã—ã¦ã‚¹ã‚±ãƒ¼ãƒ«ã—ç´ æ—©ã„ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ç›®æ¨™ã¨ã—ã¦ã„ã‚‹ã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹C++ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŸã‚é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å·¨å¤§ãªHeap(RAM)ã‚’Cacheã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã€‚SSDã¨NVMeã«æœ€é©åŒ–ã—ã¦ã„ã‚‹ã€‚é«˜ã„Writeã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åŒæ™‚å®Ÿè¡Œæ€§ã€é«˜ã„ãƒ‡ãƒ¼ã‚¿å¯†åº¦ã€å¢—åŠ ã—ç¶šã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ã¸ã®å¯¾å¿œã‚’ç›®æ¨™ã¨ã—ã¦ã„ã‚‹ã€‚åœ°ç†çš„åˆ†æ•£Zoneã€Multi Regionã€Multi Cloudã„ãšã‚Œã«ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ã€‚ã“ã‚Œã«å¯¾å¿œã™ã‚‹ãŸã‚ã«ã€ãƒãƒ¼ãƒ‰éšœå®³ã‚„ãƒˆãƒ©ãƒ’ãƒƒã‚¯ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãªã©ã«å¯¾å¿œã§ãã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã‚„ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã§åˆ©ç”¨ã•ã‚Œã‚‹ä¸€èˆ¬ã¦ããªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã§åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ã€‚åŸå­æ™‚è¨ˆã®ã‚ˆã†ãªç‰¹åˆ¥ãªã‚‚ã®ã«ä¾å­˜ã—ãªã„ã€‚Kubernatesã«å¯¾å¿œã—ã¦ã„ã‚‹ã€‚OSSã§æä¾›ã—ã¦ã„ã‚‹ã€‚https://twitter.com/SawyerMerritt/status/1683365478582951936â†©]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Terraformã§mapã«keyãŒå«ã¾ã‚Œãªã„ã¨ãã«ã‚¹ã‚­ãƒƒãƒ—ã—ãŸã„]]></title>
            <link>https://zenn.dev/nnaka2992/articles/skip_when_key_does_not_exists_in_map_terraform</link>
            <guid>https://zenn.dev/nnaka2992/articles/skip_when_key_does_not_exists_in_map_terraform</guid>
            <pubDate>Sat, 22 Jul 2023 14:53:12 GMT</pubDate>
            <content:encoded><![CDATA[Google Cloudã§ã¯Public IPã‚’åˆ©ç”¨ã—ãŸéš›ã«å‰²ã‚ŠæŒ¯ã‚‰ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹CIDRã®ä¸€è¦§ãŒcloud.jsonã§JSONå½¢å¼ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã¯é›‘ãªæ¤œè¨¼ç”¨ã®Terraformã§æ‰¿èªæ¸ˆã¿ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«asia-notheast1ã®CIDRã‚’å…¨éƒ¨ç™»éŒ²ã—ã¦ã‚„ã‚ã†ã¨ã—ãŸã¨ãã€ä¸Šè¨˜ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰scopeãŒasia-northeast1ã®prefixes.ipv4Prefixã‚’æŠœãã ãã†ã¨ã—ãŸã¨ãã«ãƒãƒã£ãŸã®ã§ãã®å¯¾å¿œæ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ çµè«–ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§æ›¸ã„ãŸã‚‰å¯¾å¿œã§ãã¾ã—ãŸã€‚contains(keys(hoge), "fuga") # hogeã®keyã«h...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Four Keys ã¨ã¯ï¼Ÿè€ƒãˆæ–¹ã‹ã‚‰å°å…¥ã¾ã§å¾¹åº•æ¤œè¨¼ã—ã¦ã¿ãŸ]]></title>
            <link>https://sreake.com/blog/learn-about-four-keys/</link>
            <guid>https://sreake.com/blog/learn-about-four-keys/</guid>
            <pubDate>Fri, 21 Jul 2023 09:56:19 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã« Sreakeäº‹æ¥­éƒ¨ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚’ã—ã¦ã„ã‚‹æ‘å±±ã§ã™ã€‚ç§ã¯ä»¥å‰ã«ã€2022å¹´ã®Accelerate State of DevOps Reportã«ã¤ã„ã¦èª¿æŸ»ã‚’è¡Œã„ã¾ã—ãŸã€‚DevOps Reportã§ã¯ã€Four K [â€¦]The post Four Keys ã¨ã¯ï¼Ÿè€ƒãˆæ–¹ã‹ã‚‰å°å…¥ã¾ã§å¾¹åº•æ¤œè¨¼ã—ã¦ã¿ãŸ first appeared on sreake.com | æ ªå¼ä¼šç¤¾ã‚¹ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯.]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Kubernetes ã® upstream ã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—]]></title>
            <link>https://zenn.dev/toversus/articles/52b107ab103712</link>
            <guid>https://zenn.dev/toversus/articles/52b107ab103712</guid>
            <pubDate>Thu, 20 Jul 2023 10:18:32 GMT</pubDate>
            <content:encoded><![CDATA[å…ˆæ—¥ã€Kubernetes Meetup Tokyo #59 ã§ã€ŒKEP ã‹ã‚‰çœºã‚ã‚‹ Kubernetesã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™ºè¡¨ã—ã¾ã—ãŸã€‚ç™ºè¡¨ã®å¾Œã§ Kubernetes ã® upstream ã®ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—æ–¹æ³•ã«ã¤ã„ã¦è³ªå•ã‚’å—ã‘ã¾ã—ãŸã€‚ãã®å ´ã§å›ç­”ã¯ã—ãŸã®ã§ã™ãŒã€ã¡ã‚‡ã†ã©ç¤¾å†…ã®å…±æœ‰ä¼šã§ä¼¼ãŸã‚ˆã†ãªè©±ã‚’ã—ãŸã¨ã“ã‚ã ã£ãŸã®ã§ã€åŠ ç­†ä¿®æ­£ã—ãŸã‚‚ã®ã‚’å…¬é–‹ã—ã¦ãŠãã¾ã™ã€‚ ã¯ã˜ã‚ã«Kubernetes ã® upstream ã‚’è¿½ã„ã‹ã‘å§‹ã‚ã¦ 1 å¹´ã¡ã‚‡ã£ã¨çµŒã£ãŸã®ã§ã€ãã®çµŒé¨“ã‚’ã¾ã¨ã‚ã¾ã™ã€‚Kubernetes ã® upstream ã‚„ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’è¦³å¯Ÿã—ã¦ã„ã‚‹ã ã‘ã§ã€ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ã§ã¯ã‚ã‚Šã¾...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[CLIã®å®Ÿè¡Œçµæœã‚’æ­£ã—ãç†è§£ã™ã‚‹ã“ã¨ã‚’ä¿ƒã™ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚]]></title>
            <link>https://syu-m-5151.hatenablog.com/entry/2023/07/19/162657</link>
            <guid>https://syu-m-5151.hatenablog.com/entry/2023/07/19/162657</guid>
            <pubDate>Wed, 19 Jul 2023 07:26:57 GMT</pubDate>
            <content:encoded><![CDATA[æ¦‚è¦AIã®æŠ€è¡“ã¯ç›®è¦šã¾ã—ã„é€²æ­©ã‚’é‚ã’ã¦ã„ã¾ã™ã€‚ç‰¹ã«è‡ªç„¶è¨€èªå‡¦ç†ï¼ˆNLPï¼‰ã®åˆ†é‡ã§ã¯ã€GPT-4ã®ã‚ˆã†ãªãƒ¢ãƒ‡ãƒ«ãŒäººé–“ã«è¿‘ã„ãƒ¬ãƒ™ãƒ«ã§æ–‡ç« ã‚’ç†è§£ã—ã€ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®ãƒ¢ãƒ‡ãƒ«ã‚’æ—¥ã€…ã®æ¥­å‹™ã‚„ä½œæ¥­ã«ã©ã®ã‚ˆã†ã«æ´»ç”¨ã™ã‚Œã°ã‚ˆã„ã®ã‹ã€å¤šãã®äººã€…ãŒã¾ã æ‰‹æ¢ã‚Šã®çŠ¶æ…‹ã§ã™ã€‚ä¸€æ–¹ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã‚„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã«ã¨ã£ã¦é‡è¦ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ã‚’èª¿ã¹ãŸã‚Šã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ãŸã‚ã«ã¯ã€ã“ã‚Œã‚‰ã§åˆ©ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ç†è§£ã¨ãã‚Œã‚‰ã‚’ååˆ†ã«ä½¿ã„ã“ãªã™ã“ã¨ãŒå¿…è¦ã§ã™ã€‚netflixtechblog.comã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆã§ã‚‚ä½•ã§ã‚‚ãªãé‹ç”¨ã§åˆ©ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯LinuCãªã©ã‚‚ã‚ã‚‹ã®ã§æ•™æã‚’èª­ã‚€ã ã‘ã§ã‚‚ãŠã™ã™ã‚ã—ãŸã„ã€‚linuc.orgã§ã¯ã€AIãŒã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœã‚’ç†è§£ã—ã€ãã‚Œã‚’äººé–“ãŒã‚ˆã‚Šç†è§£ã—ã‚„ã™ã„å½¢ã§èª¬æ˜ã™ã‚‹ã“ã¨ãŒã§ããŸã‚‰ã€ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿã“ã“ã§ã€AICommandã‚’ç´¹ä»‹ã—ã¾ã™ã€‚AICommandã¯ã€ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å®Ÿè¡Œã¨ãã®çµæœã®è§£é‡ˆã‚’çµ±åˆã—ãŸãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€AIã®åŠ›ã‚’å€Ÿã‚Šã¦ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœã‚’ç†è§£ã™ã‚‹æ–°ã—ã„è©¦ã¿ã§ã™ã€‚ä»Šå›ã®è¨˜äº‹ã§ã¯ã€ã“ã®AICommandã«ã¤ã„ã¦è©³ã—ãè¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã¨ãã®çµæœã‚’OpenAIã®GPTãƒ¢ãƒ‡ãƒ«ã«çµæœã‚’é€ä¿¡ã—è§£èª¬ã‚’è¦æ±‚ã™ã‚‹Goè£½CLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã®å‡¦ç†çŠ¶æ³ã‚‚è¦–è¦šçš„ã«è¡¨ç¤ºã—ã¾ã™ã€‚ pic.twitter.com/5q6jqyWbsxâ€” nwiizo (@nwiizo) 2023å¹´7æœˆ18æ—¥  AICommandã®ç´¹ä»‹AICommandã¯ã€ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœã‚’äººé–“ãŒç†è§£ã—ã‚„ã™ã„å½¢ã«è§£é‡ˆã™ã‚‹ãŸã‚ã®æ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚OpenAIã®å¼·åŠ›ãªè‡ªç„¶è¨€èªå‡¦ç†ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã‚’è©³ç´°ã«è§£æã—ã€ãã®çµæœã‚’èª¬æ˜ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¤‡é›‘ãªã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œçµæœã‚‚ã€éå°‚é–€å®¶ã§ã‚‚ç°¡å˜ã«ç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚github.comã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯éå¸¸ã«å¼·åŠ›ã§ã€ã‚·ã‚¹ãƒ†ãƒ ã®ç®¡ç†ã‚„ãƒ‡ãƒ¼ã‚¿ã®åˆ†æã«ã¯æ¬ ã‹ã›ãªã„ãƒ„ãƒ¼ãƒ«ã§ã™ãŒã€ãã®çµæœã‚’æ­£ã—ãç†è§£ã™ã‚‹ã«ã¯å°‚é–€çŸ¥è­˜ãŒå¿…è¦ã§ã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„ã¨ã„ã†èª²é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€AICommandã‚’ä½¿ãˆã°ã€ãã®ãƒãƒ¼ãƒ‰ãƒ«ãŒå¤§ããä¸‹ãŒã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸçµæœã‚’ã€AIãŒè§£é‡ˆã—ã€é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¦ãã‚Œã¾ã™ã€‚ã•ã‚‰ã«ã€ãã®çµæœãŒã©ã†ã„ã†æ„å‘³ã‚’æŒã¤ã®ã‹ã€ä½•ãŒåŸå› ã§ãã†ãªã£ãŸã®ã‹ã¨ã„ã£ãŸæƒ…å ±ã‚‚æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ã€AICommandã¯ã€AIã®èƒ½åŠ›ã‚’åˆ©ç”¨ã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®åˆ©ç”¨ã‚’ã‚ˆã‚Šæ‰‹è»½ã§ã€ã‚ˆã‚Šç†è§£ã—ã‚„ã™ã„ã‚‚ã®ã«å¤‰ãˆã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…ã‚„ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã ã‘ã§ãªãã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã™ã¹ã¦ã®äººã€…ã«ã¨ã£ã¦ã€æ–°ãŸãªå¯èƒ½æ€§ã‚’åºƒã’ã‚‹ãƒ„ãƒ¼ãƒ«ã¨ãªã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚option ã§æ—¥æœ¬èªã«ã‚‚å¯¾å¿œã—ã¦ã¾ã™ã€‚ pic.twitter.com/AkEHh5syPxâ€” nwiizo (@nwiizo) 2023å¹´7æœˆ19æ—¥  Setup ğŸ”§AICommandã¯Goè¨€èªã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŸã‚ã€Goã®é–‹ç™ºç’°å¢ƒãŒå¿…è¦ã§ã™ã€‚ã¾ãšã€GoãŒã¾ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€å…¬å¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦Goã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚Install aicommandGoãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‚‰ã€æ¬¡ã«AICommandã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚go install github.com/nwiizo/aicommand@latestSet the your_api_keyAICommandã¯OpenAIã®GPTãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã®ã§ã€OpenAIã®APIã‚­ãƒ¼ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚OpenAIã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã¦APIã‚­ãƒ¼ã‚’å–å¾—æ¸ˆã¿ã®å ´åˆã¯ã€ãã®APIã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã¾ã APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ã„ãªã„å ´åˆã¯ã€OpenAIã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚APIã‚­ãƒ¼ã‚’å–å¾—ã—ãŸã‚‰ã€ãã®ã‚­ãƒ¼ã‚’ç’°å¢ƒå¤‰æ•° OPENAI_API_KEYã«è¨­å®šã—ã¾ã™ã€‚è¨­å®šæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼šexport OPENAI_API_KEY=your_api_keyUsage â³ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œã¨ãã®çµæœã®è§£é‡ˆã‚’è¡Œã†ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã« execute ã‚³ãƒãƒ³ãƒ‰ã«ç¶šã‘ã¦å®Ÿè¡Œã—ãŸã„ã‚³ãƒãƒ³ãƒ‰ã‚’å¼•æ•°ã¨ã—ã¦ä¸ãˆã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ã¯(ãƒ€ãƒ–ãƒ«)ã‚¯ã‚ªãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›²ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚aicommand execute "your-shell-command"ãŸã¨ãˆã°ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ãƒªã‚¹ãƒˆã™ã‚‹ ls -la ã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’è§£é‡ˆã•ã›ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚aicommand execute "ls -la"ã™ã‚‹ã¨ã€AICommandã¯ ls -la ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãã®çµæœã‚’è§£é‡ˆã—ã¦äººé–“ãŒç†è§£ã—ã‚„ã™ã„å½¢ã§èª¬æ˜ã—ã¾ã™ã€‚ã¾ãŸã€è§£é‡ˆçµæœã®è¨€èªã‚’æŒ‡å®šã—ãŸã„å ´åˆã¯ã€ --language ã¾ãŸã¯-lã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ç¾åœ¨ã€è‹±èªï¼ˆenï¼‰ã¨æ—¥æœ¬èªï¼ˆjaï¼‰ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨€èªã¯è‹±èªã§ã™ã€‚aicommand execute --language ja "ls -la"ã•ã‚‰ã«ã€ä½¿ç”¨ã™ã‚‹GPTãƒ¢ãƒ‡ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚ã“ã‚Œã¯ --model ã¾ãŸã¯ -m ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ gpt-3.5-turbo ã§ã™ã€‚aicommand execute --model gpt-3.5-turbo "ls -la"ã“ã‚Œã§AICommandã®åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµæœã®è§£é‡ˆãŒã“ã‚Œã¾ã§ä»¥ä¸Šã«æ‰‹è»½ã«ãªã‚Šã€ã‚ˆã‚Šæ·±ã„ç†è§£ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚AICommandã®å¯èƒ½æ€§ğŸ¤–AICommandã¯ã€ç§ãŸã¡ãŒæ™®æ®µåˆ©ç”¨ã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’OpenAIã®GPTãƒ¢ãƒ‡ãƒ«ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§æ–°ãŸãªå¯èƒ½æ€§ã‚’ç”Ÿã¿å‡ºã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€è¤‡é›‘ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸçµæœã®æ„å‘³ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒå›°é›£ãªå ´åˆã‚„ã€ãƒ­ã‚°ã®è§£æã€ãƒ‡ãƒ¼ã‚¿åˆ†æãªã©ã§çµæœã‚’ã‚ˆã‚Šæ·±ãç†è§£ã™ã‚‹ãŸã‚ã®æ‰‹åŠ©ã‘ã¨ãªã‚Šã¾ã™ã€‚ã¾ãŸã€æ§˜ã€…ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œçµæœã‚’äººé–“ãŒç†è§£ã§ãã‚‹å½¢ã§èª¬æ˜ã—ã¦ãã‚Œã‚‹ãŸã‚ã€ãƒ‡ãƒãƒƒã‚°ã‚„ã‚¨ãƒ©ãƒ¼è§£æã®ä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚AICommandã‚’åˆ©ç”¨ã™ã‚Œã°ã€ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªçŸ¥è­˜ãŒãªãã¦ã‚‚ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹æƒ…å ±ã‚’ç†è§£ã—ã‚„ã™ããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚çµè«–ğŸ¦¾AICommandã¯ã€AIã¨CLIï¼ˆCommand Line Interfaceï¼‰ã®æ¶ã‘æ©‹ã¨ãªã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€ã“ã®2ã¤ã®å¼·åŠ›ãªãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€æœªçŸ¥ã®èª²é¡Œã«å¯¾ã—ã¦æ–°ãŸãªè¦–ç‚¹ã‚’æä¾›ã—ã¾ã™ã€‚ã•ã¾ã–ã¾ãªãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹æƒ…å ±ã‚’ã‚ˆã‚Šå®¹æ˜“ã«ç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã§ã€ã“ã‚Œã¾ã§æ‰‹ãŒå‡ºã›ãªã‹ã£ãŸå•é¡Œã«å–ã‚Šçµ„ã‚€æ‰‹åŠ©ã‘ã‚’ã—ã¦ãã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚ã—ã‹ã—ã€ãã®ä¸€æ–¹ã§ã€AICommandã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å‡ºåŠ›ã‚’äººé–“ãŒç†è§£ã§ãã‚‹å½¢ã§è§£é‡ˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ãŸã‚ã€ãã®è§£é‡ˆã¯çµ¶å¯¾çš„ãªçœŸå®Ÿã‚’è¡¨ã™ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚AICommandã®è§£é‡ˆçµæœã¯å‚è€ƒã®ä¸€ã¤ã¨è€ƒãˆã€æœ€çµ‚çš„ãªæ„æ€æ±ºå®šã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã®åˆ¤æ–­ã«ä»»ã›ã‚‹ã¹ãã§ã™ã€‚ä»¥ä¸Šã®ã“ã¨ã‚’å¿µé ­ã«ç½®ã„ã¦ã€AICommandã‚’æ´»ç”¨ã™ã‚Œã°ã€æ–°ãŸãªè¦–ç‚¹ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®ä¸–ç•Œã‚’æ¢ç´¢ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«ChatGPTã¯ä½¿ãˆã‚‹ã®ã‹ï¼Ÿâ€•â€•è¨­è¨ˆã‹ã‚‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¾ã§AIã®é™ç•Œã‚’æ¢ã‚‹ä½œè€…:å°é‡ å“²æŠ€è¡“è©•è«–ç¤¾AmazonCloudNative Days Fukuoka 2023 ã«ã¦ç™»å£‡ä½™è«‡ãªã®ã§ã™ãŒ"k8sgpt Deep Dive: Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ã®AIé§†å‹•å‹åˆ†æã«ã¤ã„ã¦â€ ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™»å£‡ã‚’è¡Œã„ã¾ã™ã€‚event.cloudnativedays.jpå‚è€ƒAIæ™‚ä»£ã«å‘ã‘ãŸã‚¯ãƒ©ã‚¦ãƒ‰ã«ãŠã‘ã‚‹ä¿¡é ¼æ€§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®æœªæ¥æ§‹æƒ³ / DICOMO2022 6A-1AICommand GitHubãƒªãƒã‚¸ãƒˆãƒªOpenAIsashabaranov/go-openai]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æˆç†Ÿåº¦ãƒ¢ãƒ‡ãƒ«ã‚’æ´»ç”¨ã—ãŸCloud Nativeã¸ã®é“ç­‹ ã¨ã„ã†å‰¯é¡Œã§ç™»å£‡ã—ã¾ã™ #é–‹ç™ºç”Ÿç”£æ€§con_findy]]></title>
            <link>https://syu-m-5151.hatenablog.com/entry/2023/07/13/131433</link>
            <guid>https://syu-m-5151.hatenablog.com/entry/2023/07/13/131433</guid>
            <pubDate>Thu, 13 Jul 2023 04:14:33 GMT</pubDate>
            <content:encoded><![CDATA[æ¦‚è¦é–‹ç™ºç”Ÿç”£æ€§Conferenceã¨ã„ã†ã‚¤ãƒ™ãƒ³ãƒˆã«ã€Cloud Native ã®ä½œæ³• - æˆç†Ÿåº¦ãƒ¢ãƒ‡ãƒ«ã‚’æ´»ç”¨ã—ãŸCloud Nativeã¸ã®é“ç­‹ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™»å£‡ã—ã¾ã—ãŸã€‚ç”Ÿç”£æ€§ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆãªã‚“ã§ã™ã‘ã©ç¾å ´ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ã‚„ã£ã¦ã„ã‚‹åƒ•ã«ã¯é–‹ç™ºç”Ÿç”£æ€§ã«ã¤ã„ã¦èªã‚‹ã“ã¨ã£ã¦ã‚ã‚“ã¾ã‚Šãªã„ã‚ˆã†ãªãƒ¼ã£ã¦æ€ã„ãªãŒã‚‰æœ€è¿‘ã€æˆç†Ÿåº¦ãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦èª¿ã¹ã¦ã„ãŸã®ã§ã“ã®ã‚¿ã‚¤ãƒˆãƒ«ã«ã—ã¾ã—ãŸã€‚é€”ä¸­ã§é–‹ç™ºç”Ÿç”£æ€§ã«ã¤ã„ã¦èªã‚‹ã®ã‚’è«¦ã‚ã¦ã‚¬ãƒƒãƒ„ãƒªè³‡æ–™ã‚’ä½œã‚Šç›´ã—ã¾ã—ãŸã®ã§ç”Ÿæš–ã‹ãè¦‹å®ˆã£ã¦ãã ã•ã„ã€‚ã‚ã¨ã€ã¡ã‚‡ã£ã¨å‰ã«æ›¸ç±ã‚’é€ã£ã¦é ‚ãã¾ã—ãŸãŒğŸ“– Twitter ã§ã®å‘ŠçŸ¥ã‚’å¿˜ã‚Œã¦ã„ãŸã®ã§ã—ã¦ãŠãã¾ã™ã€‚èª­ã‚“ã æ„Ÿæƒ³ã¨ã—ã¦ã¯å…¥é–€æ›¸ã§ã¯æ±ºã—ã¦ãªã„ã§ã™ãŒæˆç†Ÿåº¦ãƒ¢ãƒ‡ãƒ«ã§ã„ã†ã¨ãƒ¬ãƒ™ãƒ«2ã®æ®µéšã§ã¯èª­ã‚“ã§ã»ã—ã„ã¨æ€ã†æ›¸ç±ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€è±Šå¯Œã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã®ãƒªãƒ³ã‚¯ãŒè²¼ã£ã¦ã‚ã‚‹ã®ã§Kubernetesã¨ã„ã†è’é‡ã«é“ã‚’ç¤ºã™åœ°å›³ã«ãªã‚‹ã¨æ€ã„ã¾ã™(ã“ã®æ–‡ç« ã¯ChatGPTã§ã¯ãªãä¿ºãŒç”Ÿæˆã—ãŸ)ã€‚Kubernetesã®çŸ¥è­˜åœ°å›³ â€”â€” ç¾å ´ã§ã®åŸºç¤ã‹ã‚‰æœ¬ç•ªé‹ç”¨ã¾ã§ä½œè€…:é’å±± çœŸä¹Ÿ,å°ç«¹ æ™ºå£«,é•·è°·å· èª ,å·éƒ¨ å‹ä¹Ÿ,å²©äº• ä½‘æ¨¹,æ‰æµ¦ æ™ºåŸºæŠ€è¡“è©•è«–ç¤¾Amazonè³‡æ–™ç™»å£‡è³‡æ–™ã«ãªã‚Šã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ã‚°ã®ç›®çš„ã¯å‚è€ƒè³‡æ–™ã‚’ã„ã¡ã„ã¡æ¢ã•ãªãã¦ã„ã„ã‚ˆã†ã«ã‚ã‚Šã¾ã™ã®ã§ã”æ´»ç”¨ãã ã•ã„ã€‚ speakerdeck.comå‚è€ƒæ–‡çŒ®Cloud Native Maturity ModelCloud Native TransformationDesign Patterns for Cloud Native ApplicationsIntro to the Cloud Native Maturity Model - Danielle Cook, Simon Forster, Robbie Glenn & John FormanSRE ã‚µã‚¤ãƒˆãƒªãƒ©ã‚¤ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãŒâ€ã‚¶ãƒƒã‚¯ãƒªâ€ã€Œã™ã£ãã‚Šã€åˆ†ã‹ã‚‹æœ¬: GoogleãŒå®Ÿè·µã—ã¦ã„ã‚‹æ–°DevOpsæ–¹æ³•è«–SRE ã‚µã‚¤ãƒˆãƒªãƒ©ã‚¤ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã‚µã‚¤ãƒˆãƒªãƒ©ã‚¤ã‚¢ãƒ“ãƒªãƒ†ã‚£ãƒ¯ãƒ¼ã‚¯ãƒ–ãƒƒã‚¯Cloud Nativeæˆç†Ÿåº¦ãƒ¢ãƒ‡ãƒ«ãŒWebå…¬é–‹ã•ã‚Œã¾ã—ãŸWhat's the Difference Between DevOps and SRE?Solving Reliability Fears with Site Reliability EngineeringReliability When Everything Is a Platform: Why You Need to SRE Your CustomersThe History of DevOps ReportsEffective DevOpsPlatformÂ Engineeringã¸ã®æ‹›å¾…Platform Team ã¨ ç¤¾å†…æ”¿æ²» ã€œ å‡ºã§ã‚ˆã€Platform Champion ã€œ / Platform Team and Internal Politics - Platform Engineering MeetupÂ #2Platform Engineering atÂ MercariEMPOWERED æ™®é€šã®ãƒãƒ¼ãƒ ãŒä¸¦å¤–ã‚ŒãŸè£½å“ã‚’ç”Ÿã¿å‡ºã™ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã®ã™ã¹ã¦ äº‹æ¥­æˆ¦ç•¥ãƒ»ITé–‹ç™ºãƒ»UXãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‹ã‚‰ãƒãƒ¼ãƒ ãƒ»çµ„ç¹”é‹å–¶ã¾ã§æ­£ã—ã„ã‚‚ã®ã‚’æ­£ã—ãã¤ãã‚‹ã€€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ã¤ãã‚‹ã¨ã¯ã©ã†ã„ã†ã“ã¨ãªã®ã‹ã€ã‚ã‚‹ã„ã¯ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã®ãã®å…ˆã«ã¤ã„ã¦ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°çµ„ç¹”è«–ã¸ã®æ‹›å¾…ã€€ï½ä¸ç¢ºå®Ÿæ€§ã«å‘ãåˆã†æ€è€ƒã¨çµ„ç¹”ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[OpenAI APIã‚’åˆ©ç”¨ã—ã¦ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã®æ¨©é™è¦ç´„ã‚’ã—ã¦ãã‚Œã‚‹CLIã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ãŸ]]></title>
            <link>https://sreake.com/blog/summarize-permission-with-openai/</link>
            <guid>https://sreake.com/blog/summarize-permission-with-openai/</guid>
            <pubDate>Tue, 11 Jul 2023 07:01:52 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã« Sreakeäº‹æ¥­éƒ¨ã®æ©‹æœ¬ã§ã™ã€‚å‰å›ã®è¨˜äº‹ã‹ã‚‰å¼•ãç¶šãã€OpenAIã®GPTãƒ¢ãƒ‡ãƒ«ã‚’åˆ©ç”¨ã—ã¦DevOpsã€SREã®é ˜åŸŸã§ã®text AIã®æœ‰åŠ¹æ´»ç”¨ã‚’è€ƒãˆã¦ã„ãã¾ã™ã€‚ é‹ç”¨ã®è‡ªå‹•åŒ–ã€æ§‹ç¯‰æ”¯æ´ãªã©ã«æ´»ç”¨ã§ãã‚‹ã¨å¬‰ã—ã„ [â€¦]The post OpenAI APIã‚’åˆ©ç”¨ã—ã¦ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã®æ¨©é™è¦ç´„ã‚’ã—ã¦ãã‚Œã‚‹CLIã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ãŸ first appeared on sreake.com | æ ªå¼ä¼šç¤¾ã‚¹ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯.]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ãƒ¡ãƒ¼ãƒ«ãŒå±Šã„ãŸã‚‰ Google Home ã§éŸ³å£°ã§é€šçŸ¥ã™ã‚‹]]></title>
            <link>https://blog.1q77.com/2023/07/ses-lambda-and-cloud-pubsub/</link>
            <guid>https://blog.1q77.com/2023/07/ses-lambda-and-cloud-pubsub/</guid>
            <pubDate>Mon, 10 Jul 2023 14:25:35 GMT</pubDate>
            <content:encoded><![CDATA[ä»¥å‰ã€ã€Œ LINE ã«é€ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ Google Home ã«èª­ã¿ä¸Šã’ã•ã›ã‚‹ã€ã¨ã„ã†è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚ ãã®æ™‚ã«ä½œã£ãŸã‚‚ã®ã«å®¶ã«ã‚ã‚‹ãƒ©ã‚ºãƒ‘ã‚¤ã§ Cloud PubSub ã‚’ subscribe ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã„ãŸã‚‰ãã®å†…å®¹ã‚’ Text-to-Speach ã§]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ã€TerraformğŸ§‘â€ğŸš€ã€‘tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆè¨­è¨ˆ]]></title>
            <link>https://hiroki-hasegawa.hatenablog.jp/entry/2023/07/05/001756</link>
            <guid>https://hiroki-hasegawa.hatenablog.jp/entry/2023/07/05/001756</guid>
            <pubDate>Tue, 04 Jul 2023 15:17:56 GMT</pubDate>
            <content:encoded><![CDATA[ã“ã®è¨˜äº‹ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹çŸ¥è­˜01. ã¯ã˜ã‚ã«02. ãªãœ tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ã®ã‹åˆ†å‰²ã—ã¦ã„ãªã„å ´åˆåˆ†å‰²ã—ã¦ã„ã‚‹å ´åˆ03. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²åˆ†å‰²ã®å¢ƒç›®çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾å­˜é–¢ä¿‚å›³ã¨ã¯ä¾å­˜é–¢ä¿‚ã®è¡¨ç¾â–¼ ä¾å­˜é–¢ä¿‚ã®è¡¨ç¾è¨˜æ³•â–¼ ä¾å­˜é–¢ä¿‚ãŒãªã„å ´åˆâ–¼ ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆ04. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ããã®ä»–ã®è¨­è¨ˆãƒªãƒã‚¸ãƒˆãƒª ğŸ­ ã®è¨­è¨ˆãƒªãƒã‚¸ãƒˆãƒªåˆ†å‰²ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ ğŸ“‚ æ§‹æˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ ğŸª£ ã®è¨­è¨ˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ†å‰²ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆ05. çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ã®å®šç¾©æ–¹æ³•terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã®å ´åˆterraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã«ã‚ˆã‚‹ä¾å­˜çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆAWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ã«ã‚ˆã‚‹ä¾å­˜çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆ06. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³æ¦‚è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¨ã®é–¢ä¿‚ã«ã¤ã„ã¦ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆ07. ä¸Šå±¤ã®åˆ†å‰² (å¿…é ˆ)ä¸Šå±¤ã®åˆ†å‰²ã«ã¤ã„ã¦ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆ08. ä¸‹å±¤ã®åˆ†å‰² (å¿…é ˆ)ä¸‹å±¤ã®åˆ†å‰²ã«ã¤ã„ã¦å®Ÿè¡Œç’°å¢ƒåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ x AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«ç•°ãªã‚‹å®Ÿè¡Œç’°å¢ƒ ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ x å˜ä¸€ã®AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã«å…¨ã¦ã®å®Ÿè¡Œç’°å¢ƒ ã®å ´åˆ09. ä¸­é–“å±¤ã®åˆ†å‰² (ä»»æ„)ä¸­é–“å±¤ã®åˆ†å‰²ã«ã¤ã„ã¦åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆé‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€ãƒãƒ¼ãƒ åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€ãƒãƒ¼ãƒ åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ãƒãƒ¼ãƒ åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆé‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ Ã— ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆâ–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆâ–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆ10. ãŠã‚ã‚Šã«è¬è¾ã“ã®è¨˜äº‹ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹çŸ¥è­˜ã“ã®è¨˜äº‹ã‚’èª­ã‚€ã¨ã€ä»¥ä¸‹ã‚’ "å®Œå…¨ã«ç†è§£" ã§ãã¾ã™âœŒï¸Terraformã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ç›®çš„ã¨ã€åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ (AWSå‘ã‘)Terraformã®ãƒªãƒã‚¸ãƒˆãƒªã‚„ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã®è¨­è¨ˆã«ã¤ã„ã¦01. ã¯ã˜ã‚ã«å‰ä¸–ã§ã‚‚ã†å°‘ã—å¾³ã‚’ç©ã‚“ã§ã„ã‚Œã°ã€Mitchell Hashimoto ã¨ã—ã¦ç”Ÿã¾ã‚Œã‚‹ã“ã¨ãŒã§ããŸã®ã«!!ã•ã¦æœ€è¿‘ã®æ¥­å‹™ã§ã€å…¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®æŠ€è¡“åŸºç›¤é–‹ç™ºãƒãƒ¼ãƒ ã«æºã‚ã£ã¦ãŠã‚Šã€ãƒãƒ¼ãƒ ãŒä½¿ã£ã¦ã„ã‚‹TerraformğŸ§‘ğŸ»â€ğŸš€ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒªãƒ—ãƒ¬ã‚¤ã‚¹ã™ã‚‹ä½œæ¥­ã‚’æ‹…å½“ã—ã¾ã—ãŸã€‚ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã¯å˜ä¸€ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒçŠ¶æ…‹ã‚’æŒã¡éãã¦ã„ã‚‹èª²é¡Œã‚’æŠ±ãˆã¦ã„ãŸãŸã‚ã€èª²é¡Œã«åˆã£ãŸé©åˆ‡ãªåˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒªãƒ—ãƒ¬ã‚¤ã‚¹ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ã“ã®æ™‚ã«æ•´ç†ã—ãŸåˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ (AWSå‘ã‘) ã‚’è¨˜äº‹ã§è§£èª¬ã—ã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“ã€GoogleCloudã‚„Azureã§ã‚‚èª­ã¿æ›ãˆã¦ã„ãŸã ã‘ã‚Œã°ã€åŒã˜ã‚ˆã†ã«é©ç”¨ã§ãã¾ã™ã€‚çŸ¥ã‚‹é™ã‚Šã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨˜è¼‰ã—ãŸã¨ã“ã‚ã€æƒ…å ±é‡ãŒã‚¨ã‚°ã„ã“ã¨ã«ãªã£ã¦ã—ã¾ã£ãŸã®ã§ã€æ°—ã«ãªã‚‹åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã ã‘æ‹¾ã£ã¦å¸°ã£ã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ğŸ™ãã‚Œã§ã¯ã€ã‚‚ã‚Šã‚‚ã‚Šå¸ƒæ•™ã—ã¦ã„ãã¾ã™ğŸ˜—02. ãªãœ tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ã®ã‹%%{init: { 'theme': "default", 'themeVariables': { 'commitLabelFontSize': '13px' }}}%%gitGraph   commit id: "8c8e6"   commit id: "0e3c3"     branch feature/foo     checkout feature/foo     commit id: "4e9e8"     commit id: "fooã•ã‚“ãŒApply"   checkout main     branch feature/bar     commit id: "barã•ã‚“ãŒPlan"   checkout main   commit id: "e74d6"     branch feature/baz     commit id: "bazã•ã‚“ãŒPlan"åˆ†å‰²ã—ã¦ã„ãªã„å ´åˆãã‚‚ãã‚‚ã€ãªãœtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ãªã‹ã£ãŸã¨ä»®å®šã—ã¾ã™ã€‚æ§˜ã€…ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å˜ä¸€ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§çŠ¶æ…‹ã‚’æŒã¤å ´åˆã€1å›ã®terraformã‚³ãƒãƒ³ãƒ‰å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æ“ä½œã§ãã¦æ¥½ã§ã™ã€‚ãŸã ã—ã€è¤‡æ•°ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒãŒã‚ã‚‹çŠ¶æ³ã ã¨ç…©ã‚ã—ã„ã“ã¨ãŒèµ·ã“ã‚Šã¾ã™ã€‚å„ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã§ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’å¤‰æ›´ã—ã‹ã‘ã¦ã„ã‚‹ã¨ã€terraformã‚³ãƒãƒ³ãƒ‰ã§targetã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚åˆ†å‰²ã—ã¦ã„ã‚‹å ´åˆä¸€æ–¹ã§ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã„ã„æ„Ÿã˜ã«åˆ†å‰²ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚å„ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã§ã¯ã€ã¾ã‚‹ã§æš—é»™çš„ã«targetã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã¤ã„ãŸã‚ˆã†ã«ã€ä»–ã®ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã®å½±éŸ¿ã‚’å—ã‘ãšã«terraformã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ã‚ˆã£ã¦ã€å„tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ“ä½œã§ãã‚‹ç®¡ç†è€…ã¯äº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Terraform: Up & Running: Writing Infrastructure As CodeOrganizing With Multiple States - DevOps with Terraform - CloudCasts03. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²åˆ†å‰²ã®å¢ƒç›®ãã‚Œã§ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ã®å¢ƒç•Œã¯ã©ã®ã‚ˆã†ã«ã—ã¦è¦‹ã¤ã‘ã‚Œã°ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ã€‚ã“ã‚Œã‚’è¦‹ã¤ã‘ã‚‹ã‚³ãƒ„ã¯ã€ä»–ã®çŠ¶æ…‹ã«ã§ãã‚‹ã ã‘ä¾å­˜ã—ãªã„ãƒªã‚½ãƒ¼ã‚¹ã®é–¢ä¿‚ ã«æ³¨ç›®ã™ã‚‹ã“ã¨ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã“ã“ã§ã„ã†ä¾å­˜ã¨ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒä»–ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®çŠ¶æ…‹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ–‡è„ˆã§ã¯ã€ä»–ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ã€ä¾å­˜ã€ã¨è¡¨ç¾ã—ã¾ã™ã€‚ãã®ãŸã‚ä¾¿å®œä¸Šã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚åŒã˜ç”¨èªã§è¡¨ç¾ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚@tmknom ã•ã‚“ãŒè¿°ã¹ã¦ã„ã‚‹é€šã‚Šã€Terraformã‚’ã‚ˆã‚Šã‚ˆãè¨­è¨ˆã™ã‚‹ãŸã‚ã«ã¯ã€ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®åŸºç¤çŸ¥è­˜ã€ãŒå¿…è¦ã§ã™ğŸ‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾å­˜é–¢ä¿‚å›³ã¨ã¯åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã®çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ã‚’è¡¨ç¾ã—ãŸå›³ã§ã™ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çŠ¶æ…‹ã‚’tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¦ã„ã‚‹ã“ã¨ã‚’æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ã€‚%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ        foo["tfstateãƒ•ã‚¡ã‚¤ãƒ«"]    endä¼¼ãŸã‚‚ã®ã¨ã—ã¦terraform graphã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚‹ã‚°ãƒ©ãƒ•ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã¯ãƒªã‚½ãƒ¼ã‚¹é–“ã®ä¾å­˜é–¢ä¿‚å›³ã§ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã§ç›¸äº’ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹ã‹ã‚‰ã¨ã„ã£ã¦ã€å€‹åˆ¥ã®ãƒªã‚½ãƒ¼ã‚¹é–“ã§å¾ªç’°å‚ç…§ãŒèµ·ã“ã£ã¦ã—ã¾ã†ã¨ã„ã†ã‚ã‘ã§ã¯ãªã„ã§ã™ã€‚ç¶šã„ã¦ã€ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã¨ç„¡ã„å ´åˆã§ã€ã©ã®ã‚ˆã†ãªä¾å­˜é–¢ä¿‚å›³ã«ãªã‚‹ã‹ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚Command: graph | Terraform | HashiCorp Developerä¾å­˜é–¢ä¿‚ã®è¡¨ç¾â–¼ ä¾å­˜é–¢ä¿‚ã®è¡¨ç¾è¨˜æ³•tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã§çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã€ã“ã‚Œã‚’å›³ã§è¡¨ç¾ã™ã‚‹ã¨åˆ†å‰²ã®çŠ¶æ³ãŒã‚ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚ã€ä¾å­˜ã€ã¯ã€---> (æ³¢ç·šçŸ¢å°) ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã¨ã—ã¾ã™ã€‚è¨­å®šå€¤ã®å‚ç…§æ•°ãŒå°‘ãªã„ã»ã©ã‚ˆã„ã§ã™ã€‚ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã«ã¤ã„ã¦ã¯ã€å¾Œè¿°ã—ã¾ã™ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ–‡è„ˆã§ã¯ã€ã€ä¾å­˜ã€ã‚’---> (æ³¢ç·šçŸ¢å°) ã§è¡¨ç¾ã—ã¾ã™ã€‚ãã®ãŸã‚ä¾¿å®œä¸Šã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚åŒã˜è¨˜å·ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸğŸ‘â–¼ ä¾å­˜é–¢ä¿‚ãŒãªã„å ´åˆä¾‹ãˆã°ã€AWSãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ãªã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ã„ãã¤ã‹ã®tfstateãƒ•ã‚¡ã‚¤ãƒ« (foo-tfstateã€bar-tfstateã€baz-tfstate) ã«åˆ†å‰²ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€ tfstate ãƒ•ã‚¡ã‚¤ãƒ«é–“ã«ä¾å­˜é–¢ä¿‚ã¯ãªã„ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã«ä¾å­˜é–¢ä¿‚ãŒãªã„çŠ¶æ³ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚---title: tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã«ä¾å­˜é–¢ä¿‚ã¯ãªã„---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ        foo["foo-tfstate"]        bar["bar-tfstate"]    endâ–¼ ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å ´åˆåŒæ§˜ã«åˆ†å‰²ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€ foo-tfstate â¡ï¸ bar-tfstate ã®æ–¹å‘ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€---> (æ³¢ç·šçŸ¢å°) ã‚’ä½¿ç”¨ã—ã¦ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: foo-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€bar-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜---%%{init:{'theme':'default'}}%%flowchart TD    subgraph AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ        foo["foo-tfstate"]        bar["bar-tfstate"]    end    foo -. ä¾å­˜ .-> bar04. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ããã®ä»–ã®è¨­è¨ˆãƒªãƒã‚¸ãƒˆãƒª ğŸ­ ã®è¨­è¨ˆãƒªãƒã‚¸ãƒˆãƒªåˆ†å‰²ãƒªãƒã‚¸ãƒˆãƒªã®åˆ†å‰²ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãŠã„ãŸæ–¹ãŒã‚ˆã„å ´åˆã«ã¤ã„ã¦ã¯ã€åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ ã§èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚ğŸ­ foo-repository/â”œâ”€â”€ backend.tf # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹...ğŸ­ bar-repository/â”œâ”€â”€ backend.tf # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹...ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ ğŸ“‚ æ§‹æˆãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã‚‚ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚ç‡ç›´ã«è¨€ã†ã¨ã€Terraformã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ç„¡æ•°ã«ã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€åŸºæº–ãªã—ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã‚’è€ƒãˆã‚‹ã¨ä½•ã§ã‚‚ã‚ã‚Š ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ä¸€æ–¹ã§ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€æ˜ç¢ºãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆãƒ‘ã‚¿ãƒ¼ãƒ³ ã¨ã—ã¦æŠ½å‡ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ğŸ­ repository/â”œâ”€â”€ ğŸ“‚ foo/â”‚    â”œâ”€â”€ backend.tf # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ bar/      â”œâ”€â”€ backend.tf # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...Terraformã«ã¯ã€ãã®ãƒªãƒã‚¸ãƒˆãƒªå†…ã ã‘ã§ãƒ–ãƒ­ãƒƒã‚¯ (ä¾‹ï¼šresourceã€data) ã®ã‚»ãƒƒãƒˆã‚’ä½¿ã„å›ã™ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã€ã“ã‚Œã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¯è¨­è¨ˆã«å«ã‚ã¦ã„ã¾ã›ã‚“ã€‚æ··åŒã—ã‚„ã™ã„ã®ã§ã™ãŒã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ããƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®ãã‚Œã¯ã€å…¨ãåˆ¥ã®ãƒ†ãƒ¼ãƒã¨ã—ã¦åˆ‡ã‚Šé›¢ã—ã¦è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ğŸ‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ ğŸª£ ã®è¨­è¨ˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ†å‰²æœ¬è¨˜äº‹ã§ã¯ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã¦AWS S3ãƒã‚±ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®åˆ†å‰²ã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãŠã„ãŸæ–¹ãŒã‚ˆã„å ´åˆã«ã¤ã„ã¦ã¯ã€åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ ã§èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚ğŸª£ foo-bucket/â”‚â””â”€â”€ terraform.tfstate # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ bar-bucket/â”‚â””â”€â”€ terraform.tfstate # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã‚‚ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚ğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ foo/â”‚    â””â”€â”€ terraform.tfstate # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ bar/      â””â”€â”€ terraform.tfstate # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤05. çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ã®å®šç¾©æ–¹æ³•terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã®å ´åˆterraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã«ã‚ˆã‚‹ä¾å­˜terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã«ã¯ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒ‡ãƒ¡ãŒã‚ã‚Šã¾ã™ã€‚ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç‰¹æ€§  ãƒ¡ãƒªãƒƒãƒˆ                                                                           ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ                                                                                                                                                            å¯èª­æ€§                 -                                                                                  terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã«åŠ ãˆã¦outputãƒ–ãƒ­ãƒƒã‚¯ã‚‚å®Ÿè£…ãŒå¿…è¦ã§ã‚ã‚Šã€outputãƒ–ãƒ­ãƒƒã‚¯ã¯ä¾å­˜å…ˆã®AWSãƒªã‚½ãƒ¼ã‚¹ãŒä¸€è¦‹ã—ã¦ã‚ã‹ã‚Šã«ãã„ã€‚                             æ‹¡å¼µæ€§                 ä¾å­˜å…ˆã®AWSãƒªã‚½ãƒ¼ã‚¹ã«é–¢ã‚ã‚‰ãšã€åŒã˜terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã„å›ã›ã‚‹ã€‚  -                                                                                                                                                                     ä¿å®ˆæ€§                 -                                                                                  ä¾å­˜å…ˆã¨ä¾å­˜å…ƒã®é–“ã§Terraformã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å·®ãŒã‚ã‚Šã™ãã‚‹ã¨ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã§äº’æ›æ€§ãŒãªããªã‚Šã€terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã™ã‚‹ã€‚ æœ¬è¨˜äº‹ã§ã¯ã€ terraform_remote_state ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ã‚’å®šç¾© ã—ã¦ã„ãã¾ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒä»–ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã€å¾Œè¿°ã®AWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚The terraform_remote_state Data Source | Terraform | HashiCorp DeveloperçŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€AWSãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ãªã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ã„ãã¤ã‹ã®tfstateãƒ•ã‚¡ã‚¤ãƒ« (foo-tfstateã€bar-tfstate) ã«åˆ†å‰²ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€bar-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã¯VPCã®çŠ¶æ…‹ã‚’æŒã£ã¦ãŠã‚Šã€ foo-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã¯ bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãŸä¾å­˜é–¢ä¿‚---%%{init:{'theme':'default'}}%%flowchart TD    subgraph bucket        foo["foo-tfstate"]        bar["bar-tfstate"]    end    foo -. VPCã®çŠ¶æ…‹ã«ä¾å­˜ .-> barãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆtfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ã®è¨­è¨ˆæ–¹æ³•ã¯ã€åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ ã§èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚ğŸ­ repository/â”œâ”€â”€ ğŸ“‚ foo/â”‚    â”œâ”€â”€ backend.tf # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”œâ”€â”€ remote_state.tf # terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    ...â”‚â””â”€â”€ ğŸ“‚ bar/      â”œâ”€â”€ backend.tf # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ provider.tf      ...foo-tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒbar-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹ãŸã‚ã«å¿…è¦ãªå®Ÿè£…ã¯ã€ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚# fooãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒã¤resource "example" "foo" {  # fooãƒªã‚½ãƒ¼ã‚¹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®VPCã«ä¾å­˜ã™ã‚‹  vpc_id = data.terraform_remote_state.bar.outputs.bar_vpc_id  ...}# VPCã®çŠ¶æ…‹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒã¤data "terraform_remote_state" "bar" { backend= "s3"  config = {    bucket = "bar-tfstate"    key    = "bar/terraform.tfstate"    region = "ap-northeast-1"  }}# VPCã®çŠ¶æ…‹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒã¤output "bar_vpc_id" {  value = aws_vpc.bar.id}resource "aws_vpc" "bar" {  ...}ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆtfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ fooâ”‚    â””â”€â”€ terraform.tfstate # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ bar      â””â”€â”€ terraform.tfstate # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤AWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ã«ã‚ˆã‚‹ä¾å­˜dataãƒ–ãƒ­ãƒƒã‚¯ã«ã¯ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒ‡ãƒ¡ãŒã‚ã‚Šã¾ã™ã€‚ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç‰¹æ€§  ãƒ¡ãƒªãƒƒãƒˆ                                                                                                                                        ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ                                                         å¯èª­æ€§                 ä¾å­˜å…ˆã®AWSãƒªã‚½ãƒ¼ã‚¹ãŒã‚ã‹ã‚Šã‚„ã™ã„ã€‚                                                                                                             -                                                                  æ‹¡å¼µæ€§                 -                                                                                                                                               ä¾å­˜å…ˆã®AWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã«dataãƒ–ãƒ­ãƒƒã‚¯ãŒå¿…è¦ã§ã‚ã‚‹ã€‚                ä¿å®ˆæ€§                 ä¾å­˜å…ˆã¨ä¾å­˜å…ƒã®é–“ã§Terraformã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å·®ãŒã‚ã£ã¦ã‚‚ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã§ç›´æ¥çš„ã«ä¾å­˜ã™ã‚‹ã‚ã‘ã§ã¯ãªã„ãŸã‚ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³å·®ã®å½±éŸ¿ã‚’å—ã‘ãªã„ã€‚  -                                                   ä»Šå›ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ãŒã€ä¾å­˜é–¢ä¿‚ã®ä»–ã®å®šç¾©æ–¹æ³•ã¨ã—ã¦ã€AWSãƒªã‚½ãƒ¼ã‚¹åˆ¥ã®dataãƒ–ãƒ­ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªèº«ä»¥å¤– (ä¾‹ï¼šã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã€ä»–ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«) ã§ä½œæˆã•ã‚ŒãŸAWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã«ä¾å­˜ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯ã¨ã¯ç•°ãªã‚Šã€ç›´æ¥çš„ã«ã¯tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¾ã›ã‚“ã€‚dataãƒ–ãƒ­ãƒƒã‚¯ã®å ´åˆã¯ã€å®Ÿéš›ã®AWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã«ä¾å­˜ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€é–“æ¥çš„ã«AWSãƒªã‚½ãƒ¼ã‚¹ã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚Data Sources - Configuration Language | Terraform | HashiCorp DeveloperçŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€dataãƒ–ãƒ­ãƒƒã‚¯ã‚‚åŒæ§˜ã«ã—ã¦ã€AWSãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ãªã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ã„ãã¤ã‹ã®tfstateãƒ•ã‚¡ã‚¤ãƒ« (foo-tfstateã€bar-tfstate) ã«åˆ†å‰²ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€bar-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã¯VPCã®çŠ¶æ…‹ã‚’æŒã£ã¦ãŠã‚Šã€ foo-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã¯ bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: dataãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãŸä¾å­˜é–¢ä¿‚---%%{init:{'theme':'default'}}%%flowchart TD    subgraph bucket        foo["foo-tfstate"]        bar["bar-tfstate"]    end    foo -. VPCã®çŠ¶æ…‹ã«ä¾å­˜ .-> barãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¯ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ğŸ­ repository/â”œâ”€â”€ ğŸ“‚ foo/â”‚    â”œâ”€â”€ backend.tf # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”œâ”€â”€ data.tf # dataãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    ...â”‚â””â”€â”€ ğŸ“‚ bar/      â”œâ”€â”€ backend.tf # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”œâ”€â”€ provider.tf      ...foo-tfstateãƒ•ã‚¡ã‚¤ãƒ«ãŒbar-tfstateãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹ãŸã‚ã«å¿…è¦ãªå®Ÿè£…ã¯ã€ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚# fooãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã¯ã€foo-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒã¤resource "example" "foo" {  # fooãƒªã‚½ãƒ¼ã‚¹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®VPCã«ä¾å­˜ã™ã‚‹  vpc_id     = data.aws_vpc.bar.id}# VPCã®çŠ¶æ…‹ã¯ã€bar-tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒã¤data "aws_vpc" "bar" {  filter {    name   = "tag:Name"    values = ["<bar-tfstateãŒæŒã¤VPCã®åå‰>"]  }}ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆtfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ fooâ”‚    â””â”€â”€ terraform.tfstate # fooã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ bar      â””â”€â”€ terraform.tfstate # barã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤06. tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³æ¦‚è¦å‰è¿°ã®é€šã‚Šã€tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ã®å¢ƒç•Œã¯ã€ã€ä»–ã®çŠ¶æ…‹ã«ã§ãã‚‹ã ã‘ä¾å­˜ã—ãªã„ãƒªã‚½ãƒ¼ã‚¹ã®é–¢ä¿‚ã€ã‹ã‚‰è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚åˆ†å‰²ã—ã™ãã‚‹ã¨ terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯åœ°ç„ ã«ãªã‚‹ãŸã‚ã€ç´°ã‹ã™ããšç²—ã™ããªã„é©åˆ‡ãªå¢ƒç•Œã‚’è¦‹ã¤ã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ä»Šå›ã¯ã€ç§ãŒè€ƒãˆã‚‹åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã„ãã¤ã‹ç´¹ä»‹ã—ã¾ã™ã€‚ãªãŠã€å…¨ã¦ãŒå®Ÿç”¨çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã„ã†ã‚ã‘ã§ãªã„ã®ã§ã€æ¨å¥¨ã™ã‚‹ã‚‚ã®ã‚’ â˜… ã¨ã—ã¦ã„ã¾ã™ã€‚å¿…é ˆãƒ»ä»»æ„tfstateåˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³å¤§åˆ†é¡tfstateåˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³å°åˆ†é¡æ¨å¥¨å¯¾å¿œã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆ ğŸ­å¯¾å¿œã™ã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ§‹æˆ ğŸª£  å¿…é ˆä¸Šå±¤ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥â˜…â˜…ãƒªãƒã‚¸ãƒˆãƒªè‡ªä½“ã¾ãŸã¯ä¸Šå±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªä½“ã¾ãŸã¯ä¸Šå±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼  ä¸‹å±¤å®Ÿè¡Œç’°å¢ƒåˆ¥â˜…â˜…ä¸‹å±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ä¸‹å±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼  ä»»æ„ä¸­é–“å±¤åŒã˜ãƒ†ãƒŠãƒ³ãƒˆå†…ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ä¸­é–“å±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ä¸­é–“å±¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼  é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥â˜…  ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥â˜…  AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥  AWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥  é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã®çµ„ã¿åˆã‚ã›â˜…  ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¨ã®é–¢ä¿‚ã«ã¤ã„ã¦ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆè¨˜äº‹å†…ã®ã“ã“ ã§ã€ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã¯tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦è¨­è¨ˆã™ã‚‹ã¹ãã€ã¨ã„ã†èª¬æ˜ã‚’ã—ã¾ã—ãŸã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ä¸Šå±¤/ä¸‹å±¤/ä¸­é–“å±¤ ã®å±¤ã«å¤§åˆ¥ã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®å±¤ã¯ã€ä»¥ä¸‹ã®é€šã‚Šãƒªãƒã‚¸ãƒˆãƒªè‡ªä½“ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã®è¨­è¨ˆæ–¹æ³•ã«å½±éŸ¿ã—ã¾ã™ã€‚# ãƒªãƒã‚¸ãƒˆãƒªè‡ªä½“ã‚’åˆ†å‰²ã™ã‚‹å ´åˆğŸ­ ä¸Šå±¤/â”œâ”€â”€ ğŸ“‚ ä¸­é–“å±¤/â”‚    â”œâ”€â”€ ğŸ“‚ ä¸‹å±¤/â”‚    â”‚    â”œâ”€â”€ backend.tfvars # åˆ†å‰²ã•ã‚ŒãŸ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚...# ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ†å‰²ã™ã‚‹å ´åˆğŸ­ ãƒªãƒã‚¸ãƒˆãƒª/â”œâ”€â”€ ğŸ“‚ ä¸Šå±¤/â”‚    â”œâ”€â”€ ğŸ“‚ ä¸­é–“å±¤/â”‚    â”‚    â”œâ”€â”€ ğŸ“‚ ä¸‹å±¤/â”‚    â”‚    â”‚    â”œâ”€â”€ backend.tfvars # åˆ†å‰²ã•ã‚ŒãŸ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    â”‚    ...â”‚    â”‚    â”‚...ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆè¨˜äº‹å†…ã®ã“ã“ ã§ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®å±¤ã¯ã€ä»¥ä¸‹ã®é€šã‚Šãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªä½“ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã®è¨­è¨ˆæ–¹æ³•ã«å½±éŸ¿ã—ã¾ã™ã€‚# ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªä½“ã‚’åˆ†å‰²ã™ã‚‹å ´åˆğŸª£ ä¸Šå±¤/â”œâ”€â”€ ğŸ“‚ ä¸­é–“å±¤/â”‚    â”œâ”€â”€ ğŸ“‚ ä¸‹å±¤/â”‚    â”‚    â””â”€â”€ terraform.tfstate # åˆ†å‰²ã•ã‚ŒãŸçŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â”‚...# ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ†å‰²ã™ã‚‹å ´åˆğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ ä¸Šå±¤/â”‚    â”œâ”€â”€ ğŸ“‚ ä¸­é–“å±¤/â”‚    â”‚    â”œâ”€â”€ ğŸ“‚ ä¸‹å±¤/â”‚    â”‚    â”‚    â””â”€â”€ terraform.tfstate # åˆ†å‰²ã•ã‚ŒãŸçŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚    â”‚â”‚    â”‚    â”‚...07. ä¸Šå±¤ã®åˆ†å‰² (å¿…é ˆ)ä¸Šå±¤ã®åˆ†å‰²ã«ã¤ã„ã¦ä¸Šå±¤ã®åˆ†å‰²ã¯ å¿…é ˆ ã§ã™ã€‚Terraformã«æºã‚ã‚‹ç®¡ç†è€…ã®æ•°ãŒå°‘ãªãã¦ã‚‚æ¡ç”¨ã—ãŸæ–¹ãŒã‚ˆã„ã§ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¿œã˜ã¦åˆ†å‰²ã—ã€ã“ã‚Œã«åŸºã¥ã„ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ãƒ»ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚‚è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ä¸Šå±¤åˆ†å‰²ã®ä¸­ã§ã‚‚ã€åŸºæœ¬çš„ãªæ–¹æ³•ã®1ã¤ã§ã™ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸Šå±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§çŠ¶æ…‹ã‚’ç®¡ç†ã›ã–ã‚‹ã‚’å¾—ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€Kubernetesã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¯ã€EKSã¨åŒã˜tfstateãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ãŸæ–¹ãŒã‚ˆã„ã§ã™ğŸ‘Terraform Registryã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ãŸã„çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ä¸»è¦ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (AWS)ã‚¢ãƒ—ãƒª/ã‚¤ãƒ³ãƒ•ãƒ©ç›£è¦–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (Datadog)ã‚¸ãƒ§ãƒ–ç›£è¦–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (Healthchecks)ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç®¡ç†ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (PagerDuty)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«é–“ã§çŠ¶æ…‹ãŒç›¸äº’ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚AWSãƒªã‚½ãƒ¼ã‚¹é–“ã®ç›¸äº’ä¾å­˜ã§ã¯ãªã„ã®ã§ã€å¾ªç’°å‚ç…§ã¯èµ·ã“ã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥---%%{init:{'theme':'default'}}%%flowchart LR    subgraph PagerDuty        pagerDuty["tfstate"]    end    subgraph Healthchecks        healthchecks["tfstate"]    end    subgraph Datadog        datadog["tfstate"]    end    subgraph AWS        aws["tfstate"]    end    aws -...-> datadog    aws -...-> healthchecks    aws -...-> pagerDuty    datadog -...-> aws    healthchecks -...-> aws    pagerDuty -...-> awsã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ backend.tf # AWSã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tf...ğŸ­ datadog-repository/â”œâ”€â”€ backend.tf # Datadogã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tf...ğŸ­ healthchecks-repository/â”œâ”€â”€ backend.tf # Healthchecksã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tf...ğŸ­ pagerduty-repository/â”œâ”€â”€ backend.tf # PagerDutyã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tf...â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸ­ repository/â”œâ”€â”€ ğŸ“‚ aws/â”‚    â”œâ”€â”€ backend.tf # AWSã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ datadog/â”‚    â”œâ”€â”€ backend.tf # Datadogã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ healthchecks/â”‚    â”œâ”€â”€ backend.tf # Healthchecksã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    ...â”‚â””â”€â”€ ğŸ“‚ pagerduty/      â”œâ”€â”€ backend.tf # PagerDutyã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ provider.tf      ...ã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸª£ aws-bucket/â”‚â””â”€â”€ terraform.tfstate # AWSã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ datadog-bucket/â”‚â””â”€â”€ terraform.tfstate # Datadogã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ healthchecks-bucket/â”‚â””â”€â”€ terraform.tfstate # Healthchecksã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ pagerduty-bucket/â”‚â””â”€â”€ terraform.tfstate # PagerDutyã®çŠ¶æ…‹ã‚’æŒã¤â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ awsâ”‚    â””â”€â”€ terraform.tfstate # AWSã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ datadogâ”‚    â””â”€â”€ terraform.tfstate # Datadogã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ healthchecksâ”‚    â””â”€â”€ terraform.tfstate # Healthchecksã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ pagerduty      â””â”€â”€ terraform.tfstate # PagerDutyã®çŠ¶æ…‹ã‚’æŒã¤08. ä¸‹å±¤ã®åˆ†å‰² (å¿…é ˆ)ä¸‹å±¤ã®åˆ†å‰²ã«ã¤ã„ã¦ä¸‹å±¤ã®åˆ†å‰²ã¯ å¿…é ˆ ã§ã™ã€‚Terraformã«æºã‚ã‚‹ç®¡ç†è€…ã®æ•°ãŒå°‘ãªãã¦ã‚‚æ¡ç”¨ã—ãŸæ–¹ãŒã‚ˆã„ã§ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¿œã˜ã¦åˆ†å‰²ã—ã€ã“ã‚Œã«åŸºã¥ã„ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼ãƒ»ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚‚è¨­è¨ˆã—ã¾ã—ã‚‡ã†ã€‚å®Ÿè¡Œç’°å¢ƒåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ä¸‹å±¤åˆ†å‰²ã®ä¸­ã§ã‚‚ã€åŸºæœ¬çš„ãªæ–¹æ³•ã®1ã¤ã§ã™ã€‚å®Ÿè¡Œç’°å¢ƒåˆ¥ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸‹å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„å®Ÿè¡Œç’°å¢ƒã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Terraform: Up & Running; Writing Infrastructure As CodeHow to manage Terraform state. A guide to file layout, isolation, andâ€¦ | by Yevgeniy Brikman | Gruntworkã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã„çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚Tesç’°å¢ƒ (æ¤œè¨¼ç’°å¢ƒ)Stgç’°å¢ƒ (ãƒ¦ãƒ¼ã‚¶ãƒ¼å—ã‘å…¥ã‚Œç’°å¢ƒ)Prdç’°å¢ƒ (æœ¬ç•ªç’°å¢ƒ)ã‹ã¤ã€ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ãŸã„çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ä¸»è¦ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (AWS)ã‚¢ãƒ—ãƒª/ã‚¤ãƒ³ãƒ•ãƒ©ç›£è¦–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (Datadog)ã‚¸ãƒ§ãƒ–ç›£è¦–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (Healthchecks)ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç®¡ç†ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (PagerDuty)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„å®Ÿè¡Œç’°å¢ƒã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»–ã®å®Ÿè¡Œç’°å¢ƒã«ã¯ä¾å­˜ã—ã¦ã„ãªã„ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: å®Ÿè¡Œç’°å¢ƒåˆ¥---%%{init:{'theme':'default'}}%%flowchart LR    subgraph PagerDuty        pagerDuty["tfstate"]    end    subgraph Healthchecks        healthchecks["tfstate"]    end    subgraph Datadog        datadog["tfstate"]    end    subgraph AWS        subgraph tes-bucket            tes["tfstate"]        end        subgraph stg-bucket            stg["tfstate"]        end        subgraph prd-bucket            prd["tfstate"]        end    end    tes -...-> datadog    tes -...-> healthchecks    tes -...-> pagerDuty    datadog -...-> tes    healthchecks -...-> tes    pagerDuty -...-> tesã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ã“ã¨ã¯å¿…é ˆã¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãã®ä¸Šã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tfâ”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # AWSã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒğŸ­ datadog-repository/â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tfâ”œâ”€â”€ ğŸ“‚ tes/â”‚    â”œâ”€â”€ backend.tfvars # Datadogã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/â””â”€â”€ ğŸ“‚ prd/ğŸ­ healthchecks-repository/â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tfâ”œâ”€â”€ ğŸ“‚ tes/â”‚    â”œâ”€â”€ backend.tfvars # Healthchecsã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/â””â”€â”€ ğŸ“‚ prd/ğŸ­ pagerduty-repository/â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ provider.tfâ”œâ”€â”€ ğŸ“‚ tes/â”‚    â”œâ”€â”€ backend.tfvars # PagerDutyã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/â””â”€â”€ ğŸ“‚ prd/â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ã“ã¨ã¯å¿…é ˆã¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãã®ä¸Šã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸ­ repository/â”œâ”€â”€ ğŸ“‚ aws/â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # AWSã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚â”œâ”€â”€ ğŸ“‚ datadog/â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/â”‚    â”‚    â”œâ”€â”€ backend.tfvars # Datadogã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/â”‚    â””â”€â”€ ğŸ“‚ prd/â”‚â”œâ”€â”€ ğŸ“‚ healthchecks/â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/â”‚    â”‚    â”œâ”€â”€ backend.tfvars # Healthchecksã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/â”‚    â””â”€â”€ ğŸ“‚ prd/â”‚â””â”€â”€ ğŸ“‚ pagerduty/      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ provider.tf      â”œâ”€â”€ ğŸ“‚ tes/      â”‚    â”œâ”€â”€ backend.tfvars # PagerDutyã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/      â””â”€â”€ ğŸ“‚ prd/ã€å®Ÿè¡Œç’°å¢ƒåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆå®Ÿè¡Œç’°å¢ƒåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸª£ tes-aws-bucket/â”‚â””â”€â”€ terraform.tfstate # AWSã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ tes-datadog-bucket/â”‚â””â”€â”€ terraform.tfstate # Datadogã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ tes-healthchecks-bucket/â”‚â””â”€â”€ terraform.tfstate # Healthchecksã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤ğŸª£ tes-pagerduty-bucket/â”‚â””â”€â”€ terraform.tfstate # PagerDutyã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ x AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«ç•°ãªã‚‹å®Ÿè¡Œç’°å¢ƒ ã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ã¾ãŸã€AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«ç•°ãªã‚‹å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ã‚‹ã¨ä»®å®šã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ aws/â”‚    â””â”€â”€ terraform.tfstate # AWSã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ datadog/â”‚    â””â”€â”€ terraform.tfstate # Datadogã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ healthchecks/â”‚    â””â”€â”€ terraform.tfstate # Healthchecksã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ pagerduty/      â””â”€â”€ terraform.tfstate # PagerDutyã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ x å˜ä¸€ã®AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã«å…¨ã¦ã®å®Ÿè¡Œç’°å¢ƒ ã®å ´åˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ã¾ãŸã€å˜ä¸€ã®AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆå†…ã«å…¨å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸª£ bucket/â”œâ”€â”€ ğŸ“‚ aws/â”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â””â”€â”€ terraform.tfstate # AWSã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚â”œâ”€â”€ ğŸ“‚ datadog/â”‚    â”œâ”€â”€ ğŸ“‚ tes/â”‚    â”‚    â””â”€â”€ terraform.tfstate # Datadogã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/â”‚    â””â”€â”€ ğŸ“‚ prd/â”‚â”œâ”€â”€ ğŸ“‚ healthchecks/â”‚    â”œâ”€â”€ ğŸ“‚ tes/â”‚    â”‚    â””â”€â”€ terraform.tfstate # Healthchecksã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/â”‚    â””â”€â”€ ğŸ“‚ prd/â”‚â””â”€â”€ ğŸ“‚ pagerduty/      â”œâ”€â”€ ğŸ“‚ tes/      â”‚    â””â”€â”€ terraform.tfstate # PagerDutyã®Tesç’°å¢ƒã®çŠ¶æ…‹ã‚’æŒã¤      â”‚      â”œâ”€â”€ ğŸ“‚ stg/      â””â”€â”€ ğŸ“‚ prd/09. ä¸­é–“å±¤ã®åˆ†å‰² (ä»»æ„)ä¸­é–“å±¤ã®åˆ†å‰²ã«ã¤ã„ã¦ä¸­é–“å±¤ã®åˆ†å‰²ã¯ ä»»æ„ ã§ã™ã€‚Terraformã«æºã‚ã‚‹ç®¡ç†è€…ãŒå¤šããªã‚‹ã»ã©ã€åŠ¹åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦åŒã˜ãƒ†ãƒŠãƒ³ãƒˆ (ä¾‹ï¼šåŒã˜AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®åŒã˜VPC) å†…ã«è¤‡æ•°ã®å°ã•ãªãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã«ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã§tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã“ã§ã„ã†ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã¯ã€ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  (ä¾‹ï¼šEKSã€ECSã€AppRunnerã€EC2) ã¨ãã‚Œã‚’å–ã‚Šå·»ãAWSãƒªã‚½ãƒ¼ã‚¹ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚AWSã®è¨­è¨ˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã—ã¦ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã”ã¨ã«VPCã‚’åˆ†ã‘ãŸæ–¹ãŒã‚ˆã„ãŸã‚ã€ã“ã®åˆ†å‰²æ–¹æ³•ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã¯å°‘ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ç¾å®Ÿã¨ã—ã¦ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ä½¿ç”¨ã™ã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹æ•°ãŒå°‘ãªãã€ã¾ãŸãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã«VPCã‚’åˆ†å‰²ã™ã‚‹ã®ãŒç…©é›‘ã¨ã„ã†ç¾å ´ã¯ã‚ã‚Šã¾ã™ğŸ˜­ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆbarãƒ—ãƒ­ãƒ€ã‚¯ãƒˆå…±æœ‰networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (ä¾‹ï¼šVPCã€Route53)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾å­˜ã¯ä¸€æ–¹å‘æœ€çµ‚çš„ã«ã€å…±æœ‰networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            foo-product["foo-product-tfstate<br>(ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®AWSãƒªã‚½ãƒ¼ã‚¹)"]-..->network            bar-product["bar-product-tfstate<br>(ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®AWSãƒªã‚½ãƒ¼ã‚¹)"]-..->network            network["network-tfstate<br>(Route53, VPC)"]        end    subgraph stg-bucket        stg["tfstate"]    end    subgraph prd-bucket        prd["tfstate"]    end    endã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚# fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªãƒã‚¸ãƒˆãƒªğŸ­ aws-foo-product-repository/â”œâ”€â”€ provider.tfâ”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ      â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...# barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªãƒã‚¸ãƒˆãƒªğŸ­ aws-bar-product-repository/â”œâ”€â”€ provider.tfâ”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ      â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...# å…±æœ‰networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªãƒã‚¸ãƒˆãƒªğŸ­ aws-network-repository/â”œâ”€â”€ provider.tfâ”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ route53.tfâ”œâ”€â”€ vpc.tfâ”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ      â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ ğŸ“‚ foo-product/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ bar-product/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ network      â”œâ”€â”€ provider.tf      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ route53.tf      â”œâ”€â”€ vpc.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ           â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹           ...ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆåŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€åŒã˜ãƒ†ãƒŠãƒ³ãƒˆã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚å‰è¿°ã®ä¾å­˜é–¢ä¿‚å›³ã®çŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ foo-productâ”‚    â””â”€â”€ terraform.tfstate # fooãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ bar-productâ”‚    â””â”€â”€ terraform.tfstate # barãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ network      â””â”€â”€ terraform.tfstate # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦é‹ç”¨ãƒãƒ¼ãƒ  (ä¾‹ï¼šã‚¢ãƒ—ãƒªãƒãƒ¼ãƒ ã€ã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ ) ã®AWSãƒªã‚½ãƒ¼ã‚¹ã®è²¬å‹™ç¯„å›²åˆ¥ã§tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„é‹ç”¨ãƒãƒ¼ãƒ ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚AWS CloudFormation best practices - AWS CloudFormationTerraform in Action (English Edition)AWSãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»è‘—åãªæ›¸ç±ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚Terraformã«æºã‚ã‚‹ãƒãƒ¼ãƒ ãŒè¤‡æ•°ã‚ã‚‹éå¸¸ã«å¤§è¦æ¨¡ãªãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã»ã©åŠ¹åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚å®Ÿéš›ã«ç§ã‚‚ç¾åœ¨é€²è¡Œå½¢ã§æ¡ç”¨ã—ã¦ãŠã‚Šã€éå¸¸ã«å®Ÿç”¨çš„ã¨è€ƒãˆã¦ã„ã¾ã™ğŸ‘ã€ãƒãƒ¼ãƒ åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®é‹ç”¨ãƒãƒ¼ãƒ ã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚frontendãƒãƒ¼ãƒ  (ã‚¢ãƒ—ãƒªã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é ˜åŸŸæ‹…å½“)backendãƒãƒ¼ãƒ  (ã‚¢ãƒ—ãƒªã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é ˜åŸŸæ‹…å½“)sreãƒãƒ¼ãƒ  (ã‚¤ãƒ³ãƒ•ãƒ©é ˜åŸŸæ‹…å½“)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹ tfstate ãƒ•ã‚¡ã‚¤ãƒ«é–“ã§çŠ¶æ…‹ãŒç›¸äº’ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚AWSãƒªã‚½ãƒ¼ã‚¹é–“ã®ç›¸äº’ä¾å­˜ã§ã¯ãªã„ã®ã§ã€å¾ªç’°å‚ç…§ã¯èµ·ã“ã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            frontend["frontend-team-tfstate<br>(CloudFront, S3, ãªã©)"]            backend["backend-team-tfstate<br>(API Gateway, ElastiCache, RDS, SES, SNS, ãªã©)"]            sre["sre-team-tfstate<br>(ALB, CloudWatch, EC2, ECS, EKS, IAM, VPC, ãªã©)"]            frontend-..->sre            backend-..->sre            sre-..->frontend            sre-..->backend        end    subgraph stg-bucket        stg["tfstate"]    end    subgraph prd-bucket        prd["tfstate"]    end    endã€ãƒãƒ¼ãƒ åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-frontend-team-repository/ # frontendãƒãƒ¼ãƒ â”œâ”€â”€ provider.tfâ”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ cloudfront.tfâ”œâ”€â”€ s3.tfâ”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ      â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...ğŸ­ aws-backend-team-repository/ # backendãƒãƒ¼ãƒ â”œâ”€â”€ provider.tfâ”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ elasticache.tfâ”œâ”€â”€ ses.tfâ”œâ”€â”€ sns.tfâ”œâ”€â”€ rds.tfâ”œâ”€â”€ ğŸ“‚ tesâ”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stgâ”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd      â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹       ...ğŸ­ aws-sre-team-repository/ # sreãƒãƒ¼ãƒ â”œâ”€â”€ provider.tfâ”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”œâ”€â”€ alb.tfâ”œâ”€â”€ cloudwatch.tfâ”œâ”€â”€ ec2.tfâ”œâ”€â”€ ecs.tfâ”œâ”€â”€ eks.tfâ”œâ”€â”€ iam.tfâ”œâ”€â”€ vpc.tfâ”œâ”€â”€ ğŸ“‚ tesâ”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â”œâ”€â”€ ğŸ“‚ stgâ”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    ...â”‚â””â”€â”€ ğŸ“‚ prd      â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      ...â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ ğŸ“‚ frontend-team # frontendãƒãƒ¼ãƒ â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ cloudfront.tfâ”‚    â”œâ”€â”€ s3.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ backend-team # backendãƒãƒ¼ãƒ â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ elasticache.tfâ”‚    â”œâ”€â”€ ses.tfâ”‚    â”œâ”€â”€ sns.tfâ”‚    â”œâ”€â”€ rds.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tesâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stgâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prdâ”‚          â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ sre-team # sreãƒãƒ¼ãƒ       â”œâ”€â”€ provider.tf      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ alb.tf      â”œâ”€â”€ cloudwatch.tf      â”œâ”€â”€ ec2.tf      â”œâ”€â”€ ecs.tf      â”œâ”€â”€ eks.tf      â”œâ”€â”€ iam.tf      â”œâ”€â”€ vpc.tf      â”œâ”€â”€ ğŸ“‚ tes      â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg      â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd           â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹           ...ã€ãƒãƒ¼ãƒ åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆé‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ frontend-teamâ”‚    â””â”€â”€ terraform.tfstate # frontendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ backend-teamâ”‚    â””â”€â”€ terraform.tfstate # backendãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ sre-team      â””â”€â”€ terraform.tfstate # sreãƒãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (ä¾‹ï¼šã‚¢ãƒ—ãƒªã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€èªè¨¼/èªå¯ã€ç›£è¦–ã€ãªã©) åˆ¥ã§tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚11 Things I wish I knew before working with Terraform â€“ part 1Terraform organization â€” Part I : What if you split your components ? | by Amine Charot | Mediumã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€åˆ†ã‘ã‚ˆã†ã¨æ€ãˆã°ã„ãã‚‰ã§ã‚‚ç´°åˆ†åŒ–ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚ç´°åˆ†åŒ–ã—ãŸæ•°ã ã‘terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯åœ°ç„ã«ãªã£ã¦ã„ããŸã‚ã€é©åˆ‡ãªæ•° (3ã€œ5å€‹ãã‚‰ã„) ã«ã—ã¦ãŠãã‚ˆã†ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã¯ã€å¾Œè¿°ã®AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã”ã£ã¡ã‚ƒã«ãªã£ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚‹ãŸã‚ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦æ„è­˜çš„ã«åˆ†å‰²ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ğŸ‘ã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚application (Web3å±¤ç³»)auth (èªè¨¼/èªå¯ç³»)monitor (ç›£è¦–ç³»)network (ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç³»)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾å­˜ã¯ä¸€æ–¹å‘æœ€çµ‚çš„ã«ã€networkã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„authã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            application["application-tfstate<br>Web3å±¤ã¨å‘¨è¾ºAWSãƒªã‚½ãƒ¼ã‚¹<br>(ALB, APIGateway, CloudFront, EC2, ECS, EKS, RDS, S3, SNS, ãªã©)"]            auth["auth-tfstate<br>(IAMãªã©)"]            monitor["monitor-tfstate<br>(CloudWatch, ãªã©)"]            network["network-tfstate<br>(Route53, VPC, ãªã©)"]            application-..->network            application-..->auth            monitor-..->application        end        subgraph stg-bucket            stg["tfstate"]        end        subgraph prd-bucket            prd["tfstate"]        end        endã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã™ã‚‹ã¨ãƒªãƒã‚¸ãƒˆãƒªãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ ğŸ“‚ application/â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ alb.tfâ”‚    â”œâ”€â”€ cloudfront.tfâ”‚    â”œâ”€â”€ ec2.tfâ”‚    â”œâ”€â”€ ecs.tfâ”‚    â”œâ”€â”€ eks.tfâ”‚    â”œâ”€â”€ ses.tfâ”‚    â”œâ”€â”€ sns.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ auth/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ iam.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ monitor/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ cloudwatch.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ network      â”œâ”€â”€ provider.tf      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ route53.tf      â”œâ”€â”€ vpc.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ           â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹           ...ã€ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ applicationâ”‚    â””â”€â”€ terraform.tfstate # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ authâ”‚    â””â”€â”€ terraform.tfstate # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ monitorâ”‚    â””â”€â”€ terraform.tfstate # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ network      â””â”€â”€ terraform.tfstate # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã§tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—ã‚‚ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã€åˆ†ã‘ã‚ˆã†ã¨æ€ãˆã°ã„ãã‚‰ã§ã‚‚ç´°åˆ†åŒ–ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚ç´°åˆ†åŒ–ã—ãŸæ•°ã ã‘terraform_remote_stateãƒ–ãƒ­ãƒƒã‚¯åœ°ç„ã«ãªã£ã¦ã„ããŸã‚ã€é©åˆ‡ãªæ•° (3ã€œ5å€‹ãã‚‰ã„) ã«ã—ã¦ãŠãã‚ˆã†ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ç‰¹ã«ã“ã®åˆ†å‰²æ–¹æ³•ã¯ã€ã‚°ãƒ«ãƒ¼ãƒ—æ•°ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ğŸ˜‡ã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚application (Webã‚µãƒ¼ãƒãƒ¼ã€Appã‚µãƒ¼ãƒãƒ¼ç³»)auth (èªè¨¼/èªå¯ç³»)datastore (DBã‚µãƒ¼ãƒãƒ¼ç³»)cicd (CI/CDç³»)monitor (ç›£è¦–ç³»)network (ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç³»)ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾å­˜ã¯ä¸€æ–¹å‘æœ€çµ‚çš„ã«ã€networkã‚°ãƒ«ãƒ¼ãƒ—ã‚„authã‚°ãƒ«ãƒ¼ãƒ—ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            application["application-tfstate<br>ä¾‹: ALB, API Gateway, CloudFront, EC2, ECS, EKS, SNS, ãªã©"]            auth["auth-tfstate<br>ä¾‹: IAM, ãªã©"]            cicd["cicd-tfstate<br>ä¾‹: Code3å…„å¼Ÿ, ãªã©"]            monitor["monitor-tfstate<br>ä¾‹: CloudWatch, ãªã©"]            network["network-tfstate<br>ä¾‹: Route53, VPC, ãªã©"]            datastore["datastore-tfstate<br>ä¾‹: ElastiCache, RDS, S3, ãªã©"]            application-....->auth            application-..->datastore            application-...->network            cicd-..->application            datastore-..->network            monitor-..->application            monitor-..->datastore       end    subgraph stg-bucket        stg["tfstate"]    end    subgraph prd-bucket        prd["tfstate"]    end    endã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã™ã‚‹ã¨ãƒªãƒã‚¸ãƒˆãƒªãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ ğŸ“‚ application/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ alb.tfâ”‚    â”œâ”€â”€ api_gateway.tfâ”‚    â”œâ”€â”€ cloudfront.tfâ”‚    â”œâ”€â”€ ec2.tfâ”‚    â”œâ”€â”€ ecs.tfâ”‚    â”œâ”€â”€ eks.tfâ”‚    â”œâ”€â”€ ses.tfâ”‚    â”œâ”€â”€ sns.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ auth/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ iam.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ cicd/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ codebuild.tfâ”‚    â”œâ”€â”€ codecommit.tfâ”‚    â”œâ”€â”€ codedeploy.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # cicdã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # cicdã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # cicdã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ datastore/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ elasticache.tfâ”‚    â”œâ”€â”€ rds.tfâ”‚    â”œâ”€â”€ s3.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # datastoreã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # datastoreã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # datastoreã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ monitor/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ cloudwatch.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ network      â”œâ”€â”€ provider.tf      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã€outputãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹      â”œâ”€â”€ route53.tf      â”œâ”€â”€ vpc.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ           â”œâ”€â”€ backend.tfvars # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹           ...ã€ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€AWSãƒªã‚½ãƒ¼ã‚¹ã®ç¨®é¡ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ applicationâ”‚    â””â”€â”€ terraform.tfstate # applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ authâ”‚    â””â”€â”€ terraform.tfstate # authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ cicdâ”‚    â””â”€â”€ terraform.tfstate # cicdã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ datastoreâ”‚    â””â”€â”€ terraform.tfstate # datastoreã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ monitorâ”‚    â””â”€â”€ terraform.tfstate # monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ network      â””â”€â”€ terraform.tfstate # networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...AWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦AWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã§tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—ã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚oneplane comments on Best way to approach splitting up the state fileã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä¾‹ãˆã°ã€ä»¥ä¸‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚å¤‰æ›´é«˜é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ›´ä¸­é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ›´ä½é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—ã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾å­˜ã¯ä¸€æ–¹å‘æœ€çµ‚çš„ã«ã€å¤‰æ›´ä½é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: AWSãƒªã‚½ãƒ¼ã‚¹ã®çŠ¶æ…‹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            high["high-freq-tfstate<br>ä¾‹: API Gateway, CloudFront, CloudWatch, IAM"]            middle["middle-freq-tfstate<br>ä¾‹: ALB, EC2, ECS, EKS, ElastiCache, RDS, S3, SES, SNS"]            low["low-freq-tfstate<br>ä¾‹: Route53, VPC"]            high-...->low            middle-..->low        end    subgraph stg-bucket        stg["tfstate"]    end    subgraph prd-bucket        prd["tfstate"]    end    endã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã™ã‚‹ã¨ãƒªãƒã‚¸ãƒˆãƒªãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€AWSãƒªã‚½ãƒ¼ã‚¹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-repository/â”œâ”€â”€ ğŸ“‚ high-freq # é«˜é »åº¦å¤‰æ›´ã‚°ãƒ«ãƒ¼ãƒ—â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ api_gateway.tfâ”‚    â”œâ”€â”€ cloudfront.tfâ”‚    â”œâ”€â”€ cloudwatch.tfâ”‚    â”œâ”€â”€ ec2.tfâ”‚    â”œâ”€â”€ ecs.tfâ”‚    â”œâ”€â”€ eks.tfâ”‚    â”œâ”€â”€ iam.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # high-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # high-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # high-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ low-freq # ä½é »åº¦å¤‰æ›´ã‚°ãƒ«ãƒ¼ãƒ—â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ route53.tfâ”‚    â”œâ”€â”€ vpc.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tesâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # low-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stgâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # low-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prdâ”‚          â”œâ”€â”€ backend.tfvars # low-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ middle-freq # ä¸­é »åº¦å¤‰æ›´ã‚°ãƒ«ãƒ¼ãƒ— (é«˜é »åº¦ã¨ã‚‚ä½é »åº¦ã¨ã‚‚è¨€ãˆãªã„ãƒªã‚½ãƒ¼ã‚¹)      â”œâ”€â”€ provider.tf      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ elasticache.tf      â”œâ”€â”€ rds.tf      â”œâ”€â”€ s3.tf      â”œâ”€â”€ ses.tf      â”œâ”€â”€ ğŸ“‚ tes      â”‚    â”œâ”€â”€ backend.tfvars # middle-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg      â”‚    â”œâ”€â”€ backend.tfvars # middle-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd           â”œâ”€â”€ backend.tfvars # middle-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹           ...ã€å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆAWSãƒªã‚½ãƒ¼ã‚¹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€AWSãƒªã‚½ãƒ¼ã‚¹ã®å¤‰æ›´é »åº¦ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥ã«åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ high-freqâ”‚    â””â”€â”€ terraform.tfstate # high-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ middle-freqâ”‚    â””â”€â”€ terraform.tfstate # middle-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ low-freq      â””â”€â”€ terraform.tfstate # low-freqã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ Ã— ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã“ã®åˆ†å‰²æ–¹æ³•ã«ã¤ã„ã¦é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚’çµ„ã¿åˆã‚ã›ã¦tfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã—ã€ä¸­é–“å±¤ã‚‚ã“ã‚Œã«åŸºã¥ã„ã¦è¨­è¨ˆã—ã¾ã™ã€‚ã“ã®åˆ†å‰²æ–¹æ³•ã«ã‚ˆã‚Šã€å„é‹ç”¨ãƒãƒ¼ãƒ å†…ã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç®¡ç†è€…ãŒäº’ã„ã«å½±éŸ¿ã‚’å—ã‘ãšã«ã€terraformã‚³ãƒãƒ³ãƒ‰ã®çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ä»¥ä¸‹ã®é‹ç”¨ãƒãƒ¼ãƒ ã«åˆ†å‰²ã—ãŸçŠ¶æ³ã¨ä»®å®šã—ã¾ã™ã€‚ã¾ãŸã€å„é‹ç”¨ãƒãƒ¼ãƒ ã§Terraformã‚’å¤‰æ›´ã§ãã‚‹ç®¡ç†è€…ãŒç›¸å½“æ•°ã™ã‚‹ãŸã‚ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã«ã‚‚åˆ†å‰²ã—ãŸã¨ã—ã¾ã™ã€‚frontendãƒãƒ¼ãƒ applicationmonitorbackendãƒãƒ¼ãƒ applicationmonitorsreãƒãƒ¼ãƒ applicationauthmonitornetworkã“ã“ã§ä»®å®šã—ãŸçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾å­˜ã¯ä¸€æ–¹å‘æœ€çµ‚çš„ã«ã€sreãƒãƒ¼ãƒ ã®ç®¡ç†ã™ã‚‹ tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã—ã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ãŸã‚ã€æƒ³å®šã•ã‚Œã‚‹çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ãªãŠã€ä¾å­˜æ–¹å‘ã¯çŠ¶æ³ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã“ã¨ã‚’ã”å®¹èµ¦ãã ã•ã„ã€‚---title: é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ Ã— ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥---%%{init:{'theme':'default'}}%%flowchart TB    subgraph AWS        subgraph tes-bucket            subgraph frontend-team               frontendApplication["application-tfstate<br>(CloudFront, S3, ãªã©)"]               frontendMonitor["monitor-tfstate<br>(CloudWatch, ãªã©)"]            end            subgraph backend-team                backendApplication["application-tfstate<br>(API Gateway, ElastiCache, RDS, SES, SNS, ãªã©)"]                backendMonitor["monitor-tfstate<br>(CloudWatch, ãªã©)"]            end            subgraph sre-team                sreApplication["application-tfstate<br>Web3å±¤ã¨å‘¨è¾ºAWSãƒªã‚½ãƒ¼ã‚¹<br>(ALB, EC2, ECS, EKS, SNS, ãªã©)"]                auth["auth-tfstate<br>(IAM, ãªã©)"]                sreMonitor["monitor-tfstate<br>(CloudWatch, ãªã©)"]                network["network-tfstate<br>(Route53, VPC, ãªã©)"]            end            frontendApplication-...->network            sreApplication-...->auth            sreApplication-...->network            backendApplication-...->auth            backendApplication-...->network            frontendMonitor-...->frontendApplication            sreMonitor-...->sreApplication            backendMonitor-...->backendApplication        end    subgraph stg-bucket        stg["tfstate"]    end    subgraph prd-bucket        prd["tfstate"]    end    endã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã“ã®å ´åˆã§ã¯ã€é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚’çµ„ã¿åˆã‚ã›ã¦åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ğŸ­ aws-frontend-team-repository/â”œâ”€â”€ ğŸ“‚ application/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ cloudfront.tfâ”‚    â”œâ”€â”€ ses.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ monitor/      â”œâ”€â”€ provider.tf      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ cloudwatch.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ            â”œâ”€â”€ backend.tfvars # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹            ...ğŸ­ aws-backend-team-repository/â”œâ”€â”€ ğŸ“‚ application/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ api_gateway.tfâ”‚    â”œâ”€â”€ elasticache.tfâ”‚    â”œâ”€â”€ rds.tfâ”‚    â”œâ”€â”€ ses.tfâ”‚    â”œâ”€â”€ sns.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ monitor/      â”œâ”€â”€ provider.tf      â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹      â”œâ”€â”€ cloudwatch.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ            â”œâ”€â”€ backend.tfvars # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹            ...ğŸ­ aws-sre-team-repository/â”œâ”€â”€ ğŸ“‚ application/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ alb.tfâ”‚    â”œâ”€â”€ ec2.tfâ”‚    â”œâ”€â”€ ecs.tfâ”‚    â”œâ”€â”€ eks.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ auth/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹â”‚    â”œâ”€â”€ iam.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â”œâ”€â”€ ğŸ“‚ monitor/â”‚    â”œâ”€â”€ provider.tfâ”‚    â”œâ”€â”€ remote_state.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹â”‚    â”œâ”€â”€ cloudwatch.tfâ”‚    â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒâ”‚    â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚    â”‚    ...â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒâ”‚          â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹â”‚          ...â”‚â””â”€â”€ ğŸ“‚ network      â”œâ”€â”€ provider.tf      â”œâ”€â”€ output.tf # ä»–ã® tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä¾å­˜ã•ã‚Œã‚‹      â”œâ”€â”€ route53.tf      â”œâ”€â”€ vpc.tf      â”œâ”€â”€ ğŸ“‚ tes/ # Tesç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â”œâ”€â”€ ğŸ“‚ stg/ # Stgç’°å¢ƒ      â”‚    â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹      â”‚    ...      â”‚      â””â”€â”€ ğŸ“‚ prd/ # Prdç’°å¢ƒ            â”œâ”€â”€ backend.tfvars # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤ terraform.tfstate ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹            ...â–¼ åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆé‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚’çµ„ã¿åˆã‚ã›ã‚‹åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€åŒã˜ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã™ã‚‹ã¨ãƒªãƒã‚¸ãƒˆãƒªãŒå·¨å¤§ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚ã€ãƒãƒ¼ãƒ åˆ¥ Ã— ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã€‘ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆâ–¼ ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆé‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚’çµ„ã¿åˆã‚ã›ã‚‹åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å ´åˆã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã™ã‚‹ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒå¢—ãˆéãã¦ã—ã¾ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã¯ãŠå‹§ã‚ã—ã¾ã›ã‚“ã€‚â–¼ åŒã˜ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å ´åˆã“ã®å ´åˆã§ã¯ã€é‹ç”¨ãƒãƒ¼ãƒ è²¬å‹™ç¯„å›²åˆ¥ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚’çµ„ã¿åˆã‚ã›ã¦åˆ†å‰²ã—ãŸtfstateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ç•°ãªã‚‹ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€tfstateãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã«åŸºã¥ã„ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¼æ§‹æˆä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚å›³ã¨åŒã˜çŠ¶æ³ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚# Tesç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ tes-bucket/â”œâ”€â”€ ğŸ“‚ frontend-teamâ”‚    â”œâ”€â”€ ğŸ“‚ applicationâ”‚    â”‚    â””â”€â”€ terraform.tfstate # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ monitorâ”‚         â””â”€â”€ terraform.tfstate # frontendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â”œâ”€â”€ ğŸ“‚ backend-teamâ”‚    â”œâ”€â”€ ğŸ“‚ applicationâ”‚    â”‚    â””â”€â”€ terraform.tfstate # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚    â”‚â”‚    â””â”€â”€ ğŸ“‚ monitorâ”‚          â””â”€â”€ terraform.tfstate # backendãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤â”‚â””â”€â”€ ğŸ“‚ sre-team      â”œâ”€â”€ ğŸ“‚ application      â”‚    â””â”€â”€ terraform.tfstate # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹applicationã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤      â”‚      â”œâ”€â”€ ğŸ“‚ auth      â”‚    â””â”€â”€ terraform.tfstate # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹authã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤      â”‚      â”œâ”€â”€ ğŸ“‚ monitor      â”‚    â””â”€â”€ terraform.tfstate # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹monitorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤      â”‚      â””â”€â”€ ğŸ“‚ network            â””â”€â”€ terraform.tfstate # sreãƒãƒ¼ãƒ ãŒç®¡ç†ã™ã‚‹networkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çŠ¶æ…‹ã‚’æŒã¤# Stgç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ stg-bucket/â”‚...# Prdç’°å¢ƒç”¨ãƒã‚±ãƒƒãƒˆã®å ´åˆğŸª£ prd-bucket/â”‚...10. ãŠã‚ã‚Šã«Terraformã®tfstateãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚‚ã‚Šã‚‚ã‚Šå¸ƒæ•™ã—ã¾ã—ãŸã€‚ãœã²æ¡ç”¨ã—ã¦ã¿ãŸã„åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚ã£ãŸã§ã—ã‚‡ã†ã‹ã€‚Terraformã®é–‹ç™ºç¾å ´ã®å…·ä½“çš„ãªè¦ä»¶ã¯åƒå·®ä¸‡åˆ¥ã§ã‚ã‚Šã€ç‰¹ã«tfstateãƒ•ã‚¡ã‚¤ãƒ«é–“ã®çŠ¶æ…‹ã®ä¾å­˜é–¢ä¿‚ã¯æ§˜ã€…ã§ã™ã€‚ã‚‚ã—ã€ã“ã®è¨˜äº‹ã‚’å‚è€ƒã«è¨­è¨ˆã—ã¦ãã ã•ã‚‹æ–¹ã¯ã€åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¾å ´ã«è½ã¨ã—è¾¼ã‚“ã§è§£é‡ˆã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ğŸ™‡ğŸ»â€ã€Œè‡ªåˆ†ã‚’ä¿¡ã˜ã¦ã‚‚â€¦ä¿¡é ¼ã«è¶³ã‚‹ä»²é–“ã‚’ä¿¡ã˜ã¦ã‚‚â€¦èª°ã«ã‚‚ã‚ã‹ã‚‰ãªã„â€¦ã€(ãŠå‹é”ã®@nwiizo, 2023, Terraform Modules ã§å†åˆ©ç”¨ã§ãã‚‹ã®ã§æœ€é«˜ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ)è¬è¾ä»Šå›ã€Terraformã®åˆ†å‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åé›†ã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®æ–¹ã€…ã‹ã‚‰ã®æ„è¦‹ãƒ»å®Ÿè£…æ–¹æ³•ã‚‚å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚@kiyo_12_07 ã•ã‚“@masasuzu ã•ã‚“@tozastation ã•ã‚“(ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †)ã“ã®å ´ã§æ„Ÿè¬ç”³ã—ä¸Šã’ã¾ã™ğŸ™‡ğŸ»â€]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å…‰ã«è² ã‘ãƒ«ãƒŠ~Google Cloudã§ã®ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¤ã„ã¦~]]></title>
            <link>https://zenn.dev/nnaka2992/articles/to_beat_light_speed_on_google_cloud_databases</link>
            <guid>https://zenn.dev/nnaka2992/articles/to_beat_light_speed_on_google_cloud_databases</guid>
            <pubDate>Mon, 03 Jul 2023 15:39:08 GMT</pubDate>
            <content:encoded><![CDATA[ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹ä¸€ç•ªã®ãƒ¡ãƒªãƒƒãƒˆã®ä¸€ã¤ã¨ã—ã¦ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’èª¿é”ã—ã€ã‚¢ã‚¯ã‚»ã‚¹è² è·ã«å¿œã˜ã¦ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆå‡ºæ¥ã‚‹ã“ã¨ãŒä¸Šã’ã‚‰ã‚Œã¾ã™ã€‚ãã®ãŸã‚å¤§ä½“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã¾ãŸã¯éš£æ¥ã™ã‚‹ãƒªãƒ¼ã‚¸ãƒ§ãƒ³2~3ç¨‹åº¦ã§é‹ç”¨ã‚’å§‹ã‚ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚(æ—¥æœ¬ã®å ´åˆasia-northeast-1ã¨asia-northeast-2ãªã©)ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã«æ‹¡å¤§ã™ã‚‹ã¨ã€ãã‚Œã ã‘ç‰©ç†çš„ãªè·é›¢ãŒåºƒãŒã‚Šãƒ¦ãƒ¼ã‚¶ãƒ»ã‚µãƒ¼ãƒé–“ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã‹ã‹ã‚‹æ™‚é–“ãŒæ‹¡å¤§ã—ã¾ã™ã€‚ä¾‹ãˆã°ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚µãƒ¼ãƒå…±ã«æ—¥æœ¬ã«ã‚ã‚‹å ´åˆ(æ²–ç¸„ãƒ»åŒ—æµ·é“é–“ç´„3,000km)ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã‚‹é…å»¶ã¯ç‰‡é“ç´„15msä»¥ä¸‹...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ã‚¹ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯ã«å…¥ç¤¾ã—ã¾ã—ãŸï¼]]></title>
            <link>https://bells17.medium.com/3-shake-279ea982b977?source=rss-713cf42ce34d------2</link>
            <guid>https://bells17.medium.com/3-shake-279ea982b977?source=rss-713cf42ce34d------2</guid>
            <pubDate>Mon, 03 Jul 2023 14:10:50 GMT</pubDate>
        </item>
        <item>
            <title><![CDATA[SREã®å°‚é–€å®¶ãŒé›†ã¾ã£ãŸãƒãƒ¼ãƒ ã§ã€SREã®æ¢æ±‚ã€ã®ç¤¾å†…è¼ªèª­ä¼šã‚’å®Œé‚ã—ã¾ã—ãŸã€‚]]></title>
            <link>https://syu-m-5151.hatenablog.com/entry/2023/07/03/094713</link>
            <guid>https://syu-m-5151.hatenablog.com/entry/2023/07/03/094713</guid>
            <pubDate>Mon, 03 Jul 2023 00:47:13 GMT</pubDate>
            <content:encoded><![CDATA[ğŸ¡ å‰å›ã®è¨˜äº‹syu-m-5151.hatenablog.comğŸ¶ ã¯ã˜ã‚ã«ã“ã‚“ã«ã¡ã¯ã€‚æ ªå¼ä¼šç¤¾ã‚¹ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯ Sreake äº‹æ¥­éƒ¨ã«æ‰€å±ã—ã¦ã„ã‚‹@nwiizo ã§ã™ã€‚Sreakeäº‹æ¥­éƒ¨ã¯æŠ€è¡“åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹é ˜åŸŸã§è±Šå¯ŒãªçµŒé¨“ã‚’æŒã¤SREã®å°‚é–€å®¶ãŒé›†ã¾ã£ãŸãƒãƒ¼ãƒ ã§ã™ã€‚äº‹æ¥­éƒ¨ã«ã¯ã•ã¾ã–ã¾ãªèƒŒæ™¯ã‚’æŒã¤SREã®å°‚é–€å®¶ãŒå¤šãåœ¨ç±ã—ã¦ã¾ã™ã€‚ã—ã‹ã—ã€ãã®SREã®å°‚é–€å®¶é”ã¨ã¯æ¡ˆä»¶ãŒä¸€ç·’ã«ãªã‚‰ãªã‹ã£ãŸã‚Šã€èƒ½å‹•çš„ã«è³ªå•ã‚’ã—ãªã‘ã‚Œã°SREã«é–¢ã™ã‚‹æ„è¦‹ã‚„çŸ¥è¦‹ã‚’èã‘ã¾ã›ã‚“ã§ã—ãŸã€‚SREã®æ¢æ±‚ â€•æ§˜ã€…ãªä¼æ¥­ã«ãŠã‘ã‚‹ã‚µã‚¤ãƒˆãƒªãƒ©ã‚¤ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®å°å…¥ã¨å®Ÿè·µã‚ªãƒ©ã‚¤ãƒªãƒ¼ã‚¸ãƒ£ãƒ‘ãƒ³Amazonãã‚“ãªã€èª²é¡ŒãŒã‚ã‚‹ä¸­ã§åŠå¹´å‰ã«å„æ¡ˆä»¶ã§å¾—ãŸçŸ¥è¦‹ã‚„çµŒé¨“ã‚’å„ãƒ¡ãƒ³ãƒãƒ¼ã§å‡ºã—åˆãˆã‚‹ä¼šãŒã‚‚ã£ã¨(ç¤¾å†…ã§æŠ€è¡“å…±æœ‰ä¼šã¯ã‚ã‚‹ãŸã‚)ã‚ã‚‹ã¨è‰¯ã„ã¨æ€ã„ã¾ã—ãŸã€‚ãã“ã§ç¤¾å†…ãƒãƒ£ãƒƒãƒˆã§æœ‰å¿—ã‚’å‹Ÿã‚Š ã€è¼ªèª­ä¼šã«ã¤ã„ã¦è€ƒãˆã‚‹ä¼šã€ã‚’è¡Œã„ã¾ã—ãŸã€‚ç¤¾å†…ãƒãƒ£ãƒƒãƒˆã§é‹å–¶ã‚’å‹Ÿã‚‹ã¨ä¸€ç¬ã§é›†ã¾ã£ãŸã®ã§è‰¯ã„çµ„ç¹”ã ã¨æ€ã„ã¾ã—ãŸã€‚â€»ã€è¼ªèª­ä¼šã®å„è©±ã€ã®è­°äº‹éŒ²ãŒè¦‹ã‚Œã‚‹TOPãƒšãƒ¼ã‚¸ã§ã™ã€‚ğŸµ å„ãƒ¡ãƒ³ãƒãƒ¼ã®æ„Ÿæƒ³ã¨ä»Šå¾Œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³sugoudeé€”ä¸­ã‹ã‚‰ã®å‚åŠ ã§ã—ãŸãŒã€æ¥½ã—ãå½¹ç«‹ã¤è¼ªèª­ä¼šã§ã—ãŸã€‚ç‰¹ã«16ç« 17ç« ã¯DBREã«é–¢ã™ã‚‹å†…å®¹ã§ã—ãŸã®ã§å½“äº‹è€…æ„è­˜ã‚’æŒã£ã¦å‚åŠ ã—ã€æœ‰æ„ç¾©ãªæ™‚é–“ã«ãªã‚Šã¾ã—ãŸã€‚å€‹äººçš„ã«ã¯ã€é€”ä¸­ã‹ã‚‰ã®å‚åŠ ã§ã—ãŸã®ã§ã€SREã®æ¢æ±‚ã‚’å†æ¼”ã—ã¦ã‚‚ã‚‰ãˆãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚hash_gené¸å®šç†ç”±ã¨ã—ã¦ã¿ã‚“ãªSREæœ¬ã¯èª­ã‚“ã§ã‚‹ã ã‚ã†ã¨ã„ã†ç‚¹ã‚‚ã‚ã£ãŸã¨æ€ã„ã¾ã™ãŒã€æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã¨å‘ãåˆã£ã¦ããŸSreakeäº‹æ¥­ãŒã‚ã‚‹3-shakeã ã‹ã‚‰ã“ãSREã®æ¢æ±‚ã‚’è¼ªèª­ã™ã‚‹ä¾¡å€¤ãŒã‚ã£ãŸã¨æ€ã„ã¾ã—ãŸã€‚æ§˜ã€…ãªäº‹ä¾‹ã«å¯¾ã—ã¦æˆ‘ã€…ã®å ´åˆã¯ã©ã†ã‚„ã£ã¦ææ¡ˆã—ã¦ã„ã‘ã°ã‚ˆã„ã‹ã¨ã„ã†ä¼šè©±ãŒå¤šã‹ã£ãŸã“ã¨ãŒå°è±¡ã«æ®‹ã£ã¦ã„ã¾ã™ã€‚æ—¥ã€…ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã§ã‚‚æŠ€è¡“ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã®å†…å®¹ã«åŠ ãˆã¦å…·ä½“çš„ãªçµŒé¨“ä¾‹ã‚’ç¤¾å†…ã«ç©æ¥µçš„ã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¦ã„ãã“ã¨ã§ã“ã®ã„ã„ç¿’æ…£ã‚’ç¶šã‘ã¦ã„ã‘ãŸã‚‰ã¨æ€ã£ã¦ã„ã¾ã™ã€‚SatohJohnå…¥ç¤¾ã—ã¦ã¾ã‚‚ãªãã¨ã„ã†ã®ã‚‚æœ‰ã‚Šã€ãã“ã¾ã§SREã®ç”¨èªã«å¯¾ã—ã¦è©³ã—ããªã‹ã£ãŸãŸã‚ã€ã“ã®æœ¬ã‚’èª­ã‚€ã“ã¨ã§ã€ã©ã†ã—ã¦ãã‚Œã‚‰ã®ç”¨èªãŒå¿…è¦ãªã®ã‹ãŒæ·±æ˜ã‚Šã§ããŸããŒã—ã¾ã—ãŸã€‚ã¾ãŸã€å€‹äººçš„ã«Google Cloudã®DevOpsã®è©¦é¨“ã‚’å—ã‘ã‚‹ã“ã¨ãŒæœ‰ã‚Šã€ãã®éš›ã«ã‚‚ã“ã®æœ¬ã§ã®è©±é¡ŒãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã€‚ä»Šå¾Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«SREã®è€ƒãˆã‚’å…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã®ã«ã€ã¡ã‚‡ã†ã©ã‚ˆã„ç²’åº¦ã ã£ãŸã¨æ„Ÿã˜ã¦ãŠã‚Šã¾ã™ã€‚tozastationã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®æ–¹ãŒå‚åŠ ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã ã‘å‡ºã‚ŒãŸã®ã§ãã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã§...! Sreake äº‹æ¥­éƒ¨ã ã‘ã§ãªãã€ä»–äº‹æ¥­éƒ¨ã‚‚å·»ãè¾¼ã‚“ã§é–‹å‚¬ã—ã¦ã„ãŸã®ãŒç´ æ•µã ãªã¨æ€ã„ã¾ã—ãŸã€‚Sreake ã®ä»•äº‹ã‚’çŸ¥ã£ã¦ã‚‚ã‚‰ã†ã§ã‚ã£ãŸã‚Šã€ä»–äº‹æ¥­éƒ¨ã«ã‚‚ SRE ã‚’å–ã‚Šè¾¼ã‚“ã§ã‚‚ã‚‰ã†ãªã©ã•ã¾ã–ã¾ãªæ„è¦‹äº¤æ›ãŒç”Ÿã¾ã‚Œã‚‹å ´ã ã£ãŸã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®æ–¹ã‚‚å£°ã‚’ä¸Šã’ã¦ãã‚ŒãŸã®ãŒã•ã‚‰ã«è‰¯ã‹ã£ãŸã§ã™ï¼æ¬¡ã®ãƒ†ãƒ¼ãƒã‚‚å¿œæ´ã—ã¦ã¾ã™ï¼nnaka2992DBREå…¼SREè¦‹ç¿’ã„ã¨ã—ã¦SREæ´»å‹•ã‚’ã—ã¦ã„ã‚‹è‡ªåˆ†ã«ã¨ã£ã¦ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä»¥å¤–ã§ã®SREã®å–ã‚Šçµ„ã¿ã‚’æŠ€è¡“ãƒ»ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¹ã‚­ãƒ«ä¸¡æ–¹ã®é¢ã‹ã‚‰å­¦ã¹ã‚‹æœ¬ã§ã—ãŸã€‚å¼Šç¤¾ã®ã‚ˆã†ãªä¸ç‰¹å®šå¤šæ•°ã®çµ„ç¹”ã«å¯¾ã™ã‚‹SREã®å°å…¥ã‚µãƒãƒ¼ãƒˆã‚’è¡Œã†ä¼æ¥­ã§ã¯ã€ãã‚Œãã‚Œã®çµ„ç¹”ã«åˆã‚ã›ãŸSREã®é©ç”¨ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚æ§˜ã€…ãªSREå®Ÿè·µä¾‹ã‚’æ‰±ã†æœ¬æ›¸ç±ã¯è‡ªåˆ†ã®çŸ¥è¦‹ã‚’æ·±ã‚ã‚‹é¢ã§ã‚‚ã€SREã¨ã—ã¦ã®å¼•ãå‡ºã—ã‚’å¢—ã‚„ã™é¢ã§ã‚‚ç´ æ™´ã‚‰ã—ã„æ›¸ç±ã§ã—ãŸã€‚ä»Šå¾Œã¯ã‚ãã¾ã§ã“ã®æ›¸ç±ã¯ã‚ã‚‹çµ„ç¹”ã§ã®æœ€é©è§£ã¨ã—ã¦ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã—ãªãŒã‚‰ã€ãã‚Œãã‚Œã®çµ„ç¹”ã§æœ€é©ã¨ãªã‚‹SREã®æ¢æ±‚ã‚’ç¶šã‘ã‚‰ã‚Œã‚Œã°ã¨æ€ã„ã¾ã™ã€‚ã¨ã‚ã‚‹ãƒ¡ãƒ³ãƒãƒ¼ã™ã”ã„æœ‰æ„ç¾©ãªæ™‚é–“ã§ã—ãŸã€‚Sreakeå†…ã§è‡ªåˆ†ã¯äººæ•°ã‚‚çµ„ç¹”ã‚‚å¤§ããªçµ„ç¹”ã§ã©ã†ã‚„ã£ã¦æ—¢å­˜ã®çµ„ç¹”ã«SREã‚’å°å…¥ã™ã‚‹ã‹ï¼Ÿã‚’è€ƒãˆã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’çŸ¥ã‚ŒãŸã®ã¯è‰¯ã„ä½“é¨“ã§ã—ãŸã€‚è¼ªèª­ã§å­¦ã‚“ã ã“ã¨ã‚’ãŠå®¢æ§˜ã«è©±ã™ã¨ã€Œãªã‚‹ã»ã©ï¼ã€ã¨è¨€ã£ã¦ã‚‚ã‚‰ãˆã‚‹ã“ã¨ã‚‚å¤šã€…ã‚ã‚Šã¾ã—ãŸã€‚ğŸ¦ ã¾ã¨ã‚ä»Šå›ã®èª­æ›¸ä¼šã¯ã€æ–°ã—ã„çŸ¥è­˜å…±æœ‰ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ã‚’ä½œã‚Šä¸Šã’ãªãŒã‚‰å®Ÿæ–½ã—ã¾ã—ãŸã€‚æ¯é€±1å›ã€å®šã‚ã‚‰ã‚ŒãŸæ™‚é–“ã«ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã«é›†ã¾ã‚Šã€æ‹…å½“è€…ãŒ1ç« ãšã¤èª­ã¿ã¾ã¨ã‚ã€ãã‚Œã«ã¤ã„ã¦è©±ã—åˆã†ã®ã§ã™ã€‚ãã—ã¦ã€ãã®è­°è«–ã®éç¨‹ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜éŒ²ã—ã€å°è±¡ã«æ®‹ã£ãŸéƒ¨åˆ†ã‚’ã„ã¤ã§ã‚‚è¦‹è¿”ã›ã‚‹ã‚ˆã†ã«ä¿å­˜ã—ã¦ãŠã‘ã¾ã™ã€‚æ„Ÿæƒ³ã¯ã‚‚ã¡ã‚ã‚“ã€ä¸€äººä¸€äººç•°ãªã‚Šã¾ã™ãŒã€ãã‚Œãã‚ŒãŒèª²é¡Œã‚„çµ„ç¹”ã«å‘ã‹ã£ã¦è§£æ±ºç­–ã‚’è€ƒãˆã¦ã„ãã®ãŒã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ã€‚ãã®çµæœã€åŒã˜æœ¬ã‚’èª­ã‚“ã§ã„ã¦ã‚‚ã€ãã‚Œãã‚Œç•°ãªã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è€ƒãˆå‡ºã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’æ´»ç”¨ã—ãŸè­°è«–ã¨è¼ªèª­ã«ã‚ˆã‚Šã€æ´»ç™ºãªæ„è¦‹äº¤æ›ã‚’ã—ãªãŒã‚‰ç‰¹æ®ŠãªãƒŸãƒ¼ãƒ ãŒç™ºç”Ÿã—ãŸã‚Šæ¥½ã—ãèª­æ›¸ã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã‚Œã‹ã‚‰ã‚‚ã€ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ã®èª­æ›¸ä¼šã¯ç¶šã‘ã¦ã„ãäºˆå®šã§ã™ã€‚çš†ã•ã‚“ã‚‚ã€ä¸€ç·’ã«åƒããƒ¡ãƒ³ãƒãƒ¼ã¨èª­æ›¸ä¼šã‚’è©¦ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿæ–°ãŸãªçŸ¥è­˜å…±æœ‰ã®ä½“é¨“ã€ãã®åˆºæ¿€ã‚’å‘³ã‚ã£ã¦ã»ã—ã„ã§ã™ã€‚å¼Šç¤¾ã®æ¡ç”¨ã‚µã‚¤ãƒˆã‚‚è¼‰ã›ã¦ãŠãã¾ã™jobs-3-shake.com]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Copilotã§ã‚‰ãã‚‰ãã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°]]></title>
            <link>https://zenn.dev/nnaka2992/articles/code_reading_with_copilot</link>
            <guid>https://zenn.dev/nnaka2992/articles/code_reading_with_copilot</guid>
            <pubDate>Wed, 28 Jun 2023 14:41:21 GMT</pubDate>
            <content:encoded><![CDATA[GitHub Copilotä¾¿åˆ©ã§ã™ã­ã€‚2021å¹´ã«Technical Previewã¨ã—ã¦ç™ºè¡¨ã•ã‚ŒãŸæ™‚ã‹ã‚‰ä¾¿åˆ©ã ä¾¿åˆ©ã ã¨è¨€ã‚ã‚Œã¦ã„ãŸGitHub Copilotã«ã€2023å¹´ã®4æœˆæœ«ã”ã‚ã‹ã‚‰ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ã¾ã—ãŸã€‚ãƒ‡ãƒ“ãƒ¥ãƒ¼ã—ãŸã¯è‰¯ã„ã‚‚ã®ã®æœ€è¿‘ã¯ä»•äº‹ã§ã¯ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ˆã‚Šã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆçš„ãªæ–¹é¢ã§ã®ãŠä»•äº‹ãŒå¤šã‹ã£ãŸã‚Šã€å€‹äººã®æ™‚é–“ã§ã‚‚ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹ã‚ˆã‚ŠOSSã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã“ã¨ã®ã»ã†ãŒå¤šãã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã¯ä½¿ã„ã“ãªã›ã¦ã„ã¾ã›ã‚“ã€‚ãã®ãŸã‚æœ€è¿‘ã¯PostgreSQLã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã¨ãã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚ãªã®ã§ã“ã®è¨˜äº‹ã§ã¯Copilotã§ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Cloud Runã®Sidecarã§JVMã®metricsã®å–å¾—ã—ã¦ã¿ãŸ]]></title>
            <link>https://zenn.dev/satohjohn/articles/25bc5879de7832</link>
            <guid>https://zenn.dev/satohjohn/articles/25bc5879de7832</guid>
            <pubDate>Wed, 28 Jun 2023 12:03:00 GMT</pubDate>
            <content:encoded><![CDATA[æ¦‚è¦Cloud Runã®metricsã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å–å¾—ã—ã¦ã„ã‚‹æŒ‡æ¨™(metrics)ä»¥å¤–ã®æŒ‡æ¨™ãŒä»–ã«æ¬²ã—ã„å ´åˆã€ã©ã†ã™ã‚‹ã®ãŒè‰¯ã„ã®ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚ã¡ã‚‡ã†ã©Cloud Runã®Sidecaræ©Ÿèƒ½ãŒã§ãŸã®ã§ã€ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚ä»–ã®æŒ‡æ¨™ã‚’ã€ã“ã“ã§ã¯JVMã®metricsã¨ã—ã¾ã™ã€‚Cloud Runä¸Šã®JVMã®metricsãŒå–ã‚Œã¦ä½•ãŒå¬‰ã—ã„ã®ã‹ã«ã¤ã„ã¦ã¯ã€ä¸€æ—¦è€ƒãˆã¾ã›ã‚“ã€‚å¾Œã«Cloud Runã®æœ€å¤§èµ·å‹•æ™‚é–“ãŒå¢—ãˆãŸå ´åˆã¯ã€æ„å‘³ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ æ§‹æˆå›³ã«ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚Cloud Runã§Spring Bootã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç«‹ã¡ä¸Šã’Clou...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ãƒ­ã‚¯ã«å‹‰å¼·ã—ã¦ã“ãªã‹ã£ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒè¼ªèª­ä¼šå‚åŠ ã¨ã‹PCAå—é¨“ã«å‘ã‘ã¦å‹‰å¼·ã¨ã‹ã—ã¦ã¿ãŸè©±]]></title>
            <link>https://qiita.com/bayobayo0324/items/56f93f50fa0115dc4d6d</link>
            <guid>https://qiita.com/bayobayo0324/items/56f93f50fa0115dc4d6d</guid>
            <pubDate>Tue, 27 Jun 2023 12:31:17 GMT</pubDate>
            <content:encoded><![CDATA[ã“ã®è¨˜äº‹ã«ã¤ã„ã¦40æ­³ã§ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã‹ã‚‰è»¢è·ã‚’ãã£ã‹ã‘ã«ä¼šç¤¾å“¡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã£ã¦ã€ç¤¾å†…ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ç†±æ„ã«å½±éŸ¿ã‚’å—ã‘ã¦å‹‰å¼·ã‚’ã¯ã˜ã‚ã¦ã¿ãŸä¸­å¹´ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ„Ÿæƒ³ã¨ã‹æ°—ã¥ãã¨ã‹ã§ã™ã€‚å…ˆã«çµè«–å‹‰å¼·ã™ã‚‹â€¦]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[PagerDutyãŒãŸãã•ã‚“æ©Ÿèƒ½è¿½åŠ ã—ã¦ã„ã‚‹ã¿ãŸã„ãªã®ã§ã¾ã¨ã‚ã¦ã¿ãŸ]]></title>
            <link>https://sreake.com/blog/pagerduty-release-updates/</link>
            <guid>https://sreake.com/blog/pagerduty-release-updates/</guid>
            <pubDate>Tue, 27 Jun 2023 06:38:36 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã« PagerDutyã¯ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®ç®¡ç†ã€ã‚ªãƒ³ã‚³ãƒ¼ãƒ«é€šçŸ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã€ã¨ã¦ã‚‚å„ªç§€ãªã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ç›´è¿‘ã‚‚ã€æ§˜ã€…ãªæ–°æ©Ÿèƒ½ãŒå‡ºã¦ã„ã¾ã™ãŒã€æ—§æ©Ÿèƒ½ã‹ã‚‰æ–°æ©Ÿèƒ½ã¸ã®ç§»è¡Œã‚‚åŒæ™‚ã«è¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚ å¼Šç¤¾ã§ã¯ã€PagerDut [â€¦]The post PagerDutyãŒãŸãã•ã‚“æ©Ÿèƒ½è¿½åŠ ã—ã¦ã„ã‚‹ã¿ãŸã„ãªã®ã§ã¾ã¨ã‚ã¦ã¿ãŸ first appeared on sreake.com | æ ªå¼ä¼šç¤¾ã‚¹ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯.]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Terraformã§å®Ÿè·µã™ã‚‹AWS IAM Identity Centerï¼ˆAWS Single Sign-Onï¼‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æˆ¦ç•¥]]></title>
            <link>https://qiita.com/yokoo-an209/items/569ac1ba517b076e8cde</link>
            <guid>https://qiita.com/yokoo-an209/items/569ac1ba517b076e8cde</guid>
            <pubDate>Wed, 21 Jun 2023 04:05:23 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«AWS IAM Identity Centerï¼ˆAWS Single Sign-Onï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã‚’è€ƒãˆã¦ã„ãä¸Šã§ã€Terraformã‚’ä½¿ç”¨ã—ã¦æ§‹æˆç®¡ç†ã‚’å®Ÿç¾ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚ä½œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã¯githubä¸Šã«ä¸ŠãŒã£ã¦ã„ã‚‹ã®ã§ã€ã”å‚è€ƒãã ã•ã„â€¦]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ã‚¢ãƒ—ãƒªé–‹ç™ºè€…ã®ãŸã‚ã® kubectl è¬›åº§]]></title>
            <link>https://zenn.dev/toshikish/articles/6a06017747cbba</link>
            <guid>https://zenn.dev/toshikish/articles/6a06017747cbba</guid>
            <pubDate>Mon, 19 Jun 2023 06:03:18 GMT</pubDate>
            <content:encoded><![CDATA[ã“ã‚Œã¯ä½•Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ç®¡ç†è€…ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºè€…ãŒåˆ†æ¥­ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ï¼Œé–‹ç™ºè€…ãŒå¿…ãšã—ã‚‚ Kubernetes ã«è©³ã—ããªã„å ´åˆã‚’æƒ³å®šã—ï¼Œé–‹ç™ºæ™‚ã«ä½¿ã„ãã†ãª kubectl ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚¿ç®¡ç†è€…ã‹ã‚‰é–‹ç™ºè€…ã«ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é©å®œæ”¹å¤‰ã—ã¦æ¸¡ã—ï¼Œé–‹ç™ºè€…ãŒã‚ã‚‹ç¨‹åº¦è‡ªç«‹ã—ã¦æ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã§ï¼Œç®¡ç†è€…ã¸ã®å•ã„åˆã‚ã›è² è·ã‚’æ¸›ã‚‰ã™ã®ãŒç‹™ã„ã§ã™ã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ãƒãƒ³ã‚ºã‚ªãƒ³ã§è¬›åº§ã‚’é–‹ã„ã¦ã‚‚ã‚ˆã„ã§ã—ã‚‡ã†ã€‚ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¡ˆã“ã“ã§ã¯ Amazon EKS ã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚åˆ¥ã®ã‚¤ãƒ³ãƒ•ãƒ©ã«æ§‹ç¯‰ã—ã¦ã„ã‚‹å ´åˆã¯é©å®œæ›¸ãæ›ãˆ...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å¤ã«å‘ã‘ã¦ã€ä½“ã‚‚ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚‚æ¸›é‡ï¼ˆè»½é‡åŒ–ï¼‰ã•ã›ã‚ˆã†ï¼]]></title>
            <link>https://qiita.com/yokoo-an209/items/0297808af40c1a74928e</link>
            <guid>https://qiita.com/yokoo-an209/items/0297808af40c1a74928e</guid>
            <pubDate>Mon, 19 Jun 2023 02:46:48 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«dockerã§æ§‹ç¯‰ã—ã¦ã„ã‚‹Next.jsã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®imageã‚’Amazon ECRã«pushã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ã€pushã®ã‚ã¾ã‚Šã®é…ã•ã«ã³ã£ãã‚Šã—ãŸã®ãŒã“ã¨ã®ç™ºç«¯ã§â€¦]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Terraform é™çš„æ¤œæŸ»ãƒ„ãƒ¼ãƒ«æ¯”è¼ƒ]]></title>
            <link>https://zenn.dev/tayusa/articles/9829faf765ab67</link>
            <guid>https://zenn.dev/tayusa/articles/9829faf765ab67</guid>
            <pubDate>Thu, 15 Jun 2023 17:00:00 GMT</pubDate>
            <content:encoded><![CDATA[å¯¾è±¡tfsectflintKICSCheckovSnyk tfsechttps://github.com/aquasecurity/tfsechttps://aquasecurity.github.io/tfsec/v1.28.1 ç‰¹å¾´CIç³»å…¬å¼ã®docker imageãŒã‚ã‚‹https://github.com/aquasecurity/tfsec#use-with-dockerGitHub ActionãŒã‚ã‚‹https://github.com/aquasecurity/tfsec-pr-commenter-actionGitH...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[editcap ã§ tcpdump ã®ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æŒ‡å®šã®æ™‚é–“å¸¯ã‚’åˆ‡ã‚Šå‡ºã™]]></title>
            <link>https://blog.1q77.com/2023/06/editcap/</link>
            <guid>https://blog.1q77.com/2023/06/editcap/</guid>
            <pubDate>Thu, 15 Jun 2023 14:46:42 GMT</pubDate>
            <content:encoded><![CDATA[ã¡ã‚‡ã£ã¨å¤§ãã‚ (æ™‚é–“ç¯„å›²ã®åºƒã„) pcap ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã£ã¦ã€wireshark ã§è¦‹ã‚‹ã«ã—ã¦ã‚‚ã¡ã‚‡ã£ã¨å¤§ãã™ãã‚‹ãªã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚ è¦‹ãŸã„æ™‚é–“å¸¯ã ã‘ã«çµã£ãŸãƒ•ã‚¡ã‚¤ãƒ«]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[GitHub ã® Reusable workflow ã§ working-directory ã«å¤‰æ•°ã‚’ä½¿ã†]]></title>
            <link>https://zenn.dev/toshikish/articles/be970407f02098</link>
            <guid>https://zenn.dev/toshikish/articles/be970407f02098</guid>
            <pubDate>Thu, 15 Jun 2023 05:22:24 GMT</pubDate>
            <content:encoded><![CDATA[ã‚„ã‚ŠãŸã„ã“ã¨GitHub Actions ã® reusable workflow ã§ï¼Œä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å…¥åŠ›å¤‰æ•°ã§å¤‰ãˆãŸã„å ´åˆã‚’è€ƒãˆã¾ã™ã€‚on:  workflow_call:    inputs:      workdir:        required: true        type: string ã†ã¾ãã„ã‹ãªã„æ–¹æ³•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š defaults.run.working-directory ã§ã¯ï¼Œç¾æ™‚ç‚¹ã§ã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨å¼ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ï¼Œå…¥åŠ›å¤‰æ•°ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’å—ã‘å–ã£ã¦ä¸Šè¨˜ã«å…¥ã‚Œã¦ã‚‚å‹•ä½œã—ã¾ã›ã‚“ã€‚...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Kubeconformã‚’GitLab CIã«çµ„ã¿è¾¼ã‚“ã§ã€k8sã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒAPIã®ä»•æ§˜ã«æ²¿ã†ã‹æ¤œæŸ»ã™ã‚‹]]></title>
            <link>https://zenn.dev/tayusa/articles/1aa96e6ceb838a</link>
            <guid>https://zenn.dev/tayusa/articles/1aa96e6ceb838a</guid>
            <pubDate>Sun, 11 Jun 2023 17:19:45 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«k8sãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’æ™®æ®µç®¡ç†ã—ã¦ã„ãªã„ãƒ¡ãƒ³ãƒãƒ¼ãŒãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹å ´é¢ãŒã‚ã‚Šã¾ã™ã€‚ãã®éš›ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å‡ºæ¥ã‚‹ã ã‘è‡ªå‹•åŒ–ã—ãŸãkubeconformã‚’å°å…¥ã—ã¾ã—ãŸã€‚ Kubeconformãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒAPIã®ä»•æ§˜ã«æ²¿ã†ã‹æ¤œæŸ»ã—ã¦ãã‚Œã¾ã™ã€‚https://github.com/yannh/kubeconformè‡ªåˆ†ã§ã‚¹ã‚­ãƒ¼ãƒã‚’ç”¨æ„ã™ã‚Œã°Istioã€Argo Rolloutsã€Argo Workflowsã®ã‚ˆã†ãªå¤–éƒ¨ã®APIã‚‚æ¤œæŸ»ã§ãã¾ã™ã€‚ ã‚¹ã‚­ãƒ¼ãƒã®ç”Ÿæˆã‚¹ã‚­ãƒ¼ãƒã®ç”Ÿæˆã¯pythonã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’CRDã‚’å¼•æ•°ã§æ¸¡ã—å®Ÿè¡Œã—ã¾...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[plutoã‚’GitLab CIã«çµ„ã¿è¾¼ã‚“ã§éæ¨å¥¨ã®k8s apiVersionã‚’æ¤œå‡ºã™ã‚‹]]></title>
            <link>https://zenn.dev/tayusa/articles/79a3f54d8f21bc</link>
            <guid>https://zenn.dev/tayusa/articles/79a3f54d8f21bc</guid>
            <pubDate>Sun, 11 Jun 2023 17:18:13 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«k8sã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä¸ŠãŒã‚‹ã¨APIãŒå†ç·¨æˆã•ã‚ŒãŸã‚Šã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚Šã—ã¾ã™ã€‚æ–°ã—ã„APIãŒå‡ºã‚‹ã¨å¤ã„APIã¯éæ¨å¥¨ã«ãªã‚Šæœ€çµ‚çš„ã«ã¯å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ãªã®ã§ã€k8sã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã¯Deprecated API Migration Guideãªã©ã‚’è¦‹ã¦éæ¨å¥¨ã®apiVersionãŒä½¿ã‚ã‚Œã¦ã„ãªã„ã‹ç¢ºèªã—ã¦æ™‚ã«ã¯ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚https://kubernetes.io/docs/reference/using-api/deprecation-guide/ä¾‹CronJob ã® batch/v1beta1 -> batch/v1 plutoplu...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Istio Canary Upgrade by Helm]]></title>
            <link>https://zenn.dev/tayusa/articles/03cf961e2409bd</link>
            <guid>https://zenn.dev/tayusa/articles/03cf961e2409bd</guid>
            <pubDate>Sun, 11 Jun 2023 17:17:37 GMT</pubDate>
            <content:encoded><![CDATA[å‰æhelmfileã‚’åˆ©ç”¨istioã®revisionTagã‚’åˆ©ç”¨é–¢ä¿‚ã®ãªã„è¨­å®šã¯çœç•¥ Upgradeã®å‰ã«Install ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆâ”œâ”€â”€ helmfile_istio-base.yamlâ”œâ”€â”€ helmfile_istio-ingressgateway.yamlâ”œâ”€â”€ helmfile_istiod-1-16-0.yamlâ””â”€â”€ values    â”œâ”€â”€ istio-base.yaml    â”œâ”€â”€ istio-ingressgateway.yaml    â””â”€â”€ istiod.yaml helmfile helmfile_isti...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Helmã«å…¥é–€ã—ãŸã®ã§ã€èº“ã„ãŸã¨ã“ã‚ã‚’æŒ¯ã‚Šè¿”ã‚‹]]></title>
            <link>https://zenn.dev/tayusa/articles/e9285c6c4c09a1</link>
            <guid>https://zenn.dev/tayusa/articles/e9285c6c4c09a1</guid>
            <pubDate>Sun, 11 Jun 2023 17:16:25 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«ã‚¢ãƒ—ãƒªã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’ç®¡ç†ã™ã‚‹ã®ã«Kustomizeã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã™ãŒã€åŒã˜ã‚ˆã†ãªãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãŒä¹±ç«‹ã—ãŸã®ã§ç®¡ç†ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«Helmã«ç§»è¡Œã—ã¾ã—ãŸã€‚Helmã‚’ä¸€ã‹ã‚‰æ›¸ã„ãŸã®ã¯åˆã‚ã¦ã ã£ãŸã®ã§ã€èº“ã„ãŸç‚¹ã‚’ã“ã“ã«æ®‹ã—ã¾ã™ã€‚ quoteé–¢æ•°ã®é€²æ•°å¤‰æ›0ã‹ã‚‰å§‹ã¾ã‚‹æ•°å€¤ã‚’quoteé–¢æ•°ã‚’ä½¿ã£ã¦æ–‡å­—åˆ—ã«ã™ã‚‹ã¨é€²æ•°å¤‰æ›ãŒèµ·ã“ã‚Šæƒ³å®šã—ãŸå€¤ã§ã¯ãªããªã‚‹ä¸‹è¨˜ã®ã‚ˆã†ãªtemplateã§idã¨ã—ã¦0000000060ã®ã‚ˆã†ãªå€¤ã‚’æ¸¡ã™ã¨ã€8é€²æ•°ã¨ã—ã¦è§£é‡ˆã•ã‚Œ10é€²æ•°ã§ã‚ã‚‹48ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚...id: {{ .id | quote }}...0ã‹ã‚‰å§‹ã¾ã‚‹æ•°å€¤ã¯tem...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Goè¨€èªã§Netlinkã‚’å°‘ã—è§¦ã£ãŸè©±]]></title>
            <link>https://zenn.dev/bells17/articles/netlink-goexample</link>
            <guid>https://zenn.dev/bells17/articles/netlink-goexample</guid>
            <pubDate>Thu, 08 Jun 2023 18:03:10 GMT</pubDate>
            <content:encoded><![CDATA[Goè¨€èªã§Netlinkã‚’å°‘ã—è§¦ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚å…·ä½“çš„ã«ã¯Goè¨€èªã§Netlinkã¨ã„ã†ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦Static Routeã‚’è¨­å®šã—ãŸã‚Šã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œã£ãŸã‚Šã—ãŸã€‚https://github.com/bells17/netlink-gosample Netlinkã¨ã¯èª¿ã¹ãŸç¯„å›²ã ã¨ã€Linuxã‚«ãƒ¼ãƒãƒ«ã®ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®1ã¤ã§ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç®¡ç†ãªã©ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®è¨­å®šãªã©ã‚’è¡Œã†éš›ã«åˆ©ç”¨ã•ã‚Œã‚‹ã‚‚ã®ã€ã¨ã„ã†ç†è§£ã‚’ã—ã¦ã„ã‚‹ã€‚Netlinkã¯ã€Linuxã‚«ãƒ¼ãƒãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ç©ºé–“ãƒ—ãƒ­ã‚»ã‚¹é–“ã®ã€ã¾ãŸã¯ã‚«ãƒ¼ãƒãƒ«å†…ã®é€šä¿¡ã‚’æä¾›ã™ã‚‹ãŸã‚ã®IPCï¼ˆInter-pro...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Kubernetes 1.27 ä»¥é™ã®ãƒãƒƒãƒå‡¦ç†ã®æ”¹å–„]]></title>
            <link>https://zenn.dev/toversus/articles/d6065bea460871</link>
            <guid>https://zenn.dev/toversus/articles/d6065bea460871</guid>
            <pubDate>Thu, 08 Jun 2023 03:46:32 GMT</pubDate>
            <content:encoded><![CDATA[Kubernetes 1.27 ä»¥é™ã§å®Ÿè£…æ¸ˆã¿ã¾ãŸã¯äºˆå®šã•ã‚Œã¦ã„ã‚‹ãƒãƒƒãƒå‡¦ç†ã®æ”¹å–„ã«ç¹‹ãŒã‚‹ KEP ã‚„ Kubernetes ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾çŠ¶ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚ KEP-3673: Kubelet limit of Parallel Image Pulls!Kubernetes 1.27 æ™‚ç‚¹ã§ã‚¢ãƒ«ãƒ•ã‚¡æ©Ÿèƒ½ã§ã™ã€‚1.28 ã§ãƒ™ãƒ¼ã‚¿ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ãŒã€è¨­å®šã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚Pod ã®èµ·å‹•ã«ãƒãƒ¼ãƒ‰ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆãŒå¿…è¦ãªå ´åˆã«ã€Pod ã®èµ·å‹•æ™‚é–“ã®çŸ­ç¸®ãŒæœŸå¾…ã§ãã¾ã™ã€‚ãƒãƒƒãƒå‡¦ç†ã® Pod ãŒä¸€æ–‰ã«èµ·å‹•ã™ã‚‹ã‚±ãƒ¼ã‚¹ã§æ©æµã‚’å—ã‘ã‚‰ã‚Œãã†ã§ã™ã€‚Kubelet ã¯...]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[asdf ã®ä»£ã‚ã‚Šã« rtx ã‚’ä½¿ã†]]></title>
            <link>https://blog.1q77.com/2023/06/rtx/</link>
            <guid>https://blog.1q77.com/2023/06/rtx/</guid>
            <pubDate>Wed, 07 Jun 2023 01:25:11 GMT</pubDate>
            <content:encoded><![CDATA[nodeenv ã¨ã‹ rbenv ã¨ã‹ tfenv ã¨ã‹ XXenv ãŒãã‚Œãã‚Œ .xxx-version ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã§ä½¿ç”¨ã™ã‚‹ software ã® version ã‚’æŒ‡å®šã™ã‚‹ã¨ã„ã†ä»•æ§˜ãŒã‚ã‚Šã€ãã‚Œã‚‰ã‚’ã¾ã¨ã‚ã¦ã‚„ã£ã¦ãã‚Œã‚‹ asdf ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ãŒç™»å ´]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ãŠå‰ã®ãƒ‘ã‚±ãƒƒãƒˆã¯ã‚‚ã†æ­»ã‚“ã§ã„ã‚‹ã€‚TCPã«æ­»äº¡ãƒ•ãƒ©ã‚°ã‚’å®Ÿè£…ã—ã¦ã¿ãŸ]]></title>
            <link>https://zenn.dev/satoken/articles/golang-rfc9401</link>
            <guid>https://zenn.dev/satoken/articles/golang-rfc9401</guid>
            <pubDate>Wed, 07 Jun 2023 00:32:17 GMT</pubDate>
            <content:encoded><![CDATA[ã¯ã˜ã‚ã«ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä»•æ§˜ãªã©IETFãŒç™ºè¡Œã—ã¦ã„ã‚‹RFCã«ã¯ã‚¸ãƒ§ãƒ¼ã‚¯RFCã¨ã„ã†ã‚‚ã®ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ä¼æ›¸é³©ã§IPé€šä¿¡ã™ã‚‹ã¨ã‹ã€ã‚³ãƒ¼ãƒ’ãƒ¼ãƒãƒƒãƒˆã‚’åˆ¶å¾¡ã™ã‚‹ãªã©ãŒæœ‰åã§ã™ã€‚é³¥é¡ã‚­ãƒ£ãƒªã‚¢ã«ã‚ˆã‚‹IPHyper Text Coffee Pot Control Protocol (HTCPCP/1.0) æ—¥æœ¬èªè¨³ä»Šå¹´ãã‚“ãªã‚¸ãƒ§ãƒ¼ã‚¯RFCã«ã€TCPã«æ­»äº¡ãƒ•ãƒ©ã‚°ã‚’å®Ÿè£…ã™ã‚‹ã¨ã„ã†RFC9401ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚The Addition of the Death (DTH) Flag to TCP æ—¥æœ¬èªè¨³ã“ã®è¨˜äº‹ã§ã¯ã“ã®TCPã«æ­»äº¡ãƒ•ãƒ©ã‚°ã‚’å®Ÿè£…ã™ã‚‹ã¨ã„ã†RFC9401ã‚’çœŸé¢ç›®ã«å®Ÿè£…ã—ã¦ã¿...]]></content:encoded>
        </item>
    </channel>
</rss>