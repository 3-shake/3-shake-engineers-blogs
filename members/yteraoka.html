<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon shortcut" type="image/png" href="https://blog.3-shake.com//logo.png"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/><title>yteraoka | 3-shake Engineers&#x27; Blogs</title><meta property="og:title" content="yteraoka"/><meta property="og:url" content="https://blog.3-shake.com//members/yteraoka"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site" content="3-shake Engineers&#x27; Blogs"/><meta property="og:image" content="https://blog.3-shake.com//og.png"/><link rel="canonical" href="https://blog.3-shake.com//members/yteraoka"/><link rel="preload" href="/_next/static/css/dee6e29324b1364f347a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dee6e29324b1364f347a.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-8a83f0fd99327c4684a8.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9e003f150a446b53bdd9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-1a98368b242d5422e7a2.js" as="script"/><link rel="preload" href="/_next/static/chunks/81b50c7ab23905e464b4340eb234bd6ea389d26b.59a485dcc6af6bc16013.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/members/%5Bid%5D-c86b263a3b72cf772df9.js" as="script"/></head><body><div id="__next"><header class="site-header"><div class="content-wrapper"><div class="site-header__inner"><a class="site-header__logo-link" href="/"><img src="/logo.svg" alt="3-shake Engineers&#x27; Blogs" class="site-header__logo-img"/><span class="site-header__logo-text">3-shake<br/>Engineers&#x27; Blogs</span></a><div class="site-header__links"><a class="site-header__link" href="/feed.xml">RSS</a><a href="https://3-shake.com/category/recruit/" class="site-header__link">Recruit</a><a href="https://3-shake.com/" class="site-header__link">Company</a></div></div></div></header><section class="member"><div class="content-wrapper"><header class="member-header"><div class="member-header__avatar"><img src="/avatars/yteraoka.jpeg" alt="yteraoka" width="100" height="100" class="member-header__avatar-img"/></div><h1 class="member-header__name">yteraoka</h1><p class="member-header__bio">ojisan</p><div class="member-header__links"><a href="https://twitter.com/yteraoka" class="member-header__link"><img src="/icons/twitter.svg" alt="Twitterのユーザー@yteraoka" width="22" height="22"/></a><a href="https://github.com/yteraoka" class="member-header__link"><img src="/icons/github.svg" alt="GitHubのユーザー@yteraoka" width="22" height="22"/></a><a href="https://blog.1q77.com/" class="member-header__link"><img src="/icons/link.svg" alt="ウェブサイトのリンク" width="22" height="22"/></a></div></header><div class="member-posts-container"><div class="post-list"><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2023-01-12T14:40:51.000Z" class="post-link__date">a day ago</time></div></a><a href="https://blog.1q77.com/2023/01/xmllint-html-xpath/" class="post-link__main-link"><h2 class="post-link__title">xmllint で HTML 内の任意の値を取り出す</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a><div class="post-link__new-label">NEW</div></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-29T15:49:47.000Z" class="post-link__date">15 days ago</time></div></a><a href="https://blog.1q77.com/2022/12/lima-vz/" class="post-link__main-link"><h2 class="post-link__title">Lima の vmType VZ と virtiofs を試す</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-28T11:26:10.000Z" class="post-link__date">16 days ago</time></div></a><a href="https://blog.1q77.com/2022/12/rbspy/" class="post-link__main-link"><h2 class="post-link__title">rbspy で ruby の stacktrace を flamegraph にする</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-27T03:52:31.000Z" class="post-link__date">18 days ago</time></div></a><a href="https://blog.1q77.com/2022/12/updage-go-mod/" class="post-link__main-link"><h2 class="post-link__title">go.mod の更新</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-09T09:28:06.000Z" class="post-link__date">a month ago</time></div></a><a href="https://qiita.com/yteraoka/items/561276f67ad4571ff9f3" class="post-link__main-link"><h2 class="post-link__title">Site Reliability Engineering</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-07T13:42:05.000Z" class="post-link__date">a month ago</time></div></a><a href="https://blog.1q77.com/2022/12/issue-the-certificate-using-existing-private-key-with-lego/" class="post-link__main-link"><h2 class="post-link__title">lego で既存の秘密鍵を使って証明書を発行する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-12-03T16:34:52.000Z" class="post-link__date">a month ago</time></div></a><a href="https://qiita.com/yteraoka/items/7e6db7111a061f5e22e4" class="post-link__main-link"><h2 class="post-link__title">Grafana OnCall で Twilio を使って電話を受ける</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-11-10T23:38:02.000Z" class="post-link__date">2 months ago</time></div></a><a href="https://blog.1q77.com/2022/11/rpm-scripts/" class="post-link__main-link"><h2 class="post-link__title">RPM の install, uninstall 時に実行される script の確認</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-30T14:56:34.000Z" class="post-link__date">2 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/mac-etc-resolver/" class="post-link__main-link"><h2 class="post-link__title">/etc/hosts で wildcard や CNAME 対応させたい</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-26T14:34:28.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/gitlab-ci-kaniko-and-trivy/" class="post-link__main-link"><h2 class="post-link__title">Gitlab Ci で Kaniko build し Trivy で scan する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-21T15:33:40.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/asm-access-log/" class="post-link__main-link"><h2 class="post-link__title">Anthos Service Mesh の Outbound Access Log を出力する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-18T13:36:49.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/kubernetes-resize-statefulset-volume/" class="post-link__main-link"><h2 class="post-link__title">Kubernetes で StatefulSet の Volume を resize する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-15T15:11:55.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/iphone-dns-over-https/" class="post-link__main-link"><h2 class="post-link__title">DNS over HTTPS 通信の中身を確認する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-15T13:06:00.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/apt-key-is-deprecated/" class="post-link__main-link"><h2 class="post-link__title">apt-key is deprecated への対応</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-10-14T13:10:09.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://blog.1q77.com/2022/10/iphone-packet-capture/" class="post-link__main-link"><h2 class="post-link__title">iPhone の通信を覗く</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-09-06T08:13:57.000Z" class="post-link__date">4 months ago</time></div></a><a href="https://qiita.com/yteraoka/items/4471e548fb556ef740f4" class="post-link__main-link"><h2 class="post-link__title">TiDB 入門 (tiup playground)</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-08-12T12:19:57.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://blog.1q77.com/2022/08/delete-failed-pod-periodically/" class="post-link__main-link"><h2 class="post-link__title">Graceful Node Shutdown で Terminated 状態で残る Pod を削除する cronjob</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-08-12T11:51:14.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://blog.1q77.com/2022/08/stop-istio-proxy-using-envoy-sidecar-helper/" class="post-link__main-link"><h2 class="post-link__title">envoy-sidecar-helper で Job の終了後に istio-proxy を停止させる</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-08-09T11:13:48.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://blog.1q77.com/2022/08/create-gke-service-neg-using-terraform/" class="post-link__main-link"><h2 class="post-link__title">GKE Service の NEG を Terraform で作成する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-06-07T07:34:29.000Z" class="post-link__date">7 months ago</time></div></a><a href="https://blog.1q77.com/2022/06/istio-proxy-log-level/" class="post-link__main-link"><h2 class="post-link__title">istio-proxy の log level を変更する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-06-04T16:04:52.000Z" class="post-link__date">7 months ago</time></div></a><a href="https://blog.1q77.com/2022/06/using-mizu-part-1/" class="post-link__main-link"><h2 class="post-link__title">Mizu で kubernetes 内の通信を覗く (part 1)</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-02-26T15:52:27.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2022/02/istio-exit-on-zero-active-connections/" class="post-link__main-link"><h2 class="post-link__title">istio sidecar の停止を connection がなくなるまで遅らせる</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-01-08T05:27:39.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2022/01/telepresence-part-2/" class="post-link__main-link"><h2 class="post-link__title">telepresence 入門 (2)</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2022-01-04T16:23:46.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2022/01/docker-on-lima/" class="post-link__main-link"><h2 class="post-link__title">Docker on Lima</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-12-31T14:54:43.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/12/telepresence-part-1/" class="post-link__main-link"><h2 class="post-link__title">telepresence 入門 (1)</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-12-31T07:28:54.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/12/cloudfront-security-headers/" class="post-link__main-link"><h2 class="post-link__title">CloudFront のレスポンスに Security Headers を追加する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-09-30T15:16:00.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/10/inode-on-eks-node/" class="post-link__main-link"><h2 class="post-link__title">EKS の node で inotify の上限</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-09-23T14:20:51.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/09/podman-on-mac/" class="post-link__main-link"><h2 class="post-link__title">mac で podman</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-09-19T16:58:10.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/09/lima/" class="post-link__main-link"><h2 class="post-link__title">Lima で nerdctl</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-09-18T16:07:27.000Z" class="post-link__date">a year ago</time></div></a><a href="https://blog.1q77.com/2021/09/replace-docker-desktop-with-minikube/" class="post-link__main-link"><h2 class="post-link__title">Docker Desktop の代わりに Minikube を使ってみる</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-04-10T14:44:13.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://blog.1q77.com/2021/04/step-ca-with-google-oidc/" class="post-link__main-link"><h2 class="post-link__title">Google 認証でクライアント証明書発行のセルフサービス化</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/yteraoka"><img src="/avatars/yteraoka.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">yteraoka</div><time dateTime="2021-04-04T04:03:47.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://blog.1q77.com/2021/04/terraform-dev_overrides/" class="post-link__main-link"><h2 class="post-link__title">Terraform でカスタム provider を使うための dev_overrides 設定</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=blog.1q77.com" width="14" height="14" class="post-link__site-favicon"/>blog.1q77.com</div></a></article></div><div class="post-list-load"><button class="post-list-load__button">LOAD MORE</button></div></div></div></section><footer class="site-footer"><div class="content-wrapper"><p>© <!-- -->3-shake Inc.</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"member":{"id":"yteraoka","name":"yteraoka","role":"SRE","bio":"ojisan","avatarSrc":"/avatars/yteraoka.jpeg","sources":["https://blog.1q77.com/index.xml","https://qiita.com/yteraoka/feed","https://medium.com/feed/@yteraoka","https://zenn.dev/yteraoka/feed"],"includeUrlRegex":"","twitterUsername":"yteraoka","githubUsername":"yteraoka","websiteUrl":"https://blog.1q77.com/"},"postItems":[{"title":"xmllint で HTML 内の任意の値を取り出す","contentSnippet":"サクッと shell script で HTML の中の何かを取り出したい時があります。 そんな時に使えるのが xmllint. しっかりやるなら python の Beautiful Soup を使ったりしますが、本当に簡単なことを簡単にやりたい場合に xmllint","link":"https://blog.1q77.com/2023/01/xmllint-html-xpath/","isoDate":"2023-01-12T14:40:51.000Z","dateMiliSeconds":1673534451000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Lima の vmType VZ と virtiofs を試す","contentSnippet":"Lima が version 0.14.0 で QEMU だけではなく macOS の Virtualization.Framework に対応していました。 vmtype という設定項目が増えています。 この新しい Framework では Host のディレクトリをマウントするのに virtiofs が使えるようになっており、","link":"https://blog.1q77.com/2022/12/lima-vz/","isoDate":"2022-12-29T15:49:47.000Z","dateMiliSeconds":1672328987000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"rbspy で ruby の stacktrace を flamegraph にする","contentSnippet":"中身をよく知らない Rails アプリでどこが遅いのかな？と思って rbspy ( github) を試してみたのでメモ。 とりあえず使って flamegraph を書き出してみたんだけどそもそも flamegraph がどういうものなのか分かっ","link":"https://blog.1q77.com/2022/12/rbspy/","isoDate":"2022-12-28T11:26:10.000Z","dateMiliSeconds":1672226770000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"go.mod の更新","contentSnippet":"たまに使い捨ての code を書いて放置する程度だと毎回ググってしまうのでメモ。 go.mod の更新は go get や go mod tidy で行うことができる。 go の version を更新\u003e go の version を更新 # go.mod 内の go の version は次のよ","link":"https://blog.1q77.com/2022/12/updage-go-mod/","isoDate":"2022-12-27T03:52:31.000Z","dateMiliSeconds":1672113151000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Site Reliability Engineering","contentSnippet":"これは 3-shake Advent Calendar 2022 9日目の蝉です。ポエムです。組織の Advent Calendar ですが、組織としての意見ではありません。早く SRE って3…","link":"https://qiita.com/yteraoka/items/561276f67ad4571ff9f3","isoDate":"2022-12-09T09:28:06.000Z","dateMiliSeconds":1670578086000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"lego で既存の秘密鍵を使って証明書を発行する","contentSnippet":"既存の秘密鍵を使って証明書を発行しなければいけないという特殊な環境ですぐに証明書を発行したいということがありました。 lego を使っての証明書発行はとても簡単ですが、デ","link":"https://blog.1q77.com/2022/12/issue-the-certificate-using-existing-private-key-with-lego/","isoDate":"2022-12-07T13:42:05.000Z","dateMiliSeconds":1670420525000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Grafana OnCall で Twilio を使って電話を受ける","contentSnippet":"Twilio Advent Calendar 4日目の記事です。今年 (2022年) の6月に「Introducing Grafana OnCall OSS, on-call management…","link":"https://qiita.com/yteraoka/items/7e6db7111a061f5e22e4","isoDate":"2022-12-03T16:34:52.000Z","dateMiliSeconds":1670085292000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"RPM の install, uninstall 時に実行される script の確認","contentSnippet":"ある RPM Package のインストール、アンインストール時にどんな処理が行われているのか確認したいことがある そんな時な rpm コマンドの --scripts オプションを使用する rpm -qp --scripts ./some.rpm","link":"https://blog.1q77.com/2022/11/rpm-scripts/","isoDate":"2022-11-10T23:38:02.000Z","dateMiliSeconds":1668123482000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"/etc/hosts で wildcard や CNAME 対応させたい","contentSnippet":"macOS での話です。(macOS Ventura でも機能することを確認しました) /etc/hosts で 203.0.113.2 *.example.com みたいに wildcard に対応させたいことが稀にあります。 また、AWS の Application Load Balancer のように IP アドレスの固定され","link":"https://blog.1q77.com/2022/10/mac-etc-resolver/","isoDate":"2022-10-30T14:56:34.000Z","dateMiliSeconds":1667141794000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Gitlab Ci で Kaniko build し Trivy で scan する","contentSnippet":"GitLab CI でコンテナイメージを Docker daemon の不要な Kaniko で build し、それを Trivy でスキャンする方法 まず、kaniko で --tarPath を指定して tar ファイルで書き出す 書き出す先を artifacts で指定したディレクトリ","link":"https://blog.1q77.com/2022/10/gitlab-ci-kaniko-and-trivy/","isoDate":"2022-10-26T14:34:28.000Z","dateMiliSeconds":1666794868000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Anthos Service Mesh の Outbound Access Log を出力する","contentSnippet":"Anthos Service Mesh のアクセスログはデフォルトでは Service への Inbound しか出力されません。 エラーが発生した場合は Outbound のログも出力されます。 出力先は Cloud Logging で HTTP の情報は Load Balancer などと同様に httpRequest という Object","link":"https://blog.1q77.com/2022/10/asm-access-log/","isoDate":"2022-10-21T15:33:40.000Z","dateMiliSeconds":1666366420000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Kubernetes で StatefulSet の Volume を resize する","contentSnippet":"Kubernetes で StatefulSet に volumeClaimTemplates を指定して Persistent Volume を使用している環境で volume のサイズを変更する方法。 素直に StatefulSet の manifest を変更して apply しようとすると次のように StatefulSet で更新可能なのは replicas, template, updateStragety だけだよとエラーに","link":"https://blog.1q77.com/2022/10/kubernetes-resize-statefulset-volume/","isoDate":"2022-10-18T13:36:49.000Z","dateMiliSeconds":1666100209000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"DNS over HTTPS 通信の中身を確認する","contentSnippet":"iPhone の HTTP(S) 通信を OWASP ZAP で覗いてみたたら 8.8.8.8, 8.8.4.4 に対して DNS over HTTPS の通信を見つけたのでどんなやり取りをしているのか確認してみた。 DNS over HTTPS でのリクエスト\u003e DNS over HTTPS でのリクエスト # リク","link":"https://blog.1q77.com/2022/10/iphone-dns-over-https/","isoDate":"2022-10-15T15:11:55.000Z","dateMiliSeconds":1665846715000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"apt-key is deprecated への対応","contentSnippet":"Debian 系の Linux で古いインストール手順なんかを見てコマンドをコピペしていると出くわすこのメッセージ Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)). package 署名の公開鍵の管理方法が変わったみたいです リ","link":"https://blog.1q77.com/2022/10/apt-key-is-deprecated/","isoDate":"2022-10-15T13:06:00.000Z","dateMiliSeconds":1665839160000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"iPhone の通信を覗く","contentSnippet":"先日 iPhone のアプリが https で通信している内容を覗いてみようと HTTP プロキシに OWSAP ZAP を指定して覗いてみました。 OWASP ZAP が動的に証明書を発行してくれるので、その発行元となる CA を iPhone に登","link":"https://blog.1q77.com/2022/10/iphone-packet-capture/","isoDate":"2022-10-14T13:10:09.000Z","dateMiliSeconds":1665753009000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"TiDB 入門 (tiup playground)","contentSnippet":"MySQL 互換の NewDB として最近気になっている TiDB について調査すべく、クラスタを手元で簡単にセットアップ可能な tiup playgroud コマンドを使って触ってみます。気にな…","link":"https://qiita.com/yteraoka/items/4471e548fb556ef740f4","isoDate":"2022-09-06T08:13:57.000Z","dateMiliSeconds":1662452037000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Graceful Node Shutdown で Terminated 状態で残る Pod を削除する cronjob","contentSnippet":"GKE (GKE 限定な話ではないけれども) で Preemptible な node を使用していると Graceful Node Shutdown により停止させられた Pod が Failed 状態でどんどん溜まっていって結構邪魔です。 できれば消えて欲しい。 ということ","link":"https://blog.1q77.com/2022/08/delete-failed-pod-periodically/","isoDate":"2022-08-12T12:19:57.000Z","dateMiliSeconds":1660306797000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"envoy-sidecar-helper で Job の終了後に istio-proxy を停止させる","contentSnippet":"Istio を導入した環境で Job (CronJob) を実行すると、sidecar としての istio-proxy コンテナを Job 本来の処理が終わった後に istio-proxy コンテナを終了させないといつまで経っても Pod が終了しないという課","link":"https://blog.1q77.com/2022/08/stop-istio-proxy-using-envoy-sidecar-helper/","isoDate":"2022-08-12T11:51:14.000Z","dateMiliSeconds":1660305074000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"GKE Service の NEG を Terraform で作成する","contentSnippet":"GKE の Ingress で Load Balancer を作成すると、同一 namespace 内の Service にしか振り分けられないとか、単一の Cluster でしか使えないとか不都合な場合があります。その場合 Load Balancer 関連のリソースは Terraform で作成したくな","link":"https://blog.1q77.com/2022/08/create-gke-service-neg-using-terraform/","isoDate":"2022-08-09T11:13:48.000Z","dateMiliSeconds":1660043628000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"istio-proxy の log level を変更する","contentSnippet":"Istio でよくわからない通信の問題が発生した際、Envoy の access log だけでは何が起きているのかわからない場合があります。そんなとき、当該 Pod の LogLevel を debug に変更することで得られる","link":"https://blog.1q77.com/2022/06/istio-proxy-log-level/","isoDate":"2022-06-07T07:34:29.000Z","dateMiliSeconds":1654587269000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Mizu で kubernetes 内の通信を覗く (part 1)","contentSnippet":"Mizu - API Traffic viewer for Kubernetes というものの存在を知ったので試してみます。 サイトには次のように書いてあります。気になります。 Mizu offers a real-time view of all HTTP requests, REST and gRPC API calls, as well as Kafka, AMQP (activeMQ / RabbitMQ), and Redis. HTTP も gRPC","link":"https://blog.1q77.com/2022/06/using-mizu-part-1/","isoDate":"2022-06-04T16:04:52.000Z","dateMiliSeconds":1654358692000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"istio sidecar の停止を connection がなくなるまで遅らせる","contentSnippet":"新機能 EXIT_ON_ZERO_ACTIVE_CONNECTIONS\u003e 新機能 EXIT_ON_ZERO_ACTIVE_CONNECTIONS # 以前、「 Istio 導入への道 – sidecar の調整編」という記事で、Istio の sidecar (istio-proxy) が、アプリの終了を待たずに停止してしまってアプリ側が通信できなくなるという問題","link":"https://blog.1q77.com/2022/02/istio-exit-on-zero-active-connections/","isoDate":"2022-02-26T15:52:27.000Z","dateMiliSeconds":1645890747000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"telepresence 入門 (2)","contentSnippet":"前回の telepresence 入門 (1) の続きです。今回は Kubernetes クラスタの Service へのアクセスをインターセプトして手元の環境に転送することを試します。Kubernetes 側の volume も手元で mount させるし、","link":"https://blog.1q77.com/2022/01/telepresence-part-2/","isoDate":"2022-01-08T05:27:39.000Z","dateMiliSeconds":1641619659000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Docker on Lima","contentSnippet":"以前、「 Lima で nerdctl」という記事を書きました。その後、lima の VM 上で docker daemon を実行し、ホスト側から docker コマンドでアクセスするという方法があることを知りました。","link":"https://blog.1q77.com/2022/01/docker-on-lima/","isoDate":"2022-01-04T16:23:46.000Z","dateMiliSeconds":1641313426000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"telepresence 入門 (1)","contentSnippet":"telepresence というツールがあります。手元の端末が Kubernetes クラスタ内にいるかのような通信を可能にし、Kubernetes の Pod の Container への通信をインターセプトして手元の端末に流すことが","link":"https://blog.1q77.com/2021/12/telepresence-part-1/","isoDate":"2021-12-31T14:54:43.000Z","dateMiliSeconds":1640962483000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"CloudFront のレスポンスに Security Headers を追加する","contentSnippet":"「 Amazon CloudFront が設定可能な CORS、セキュリティ、およびカスタム HTTP レスポンスヘッダーをサポート」で Lambda@Edge なしで Response にカスタムヘッダーを追加することが可能になりました。 これを使","link":"https://blog.1q77.com/2021/12/cloudfront-security-headers/","isoDate":"2021-12-31T07:28:54.000Z","dateMiliSeconds":1640935734000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"EKS の node で inotify の上限","contentSnippet":"https://github.com/awslabs/amazon-eks-ami/pull/589/files inotify の上限に引っかかり、ssm でログインできなくなったりする。あまり古い EKS AMI を使っていなければ大丈夫","link":"https://blog.1q77.com/2021/10/inode-on-eks-node/","isoDate":"2021-09-30T15:16:00.000Z","dateMiliSeconds":1633014960000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"mac で podman","contentSnippet":"Docker Desktop 代替シリーズ第三部、Podman です。( 第一部 minkikube 編、 第二部 Lima + nerdctl 編) Podman については Red Hat さんのブログが大変参考になります。 今回の Docker 社によるライセンス周りの変更が","link":"https://blog.1q77.com/2021/09/podman-on-mac/","isoDate":"2021-09-23T14:20:51.000Z","dateMiliSeconds":1632406851000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Lima で nerdctl","contentSnippet":"Docker Desktop の代わりに docker cli + Minikube ってのを試しただけど、Kubernetes は docker を非推奨にしてるし、kubernetes は不要な場合は無駄が多いしなあ… ってこ","link":"https://blog.1q77.com/2021/09/lima/","isoDate":"2021-09-19T16:58:10.000Z","dateMiliSeconds":1632070690000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Docker Desktop の代わりに Minikube を使ってみる","contentSnippet":"Docker のおかげで今の便利なコンテナがあります、ありがとうございます。でもどうなるのかやってみたかったんです。 Goodbye Docker Desktop, Hello Minikube! を参考に試してみます。 環境は Intel Mac の Big Sur です。M","link":"https://blog.1q77.com/2021/09/replace-docker-desktop-with-minikube/","isoDate":"2021-09-18T16:07:27.000Z","dateMiliSeconds":1631981247000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Google 認証でクライアント証明書発行のセルフサービス化","contentSnippet":"以前、 caddy について調べてて発見した smallstep でクライアント証明書発行を便利にできないかなということで調査です。( Hashicorp Vault でもできるっぽいけど用途的にわざわざクラスタ組むの面倒","link":"https://blog.1q77.com/2021/04/step-ca-with-google-oidc/","isoDate":"2021-04-10T14:44:13.000Z","dateMiliSeconds":1618065853000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Terraform でカスタム provider を使うための dev_overrides 設定","contentSnippet":"healthchecks.io が大変便利なので Self-hosted なサーバーを用意して、設定を terraform で管理したいなあということがありまして、 terraform-provider-healthchecksio の接続先サーバーを指定可能にしようと思いました。provider のコ","link":"https://blog.1q77.com/2021/04/terraform-dev_overrides/","isoDate":"2021-04-04T04:03:47.000Z","dateMiliSeconds":1617509027000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"healthchecks.io でラズパイの生死監視","contentSnippet":"我が家では古いラズパイを VPN Server としてや、 定期的に GoogleHome を喋らせたり、Pi-hole サーバーとして使ってたりするのですが、たまにお亡くなりになっていることがあります。あ","link":"https://blog.1q77.com/2021/03/monitoring-raspberry-pi-with-healthchecks-io/","isoDate":"2021-03-02T15:03:45.000Z","dateMiliSeconds":1614697425000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"glibc, musl libc, go の resolver の違い","contentSnippet":"先日、resolv.conf で timeout を調整したいなと思うことがありました、しかし、Docker だの Kubernetes だのといった時代です。Linux しか使っていなかったとして…","link":"https://qiita.com/yteraoka/items/e74e8bf24f72f7ed5f15","isoDate":"2021-01-13T14:04:22.000Z","dateMiliSeconds":1610546662000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Istio の timeout, retry, circuit breaking, etc","link":"https://medium.com/sreake-jp/istio-%E3%81%AE-timeout-retry-circuit-breaking-etc-c170285447e8?source=rss-8b55af126a13------2","isoDate":"2020-10-17T14:52:08.000Z","dateMiliSeconds":1602946328000,"authorName":"yteraoka","authorId":"yteraoka"},{"title":"Chaos Mesh によるカオスエンジニアリング","link":"https://medium.com/sreake-jp/chaos-mesh-%E3%81%AB%E3%82%88%E3%82%8B%E3%82%AB%E3%82%AA%E3%82%B9%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%83%AA%E3%83%B3%E3%82%B0-46fa2897c742?source=rss-8b55af126a13------2","isoDate":"2020-06-02T03:16:16.000Z","dateMiliSeconds":1591067776000,"authorName":"yteraoka","authorId":"yteraoka"}]},"__N_SSG":true},"page":"/members/[id]","query":{"id":"yteraoka"},"buildId":"obTyxStemRinldLR9jkse","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["link",{"rel":"icon shortcut","type":"image/png","href":"https://blog.3-shake.com//logo.png"}],["link",{"href":"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700\u0026family=Roboto:wght@300;400;500;700\u0026display=swap","rel":"stylesheet"}],["title",{"children":"yteraoka | 3-shake Engineers' Blogs"}],["meta",{"property":"og:title","content":"yteraoka"}],["meta",{"property":"og:url","content":"https://blog.3-shake.com//members/yteraoka"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"property":"og:site","content":"3-shake Engineers' Blogs"}],["meta",{"property":"og:image","content":"https://blog.3-shake.com//og.png"}],["link",{"rel":"canonical","href":"https://blog.3-shake.com//members/yteraoka"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-8a83f0fd99327c4684a8.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" async=""></script><script src="/_next/static/chunks/commons.9e003f150a446b53bdd9.js" async=""></script><script src="/_next/static/chunks/pages/_app-1a98368b242d5422e7a2.js" async=""></script><script src="/_next/static/chunks/81b50c7ab23905e464b4340eb234bd6ea389d26b.59a485dcc6af6bc16013.js" async=""></script><script src="/_next/static/chunks/pages/members/%5Bid%5D-c86b263a3b72cf772df9.js" async=""></script><script src="/_next/static/obTyxStemRinldLR9jkse/_buildManifest.js" async=""></script><script src="/_next/static/obTyxStemRinldLR9jkse/_ssgManifest.js" async=""></script></body></html>